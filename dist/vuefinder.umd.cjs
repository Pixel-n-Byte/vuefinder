(function(e,ve){typeof exports=="object"&&typeof module<"u"?module.exports=ve(require("vue"),require("plupload")):typeof define=="function"&&define.amd?define(["vue","plupload"],ve):(e=typeof globalThis<"u"?globalThis:e||self,e.VueFinder=ve(e.Vue,e.plupload))})(this,function(e,ve){var _n;"use strict";const ot=(_n=document.querySelector('meta[name="csrf-token"]'))==null?void 0:_n.getAttribute("content"),it=(n,{method:t="get",params:o={},json:i=!0,signal:a=null})=>{const l={method:t};if(l.signal=a,t=="get")n+="?"+new URLSearchParams(o);else{l.headers={},ot&&(l.headers["X-CSRF-Token"]=ot);let u=new FormData;for(const[g,c]of Object.entries(o))u.append(g,c);l.body=u}return fetch(n,l).then(u=>u.ok?i?u.json():u.text():u.json().then(Promise.reject.bind(Promise)))};function In(n){return{all:n=n||new Map,on:function(t,o){var i=n.get(t);i?i.push(o):n.set(t,[o])},off:function(t,o){var i=n.get(t);i&&(o?i.splice(i.indexOf(o)>>>0,1):n.set(t,[]))},emit:function(t,o){var i=n.get(t);i&&i.slice().map(function(a){a(o)}),(i=n.get("*"))&&i.slice().map(function(a){a(t,o)})}}}function wt(n){let t=localStorage.getItem(n+"_storage");const o=e.ref(JSON.parse(t));e.watch(o,i);function i(){o.value===null||o.value===""?localStorage.removeItem(n+"_storage"):localStorage.setItem(n+"_storage",JSON.stringify(o.value))}function a(g,c){o.value=Object.assign({...o.value},{[g]:c})}function l(){o.value=null}return{getStore:(g,c=null)=>o.value===null||o.value===""?c:o.value.hasOwnProperty(g)?o.value[g]:c,setStore:a,clearStore:l}}const or=e.ref("");function fe(){function n(t){or.value=t}return{apiUrl:or,setApiUrl:n}}const An={class:"border-neutral-300 flex justify-end items-center py-1 text-sm relative"},Bn={key:0,class:"flex text-center"},Ln=["aria-label"],$n=[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 md:h-8 md:w-8 m-auto cursor-pointer stroke-gray-500 hover:stroke-cyan-700 dark:stroke-gray-400 dark:hover:stroke-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 10.5v6m3-3H9m4.06-7.19l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"})],-1)],jn=["aria-label"],On=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"},null,-1)],Pn=["aria-label"],zn=[e.createElementVNode("a",{type:"button",class:"custom-upload-button"},"Upload",-1)],Rn=["aria-label"],Hn=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5m6 4.125l2.25 2.25m0 0l2.25 2.25M12 13.875l2.25-2.25M12 13.875l-2.25 2.25M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"},null,-1)],Fn={key:1,class:"flex text-center"},Un={class:"pl-2"},Yn={class:"dark:bg-gray-700 bg-gray-200 text-xs px-2 py-1 rounded"},Zn={key:0,class:"animate-spin p-0.5 h-5 w-5 text-white ml-auto",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Wn=[e.createElementVNode("circle",{class:"opacity-25 stroke-blue-900 dark:stroke-blue-100",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e.createElementVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)],Kn={class:"flex text-center items-center justify-end"},Gn=["aria-label"],Xn=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"},null,-1)],qn=["aria-label"],Qn={xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 md:h-8 md:w-8 m-auto cursor-pointer stroke-gray-500 hover:stroke-cyan-700 dark:stroke-gray-400 dark:hover:stroke-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},Jn={key:0,"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 9V4.5M9 9H4.5M9 9L3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5l5.25 5.25"},eo={key:1,"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"},to=["aria-label"],ro={key:0,"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"},no={key:1,"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 010 3.75H5.625a1.875 1.875 0 010-3.75z"},oo=Object.assign({name:"VFToolbar"},{props:{data:Object},setup(n){const t=e.inject("emitter"),{getStore:o,setStore:i}=e.inject("storage"),{t:a}=e.inject("i18n"),l=e.ref(o("viewport","grid")),u=e.ref([]),g=e.ref(o("full-screen",!1)),c=e.ref("");t.on("vf-search-query",({newQuery:v})=>{c.value=v});const y=e.inject("loadingState"),m=()=>y.value,b=()=>{g.value=!g.value,t.emit("vf-fullscreen-toggle")};return t.on("vf-nodes-selected",v=>{u.value=v}),t.on("vf-view-toggle",v=>{i("viewport",v),l.value=v}),(v,x)=>(e.openBlock(),e.createElementBlock("div",An,[c.value.length?(e.openBlock(),e.createElementBlock("div",Fn,[e.createElementVNode("div",Un,[e.createTextVNode(e.toDisplayString(e.unref(a)("Search results for"))+" ",1),e.createElementVNode("span",Yn,e.toDisplayString(c.value),1)]),m()?(e.openBlock(),e.createElementBlock("svg",Zn,Wn)):e.createCommentVNode("",!0)])):(e.openBlock(),e.createElementBlock("div",Bn,[e.createElementVNode("div",{class:"mx-1.5","aria-label":e.unref(a)("New Folder"),"data-microtip-position":"bottom-right",role:"tooltip",onClick:x[0]||(x[0]=k=>e.unref(t).emit("vf-modal-show",{type:"new-folder",items:u.value}))},$n,8,Ln),e.createElementVNode("div",{class:"mx-1.5","aria-label":e.unref(a)("Delete"),"data-microtip-position":"bottom",role:"tooltip",onClick:x[1]||(x[1]=k=>!u.value.length||e.unref(t).emit("delete-button"))},[(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",class:e.normalizeClass([u.value.length?"cursor-pointer stroke-gray-500 hover:stroke-cyan-700 dark:stroke-gray-400 dark:hover:stroke-gray-300":"stroke-gray-200  dark:stroke-gray-700","h-6 w-6 md:h-8 md:w-8 m-auto"]),fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},On,2))],8,jn),e.createElementVNode("div",{class:"mx-1.5 cusom-upload-button-div absolute","aria-label":e.unref(a)("Upload"),"data-microtip-position":"bottom",onClick:x[2]||(x[2]=k=>e.unref(t).emit("vf-modal-show",{type:"upload",items:u.value}))},zn,8,Pn),u.value.length==1&&u.value[0].mime_type=="application/zip"?(e.openBlock(),e.createElementBlock("div",{key:0,class:"mx-1.5","aria-label":e.unref(a)("Unrchive"),"data-microtip-position":"bottom",role:"tooltip",onClick:x[3]||(x[3]=k=>!u.value.length||e.unref(t).emit("vf-modal-show",{type:"unarchive",items:u.value}))},[(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",class:e.normalizeClass([u.value.length?"cursor-pointer stroke-gray-500 hover:stroke-cyan-700 dark:stroke-gray-400 dark:hover:stroke-gray-300":"stroke-gray-200  dark:stroke-gray-700","h-6 w-6 md:h-8 md:w-8 m-auto"]),fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},Hn,2))],8,Rn)):e.createCommentVNode("",!0)])),e.createElementVNode("div",Kn,[e.createElementVNode("div",{class:"mx-1.5","aria-label":e.unref(a)("Dark Mode"),"data-microtip-position":"bottom",role:"tooltip"},[(e.openBlock(),e.createElementBlock("svg",{onClick:x[4]||(x[4]=k=>e.unref(t).emit("vf-darkMode-toggle")),viewBox:"0 0 24 24","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"h-6 w-6 m-auto cursor-pointer stroke-sky-500 fill-sky-100 hover:stroke-sky-600 dark:stroke-gray-400 dark:fill-gray-400/20 dark:hover:stroke-gray-300"},Xn))],8,Gn),e.createElementVNode("div",{class:"mx-1.5","aria-label":e.unref(a)("Toggle Full Screen"),"data-microtip-position":"bottom-left",role:"tooltip",onClick:b},[(e.openBlock(),e.createElementBlock("svg",Qn,[g.value?(e.openBlock(),e.createElementBlock("path",Jn)):(e.openBlock(),e.createElementBlock("path",eo))]))],8,qn),e.createElementVNode("div",{class:"mx-1.5","aria-label":e.unref(a)("Change View"),"data-microtip-position":"bottom-left",role:"tooltip",onClick:x[5]||(x[5]=k=>c.value.length||e.unref(t).emit("vf-view-toggle",l.value=="list"?"grid":"list"))},[(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",class:e.normalizeClass([c.value.length?"stroke-gray-200  dark:stroke-gray-700":"cursor-pointer stroke-gray-500 hover:stroke-cyan-700 dark:stroke-gray-400 dark:hover:stroke-gray-300","h-6 w-6 md:h-8 md:w-8 m-auto"]),fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},[l.value=="grid"?(e.openBlock(),e.createElementBlock("path",ro)):e.createCommentVNode("",!0),l.value=="list"?(e.openBlock(),e.createElementBlock("path",no)):e.createCommentVNode("",!0)],2))],8,to)])]))}}),_t="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NS4zMDIiIGhlaWdodD0iNDEuNDc3IiB2aWV3Qm94PSIwIDAgNTUuMzAyIDQxLjQ3NyI+CiAgPGcgaWQ9Ik9wZW5fRm9sZGVyIiBkYXRhLW5hbWU9Ik9wZW4gRm9sZGVyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIC0zKSI+CiAgICA8cGF0aCBpZD0iUGF0aF8yMjEiIGRhdGEtbmFtZT0iUGF0aCAyMjEiIGQ9Ik01MC41NjEsOEgxMS4zODhhNC42MDksNC42MDksMCwwLDAtNC40NywzLjVMLjE2NywzNC4yOTJhMS4xNTIsMS4xNTIsMCwwLDAsMCwuNzYsNC42MDksNC42MDksMCwwLDAsNC4zMDksMi45SDQzLjY0OGE0LjYwOSw0LjYwOSwwLDAsMCw0LjQyNC0zLjM0MWw2LjkxMy0yMC41MDhhMS4xMjgsMS4xMjgsMCwwLDAsMC0uMjA3LDQuNDcsNC40NywwLDAsMCwuMTg0LTEuMjlBNC42MDksNC42MDksMCwwLDAsNTAuNTYxLDhaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjEzMyA2LjUyMSkiIGZpbGw9IiM4MDhkOTMiLz4KICAgIDxwYXRoIGlkPSJQYXRoXzIyMiIgZGF0YS1uYW1lPSJQYXRoIDIyMiIgZD0iTTEuMTUyLDI2LjkxOEExLjE1MiwxLjE1MiwwLDAsMCwyLjMsMjYuMDQzbDIuNTEyLTguNjE4YTYuOTEzLDYuOTEzLDAsMCwxLDYuNzA1LTUuMjA4SDQ3LjAzYTEuMTUyLDEuMTUyLDAsMCwwLDEuMDgzLTEuNTQ0LDQuNjA5LDQuNjA5LDAsMCwwLTQuMzMyLTMuMDY1SDIyLjM3NEwxOC4wODgsMy4zNDZBMS4xNTIsMS4xNTIsMCwwLDAsMTcuMjgyLDNINC42MDlBNC42MDksNC42MDksMCwwLDAsMCw3LjYwOVYyNS43NjZBMS4xNTIsMS4xNTIsMCwwLDAsLjk5MSwyNi45WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAwKSIgZmlsbD0iIzgwOGQ5MyIvPgogIDwvZz4KPC9zdmc+Cg==";var io=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function so(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ir={exports:{}};(function(n,t){(function(o,i){n.exports=i()})(io,function(){function o(d,h){var r=d==null?null:typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(r!=null){var p,s,f,S,w=[],D=!0,L=!1;try{if(f=(r=r.call(d)).next,h===0){if(Object(r)!==r)return;D=!1}else for(;!(D=(p=f.call(r)).done)&&(w.push(p.value),w.length!==h);D=!0);}catch(z){L=!0,s=z}finally{try{if(!D&&r.return!=null&&(S=r.return(),Object(S)!==S))return}finally{if(L)throw s}}return w}}function i(d,h){var r=Object.keys(d);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(d);h&&(p=p.filter(function(s){return Object.getOwnPropertyDescriptor(d,s).enumerable})),r.push.apply(r,p)}return r}function a(d){for(var h=1;h<arguments.length;h++){var r=arguments[h]!=null?arguments[h]:{};h%2?i(Object(r),!0).forEach(function(p){c(d,p,r[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(p){Object.defineProperty(d,p,Object.getOwnPropertyDescriptor(r,p))})}return d}function l(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function u(d,h){for(var r=0;r<h.length;r++){var p=h[r];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,V(p.key),p)}}function g(d,h,r){return h&&u(d.prototype,h),r&&u(d,r),Object.defineProperty(d,"prototype",{writable:!1}),d}function c(d,h,r){return h=V(h),h in d?Object.defineProperty(d,h,{value:r,enumerable:!0,configurable:!0,writable:!0}):d[h]=r,d}function y(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),h&&b(d,h)}function m(d){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},m(d)}function b(d,h){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(p,s){return p.__proto__=s,p},b(d,h)}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function x(d,h,r){return v()?x=Reflect.construct.bind():x=function(s,f,S){var w=[null];w.push.apply(w,f);var D=Function.bind.apply(s,w),L=new D;return S&&b(L,S.prototype),L},x.apply(null,arguments)}function k(d){return Function.toString.call(d).indexOf("[native code]")!==-1}function C(d){var h=typeof Map=="function"?new Map:void 0;return C=function(p){if(p===null||!k(p))return p;if(typeof p!="function")throw new TypeError("Super expression must either be null or a function");if(typeof h<"u"){if(h.has(p))return h.get(p);h.set(p,s)}function s(){return x(p,arguments,m(this).constructor)}return s.prototype=Object.create(p.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),b(s,p)},C(d)}function M(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function $(d,h){if(h&&(typeof h=="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M(d)}function E(d){var h=v();return function(){var p=m(d),s;if(h){var f=m(this).constructor;s=Reflect.construct(p,arguments,f)}else s=p.apply(this,arguments);return $(this,s)}}function N(d,h){for(;!Object.prototype.hasOwnProperty.call(d,h)&&(d=m(d),d!==null););return d}function B(){return typeof Reflect<"u"&&Reflect.get?B=Reflect.get.bind():B=function(h,r,p){var s=N(h,r);if(s){var f=Object.getOwnPropertyDescriptor(s,r);return f.get?f.get.call(arguments.length<3?h:p):f.value}},B.apply(this,arguments)}function R(d,h){return H(d)||o(d,h)||Z(d,h)||oe()}function _(d){return A(d)||W(d)||Z(d)||ae()}function A(d){if(Array.isArray(d))return re(d)}function H(d){if(Array.isArray(d))return d}function W(d){if(typeof Symbol<"u"&&d[Symbol.iterator]!=null||d["@@iterator"]!=null)return Array.from(d)}function Z(d,h){if(d){if(typeof d=="string")return re(d,h);var r=Object.prototype.toString.call(d).slice(8,-1);if(r==="Object"&&d.constructor&&(r=d.constructor.name),r==="Map"||r==="Set")return Array.from(d);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return re(d,h)}}function re(d,h){(h==null||h>d.length)&&(h=d.length);for(var r=0,p=new Array(h);r<h;r++)p[r]=d[r];return p}function ae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ne(d,h){var r=typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(!r){if(Array.isArray(d)||(r=Z(d))||h&&d&&typeof d.length=="number"){r&&(d=r);var p=0,s=function(){};return{s,n:function(){return p>=d.length?{done:!0}:{done:!1,value:d[p++]}},e:function(D){throw D},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f=!0,S=!1,w;return{s:function(){r=r.call(d)},n:function(){var D=r.next();return f=D.done,D},e:function(D){S=!0,w=D},f:function(){try{!f&&r.return!=null&&r.return()}finally{if(S)throw w}}}}function X(d,h){if(typeof d!="object"||d===null)return d;var r=d[Symbol.toPrimitive];if(r!==void 0){var p=r.call(d,h||"default");if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(d)}function V(d){var h=X(d,"string");return typeof h=="symbol"?h:String(h)}var I=function(h,r,p){var s=h.x,f=h.y,S=p.x,w=p.y,D={"+":{x:s+S,y:f+w},"-":{x:s-S,y:f-w},"*":{x:s*S,y:f*w},"/":{x:s/S,y:f/w}};return D[r]},T=function(h){return{x:h.left,y:h.top}},q=function(h){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return{left:h.x,top:h.y,right:h.x,bottom:h.y,width:r,height:r}},O=function(h){return{x:h,y:h}},le=function(d,h){var r=h;window.addEventListener("resize",r),window.addEventListener("scroll",r);var p=new MutationObserver(r);d.forEach(function(f,S){p.observe(f,{childList:S!==0,attributes:!0})});var s=function(){return ih(p,r)};return{observer:p,callback:r,cleanup:s}},de=function(d){var h=bt(d);return h.x||h.y?!0:d instanceof Document?d.body?!!(d.body.scrollTop=1):!!(d.documentElement.scrollTop=1):!!(d.scrollTop=1)},gt=function(){var d=document.createElement("div");return d.style.position="fixed",d.style.overflow="hidden",d.style.pointerEvents="none",d.style.zIndex="999999999999999999",d},er=function(d){var h=document.createElement("div");return h.style.position="absolute",d||(h.style.background="rgba(0, 175, 255, 0.2)",h.style.border="1px solid rgba(0, 175, 255, 0.8)",h.style.display="none",h.style.pointerEvents="none"),h},yt=function(d,h){var r;return function(){for(var p=arguments.length,s=new Array(p),f=0;f<p;f++)s[f]=arguments[f];var S=function(){r=null,d.apply(void 0,s)};clearTimeout(r),r=setTimeout(S,h)}},tr=function(){var d,h,r,p;return{y:((d=document.body)===null||d===void 0?void 0:d.scrollTop)||((h=document.documentElement)===null||h===void 0?void 0:h.scrollTop)||0,x:((r=document.body)===null||r===void 0?void 0:r.scrollLeft)||((p=document.documentElement)===null||p===void 0?void 0:p.scrollLeft)||0}},xn=function(d){var h=function r(p){var s,f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,S=(s=p[f])===null||s===void 0?void 0:s.parentNode;return S?(p.push(S),f++,r(p,f)):p};return h([d])},Kd=function(d,h){if(d instanceof Document)return{top:0,left:0,bottom:0,right:0,width:window.innerWidth,height:window.innerHeight};var r=d.getBoundingClientRect();return{top:r.top,left:r.left,bottom:r.bottom,right:r.right,width:(d.clientWidth||r.width)*h,height:(d.clientHeight||r.height)*h}},kn=function(d,h){var r={top:Number.POSITIVE_INFINITY,left:Number.POSITIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,right:Number.NEGATIVE_INFINITY,width:Number.NEGATIVE_INFINITY,height:Number.NEGATIVE_INFINITY};return Me(d).forEach(function(p){var s=h.getRect(p);r.top=Math.min(r.top,s.top),r.left=Math.min(r.left,s.left),r.bottom=Math.max(r.bottom,s.bottom),r.right=Math.max(r.right,s.right)}),r.height=r.bottom-r.top,r.width=r.right-r.left,r},bt=function(d){return!d||d instanceof Document?tr():{x:d.scrollLeft>=0?d.scrollLeft:tr().x,y:d.scrollTop>=0?d.scrollTop:tr().y}},Dn=function(d){var h=d.elementRect,r=d.containerRect,p=d.tolerance,s=p===void 0?{x:0,y:0}:p,f=[];return h.top-s.y<r.top&&f.push("top"),h.left-s.x<r.left&&f.push("left"),h.bottom+s.y>r.bottom&&f.push("bottom"),h.right+s.y>r.right&&f.push("right"),f},Gd=function(d){var h=d.event;return{x:h.clientX,y:h.clientY}},Xd=function(d){var h=d.scrollAmount,r=d.initialPointerPos,p=d.pointerPos,s={};return p.x>r.x-h.x?(s.left=r.x-h.x,s.width=p.x-r.x+h.x):(s.left=p.x,s.width=r.x-p.x-h.x),p.y>r.y-h.y?(s.top=r.y-h.y,s.height=p.y-r.y+h.y):(s.top=p.y,s.height=r.y-p.y-h.y),s},En=function(h){var r={x:0,y:0},p=window.getComputedStyle(h);if(!p.transform||p.transform==="none")return r;if(p.transform.indexOf("3d")>=0){var s=p.transform.trim().match(/matrix3d\((.*?)\)/);if(s&&s.length){var f,S=(f=s[1])===null||f===void 0?void 0:f.split(",");r.x=parseInt(S[12])||0,r.y=parseInt(S[13])||0}return r}var w=p.transform.trim().match(/matrix\((.*?)\)/);if(w&&w.length){var D,L=(D=w[1])===null||D===void 0?void 0:D.split(",");r.x=parseInt(L[4])||0,r.y=parseInt(L[5])||0}return r},qd=function(h){var r=h.style.transform;if(!r||r.indexOf("translate")<0)return En(h);var p={x:0,y:0},s=r.trim().match(/translate[3dD]*?\(.*?\)/);if(s){var f,S=(f=s[0])===null||f===void 0?void 0:f.split("(");if(S){var w,D=(w=S[1])===null||w===void 0?void 0:w.split(",");p.x=parseInt(D[0])||0,p.y=parseInt(D[1])||0}}return!p.x&&!p.x?En(h):p},Qd=function(h){var r=h.style,p={x:parseInt(r.left)||0,y:parseInt(r.top)||0};if(!p.x&&!p.x){var s=window.getComputedStyle(h);return{x:parseInt(s.left)||0,y:parseInt(s.top)||0}}return p},Jd=function(d,h){return h?qd(d):Qd(d)},eh=function(d){var h=d.element,r=d.edges,p=d.elementRect,s=d.containerRect,f=d.elementPos,S=d.useTransform;r.includes("top")&&tt(h,{y:f.y+s.top-p.top,x:f.x},S),r.includes("left")&&tt(h,{y:f.y,x:f.x+s.left-p.left},S),r.includes("bottom")&&tt(h,{y:f.y+s.bottom-p.bottom,x:f.x},S),r.includes("right")&&tt(h,{y:f.y,x:f.x+s.right-p.right},S)},Nn=function(d){var h=d.computedStyle,r=d.node,p=h.position,s=p==="absolute"||p==="relative"||p==="fixed";!(r instanceof Document)&&!s&&(r.style.position="relative")},th=function(d){var h=d.shiftKey,r=d.keyboardDragSpeed,p=d.zoom,s=d.key,f=d.dragKeys,S=d.scrollDiff,w=d.canScroll,D=d.scrollCallback,L={x:0,y:0},z=h?r*4*p:r*p;return f.left.includes(s)&&(L.x=S.x||-z,!h&&!S.x&&w&&D(["left"],r)),f.right.includes(s)&&(L.x=S.x||z,!h&&!S.x&&w&&D(["right"],r)),f.up.includes(s)&&(L.y=S.y||-z,!h&&!S.y&&w&&D(["top"],r)),f.down.includes(s)&&(L.y=S.y||z,!h&&!S.y&&w&&D(["bottom"],r)),L},rh=function(d){var h=d.element,r=d.force,p=d.multiSelectionToggle,s=d.SelectedSet,f=d.hoverClassName;h.classList.contains(f)&&!r||(s.has(h)?p&&s.delete(h):s.add(h),h.classList.add(f))},nh=function(d){var h=d.element,r=d.force,p=d.SelectedSet,s=d.PrevSelectedSet,f=d.hoverClassName;if(!h.classList.contains(f)&&!r)return!1;var S=p.has(h),w=s.has(h);S&&!w?p.delete(h):!S&&w&&p.add(h),h.classList.remove(f)},et=function(h,r,p){return console.warn('[DragSelect] TypeIssue: setting "'.concat(h,'" is not of type "').concat(r,'".'))},P=function(h,r,p,s){if(r===void 0)return p?c({},h,s):{};if(r===null)return c({},h,null);var f=!0,S=!1,w=typeof s=="string";w&&(f=typeof r=="string"||r instanceof String),w&&!f&&(S=!0,et(h,"string"));var D=!Number.isNaN(s)&&typeof s=="number";D&&(f=!Number.isNaN(r)&&typeof r=="number"),D&&!f&&(S=!0,et(h,"number"));var L=Object.prototype.toString.call(s)==="[object Object]";L&&(f=Object.prototype.toString.call(r)==="[object Object]"),L&&!f&&(S=!0,et(h,"object"));var z=typeof s=="boolean";z&&(f=typeof r=="boolean"),z&&!f&&(S=!0,et(h,"boolean"));var Q=Array.isArray(s);Q&&(f=Array.isArray(r)),Q&&!f&&(S=!0,et(h,"array"));var he=S||p;return h==="dragKeys"&&f?c({},h,Object.assign(s,r)):h==="dragKeys"&&!f?he?c({},h,s):{}:(h==="dropZones"&&f&&new Set(r.map(function(ue){return ue.id})).size!==r.length&&console.warn('[DragSelect] UniqueConstraintsIssue: setting "dropZones" contains duplicate ids.'),f?c({},h,r):he?c({},h,s):{})},oh=function(d,h){return a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a(a({},P("area",d.area,h,document)),P("selectables",d.selectables,h,null)),P("autoScrollSpeed",d.autoScrollSpeed,h,5)),P("overflowTolerance",d.overflowTolerance,h,{x:25,y:25})),P("zoom",d.zoom,h,1)),P("customStyles",d.customStyles,h,!1)),P("multiSelectMode",d.multiSelectMode,h,!1)),P("multiSelectToggling",d.multiSelectToggling,h,!0)),P("multiSelectKeys",d.multiSelectKeys,h,["Control","Shift","Meta"])),P("selector",d.selector,h,null)),P("selectionThreshold",d.selectionThreshold,h,0)),P("draggability",d.draggability,h,!0)),P("immediateDrag",d.immediateDrag,h,!0)),P("keyboardDrag",d.keyboardDrag,h,!0)),P("dragKeys",d.dragKeys,h,{up:["ArrowUp"],down:["ArrowDown"],left:["ArrowLeft"],right:["ArrowRight"]})),P("keyboardDragSpeed",d.keyboardDragSpeed,h,10)),P("useTransform",d.useTransform,h,!0)),P("refreshMemoryRate",d.refreshMemoryRate,h,80)),P("dropZones",d.dropZones,h,[])),P("dropInsideThreshold",d.dropInsideThreshold,h,1)),P("dropTargetThreshold",d.dropTargetThreshold,h,0)),P("usePointerEvents",d.usePointerEvents,h,!1)),P("hoverClass",d.hoverClass,h,"ds-hover")),P("selectableClass",d.selectableClass,h,"ds-selectable")),P("selectedClass",d.selectedClass,h,"ds-selected")),P("selectorClass",d.selectorClass,h,"ds-selector")),P("selectorAreaClass",d.selectorAreaClass,h,"ds-selector-area")),P("droppedTargetClass",d.droppedTargetClass,h,"ds-dropped-target")),P("droppedInsideClass",d.droppedInsideClass,h,"ds-dropped-inside")),P("droppableClass",d.droppableClass,h,"ds-droppable")),P("dropZoneClass",d.dropZoneClass,h,"ds-dropzone")),P("dropZoneReadyClass",d.dropZoneReadyClass,h,"ds-dropzone-ready")),P("dropZoneTargetClass",d.dropZoneTargetClass,h,"ds-dropzone-target")),P("dropZoneInsideClass",d.dropZoneInsideClass,h,"ds-dropzone-inside")),P("dragAsBlock",d.dragAsBlock,h,!1))},He=function(d,h){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,p=d;if(r>0){var s=(d.right-d.left)*r,f=(d.bottom-d.top)*r;p={left:d.left+s,right:d.right-s,top:d.top+f,bottom:d.bottom-f}}return p.left<h.right&&p.right>h.left&&p.top<h.bottom&&p.bottom>h.top},Mn=function(d){var h=d.element,r=d.posDirection,p=d.containerRect,s=d.useTransform,f=Jd(h,s),S=I(f,"+",r);tt(h,S,s);var w=h.getBoundingClientRect(),D=Dn({elementRect:w,containerRect:p});eh({element:h,edges:D,elementRect:w,containerRect:p,elementPos:S,useTransform:s})},ih=function(d,h){window.removeEventListener("resize",h),window.removeEventListener("scroll",h),d.disconnect()},sh=function(d,h,r){if(h.length){var p=document&&document.documentElement&&document.documentElement.scrollTop&&document.documentElement,s=d instanceof Document?p||document.body:d,f=h.includes("top")&&s.scrollTop>0,S=h.includes("bottom")&&s.scrollTop<s.scrollHeight,w=h.includes("left")&&s.scrollLeft>0,D=h.includes("right")&&s.scrollLeft<s.scrollWidth;f&&(s.scrollTop-=1*r),S&&(s.scrollTop+=1*r),w&&(s.scrollLeft-=1*r),D&&(s.scrollLeft+=1*r)}},tt=function(d,h,r){if(r){var p=d.style.transform;d.style.transform="translate3d(".concat(h.x,"px,").concat(h.y,"px,1px) ").concat(p.replace(/translate.*?\)/g,""))}else d.style.left="".concat(h.x,"px"),d.style.top="".concat(h.y,"px");return d},ah=function(d){for(var h=d.subscribe,r=d.publish,p=d.Interaction,s=d.SelectedSet,f=d.DropZones,S={"Selected:added":[{name:"elementselect"}],"Selected:removed":[{name:"elementunselect"}],"Area:scroll":[{name:"autoscroll"}],"Interaction:start":[{name:"dragstart"}],"Interaction:update":[{name:"dragmove",condition:function(Q){return Q.event}}],"Interaction:end":[{name:"callback",extraData:function(){var Q=f.getTarget();return a({},Q?{dropTarget:Q.toObject()}:{})}}]},w=function(){var Q=R(L[D],2),he=Q[0],ue=Q[1];["pre",!1].forEach(function(Se){return h(Se?"".concat(he,":").concat(Se):he,function(K){return ue.forEach(function(ie){return(!ie.condition||ie.condition(K))&&r(Se?"".concat(Se).concat(ie.name):ie.name,a(a({items:s.elements,isDragging:p.isDragging},K),ie.extraData?ie.extraData(K):{}))})})})},D=0,L=Object.entries(S);D<L.length;D++)w()},Me=function(d){return d?!Array.isArray(d)&&(d instanceof HTMLElement||d instanceof SVGElement)?[d]:_(new Set(_(d))):[]},Cn=function(d,h){d.style.left="".concat(h.left,"px"),d.style.top="".concat(h.top,"px"),d.style.width="".concat(h.width,"px"),d.style.height="".concat(h.height,"px")},lh=function(){function d(h){var r=this,p=h.DS;l(this,d),c(this,"DS",void 0),c(this,"_observers",void 0),c(this,"_node",void 0),c(this,"_parentNodes",void 0),c(this,"_computedStyle",void 0),c(this,"_computedBorder",void 0),c(this,"_rect",void 0),c(this,"setArea",function(s){r.reset(),r._node=s,Nn({computedStyle:r.computedStyle,node:r._node}),setTimeout(function(){r.DS.PubSub.publish("Area:modified:pre",{item:r}),r.reset(),r.DS.PubSub.publish("Area:modified",{item:r})})}),c(this,"start",function(){r._observers=le(r.parentNodes,yt(function(s){r.DS.PubSub.publish("Area:modified:pre",{event:s,item:r}),r.reset(),r.DS.PubSub.publish("Area:modified",{event:s,item:r})},60))}),c(this,"reset",function(){r._computedStyle=void 0,r._rect=void 0,r._computedBorder=void 0,r._parentNodes=void 0}),c(this,"stop",function(){r._observers.cleanup(),r.reset()}),c(this,"scroll",function(s,f){var S={scroll_directions:s,scroll_multiplier:f};r.DS.PubSub.publish("Area:scroll:pre",S),sh(r._node,s,f),r.DS.PubSub.publish("Area:scroll",S)}),this.DS=p,this.setArea(this.DS.stores.SettingsStore.s.area),this.DS.PubSub.subscribe("Settings:updated:area",function(s){var f=s.settings;r.setArea(f.area)}),this.DS.PubSub.subscribe("Interaction:init",this.start),this.DS.PubSub.subscribe("Interaction:end",this.reset)}return g(d,[{key:"HTMLNode",get:function(){return this._node}},{key:"computedBorder",get:function(){return this._computedBorder?this._computedBorder:{top:parseInt(this.computedStyle.borderTopWidth),bottom:parseInt(this.computedStyle.borderBottomWidth),left:parseInt(this.computedStyle.borderLeftWidth),right:parseInt(this.computedStyle.borderRightWidth)}}},{key:"computedStyle",get:function(){return this._computedStyle?this._computedStyle:this.HTMLNode instanceof Document?this._computedStyle=window.getComputedStyle(this.HTMLNode.body||this.HTMLNode.documentElement):this._computedStyle=window.getComputedStyle(this.HTMLNode)}},{key:"rect",get:function(){return this._rect?this._rect:this._rect=Kd(this.HTMLNode,this.DS.stores.SettingsStore.s.zoom)}},{key:"parentNodes",get:function(){return this._parentNodes?this._parentNodes:this._parentNodes=xn(this.HTMLNode)}}]),d}(),ch=function(){function d(h){var r=this,p=h.DS;l(this,d),c(this,"_prevCursorPos",void 0),c(this,"_prevScrollPos",void 0),c(this,"_elements",[]),c(this,"_dragKeys",void 0),c(this,"_dragKeysFlat",[]),c(this,"_selectionRect",void 0),c(this,"assignDragkeys",function(){r._dragKeys={up:r.DS.stores.SettingsStore.s.dragKeys.up.map(function(s){return s.toLowerCase()}),down:r.DS.stores.SettingsStore.s.dragKeys.down.map(function(s){return s.toLowerCase()}),left:r.DS.stores.SettingsStore.s.dragKeys.left.map(function(s){return s.toLowerCase()}),right:r.DS.stores.SettingsStore.s.dragKeys.right.map(function(s){return s.toLowerCase()})},r._dragKeysFlat=[].concat(_(r._dragKeys.up),_(r._dragKeys.down),_(r._dragKeys.left),_(r._dragKeys.right))}),c(this,"keyboardDrag",function(s){var f=s.event,S=s.key,w=S.toLowerCase();if(!(!r.DS.stores.SettingsStore.s.keyboardDrag||!r._dragKeysFlat.includes(w)||!r.DS.SelectedSet.size||!r.DS.stores.SettingsStore.s.draggability||r.DS.continue)){var D={event:f,isDragging:!0,isDraggingKeyboard:!0};r.DS.publish(["Interaction:start:pre","Interaction:start"],D),r._elements=r.DS.getSelection(),r.DS.stores.SettingsStore.s.dragAsBlock&&(r._selectionRect=kn(r._elements,r.DS.SelectableSet)),r.handleZIndex(!0);var L=th({shiftKey:r.DS.stores.KeyStore.currentValues.includes("shift"),keyboardDragSpeed:r.DS.stores.SettingsStore.s.keyboardDragSpeed,zoom:r.DS.stores.SettingsStore.s.zoom,key:w,scrollCallback:r.DS.Area.scroll,scrollDiff:r._scrollDiff,canScroll:r.DS.stores.ScrollStore.canScroll,dragKeys:r._dragKeys});r.DS.stores.SettingsStore.s.dragAsBlock&&(L=r.limitDirection(L)),r._elements.forEach(function(z){return Mn({element:z,posDirection:L,containerRect:r.DS.SelectorArea.rect,useTransform:r.DS.stores.SettingsStore.s.useTransform})}),r.DS.publish(["Interaction:update:pre","Interaction:update"],D)}}),c(this,"keyboardEnd",function(s){var f=s.event,S=s.key,w=S.toLowerCase();if(!(!r.DS.stores.SettingsStore.s.keyboardDrag||!r._dragKeysFlat.includes(w)||!r.DS.SelectedSet.size||!r.DS.stores.SettingsStore.s.draggability)){var D={event:f,isDragging:r.DS.stores.SettingsStore.s.draggability,isDraggingKeyboard:!0};r.DS.publish(["Interaction:end:pre","Interaction:end"],D)}}),c(this,"start",function(s){var f=s.isDragging,S=s.isDraggingKeyboard;!f||S||(r._prevCursorPos=null,r._prevScrollPos=null,r._elements=r.DS.getSelection(),r.DS.stores.SettingsStore.s.dragAsBlock&&(r._selectionRect=kn(r._elements,r.DS.SelectableSet)),r.handleZIndex(!0))}),c(this,"stop",function(s){s!=null&&s.isKeyboard||(r._prevCursorPos=null,r._prevScrollPos=null,r.handleZIndex(!1),r._elements=[])}),c(this,"update",function(s){var f=s.isDragging,S=s.isDraggingKeyboard;if(!(!f||!r._elements.length||S||r.DS.continue)){var w=I(r._cursorDiff,"+",r._scrollDiff);r.DS.stores.SettingsStore.s.dragAsBlock&&(w=r.limitDirection(w)),r._elements.forEach(function(D){return Mn({element:D,posDirection:w,containerRect:r.DS.SelectorArea.rect,useTransform:r.DS.stores.SettingsStore.s.useTransform})})}}),c(this,"limitDirection",function(s){var f=r.DS.SelectorArea.rect,S=r.DS.stores.ScrollStore.scrollAmount,w={top:f.top-r._selectionRect.top+S.y,left:f.left-r._selectionRect.left+S.x,bottom:f.bottom-r._selectionRect.bottom+S.y,right:f.right-r._selectionRect.right+S.x};return s.x===0&&s.y===0||(s.y<0&&(s.y=Math.max(s.y,w.top)),s.x<0&&(s.x=Math.max(s.x,w.left)),s.y>0&&(s.y=Math.min(s.y,w.bottom)),s.x>0&&(s.x=Math.min(s.x,w.right)),r._selectionRect.top+=s.y,r._selectionRect.bottom+=s.y,r._selectionRect.left+=s.x,r._selectionRect.right+=s.x),s}),c(this,"handleZIndex",function(s){r._elements.forEach(function(f){return f.style.zIndex="".concat((parseInt(f.style.zIndex)||0)+s?9999:-9998)})}),this.DS=p,this.DS.subscribe("Settings:updated:dragKeys",this.assignDragkeys),this.assignDragkeys(),this.DS.subscribe("Interaction:start",this.start),this.DS.subscribe("Interaction:end",this.stop),this.DS.subscribe("Interaction:update",this.update),this.DS.subscribe("KeyStore:down",this.keyboardDrag),this.DS.subscribe("KeyStore:up",this.keyboardEnd)}return g(d,[{key:"_cursorDiff",get:function(){var r=this.DS.stores.PointerStore.currentVal,p=this._prevCursorPos?I(r,"-",this._prevCursorPos):{x:0,y:0};return this._prevCursorPos=r,p}},{key:"_scrollDiff",get:function(){var r=this.DS.stores.ScrollStore.currentVal,p=this._prevScrollPos?I(r,"-",this._prevScrollPos):{x:0,y:0};return this._prevScrollPos=r,p}}]),d}(),dh=function(){function d(h){var r=this,p=h.DS,s=h.id,f=h.element,S=h.droppables;l(this,d),c(this,"id",void 0),c(this,"element",void 0),c(this,"_droppables",void 0),c(this,"_rect",void 0),c(this,"_observers",void 0),c(this,"_timeout",void 0),c(this,"_itemsDropped",[]),c(this,"_itemsInside",void 0),c(this,"setReadyClasses",function(w){if(!r.isDestroyed){var D=r.droppables.filter(function(L){return r.DS.SelectedSet.has(L)});D.length&&(D.forEach(function(L){L.classList[w]("".concat(r.Settings.droppableClass)),L.classList[w]("".concat(r.Settings.droppableClass,"-").concat(r.id))}),r.element.classList[w]("".concat(r.Settings.dropZoneReadyClass)))}}),c(this,"handleNoDrop",function(){var w;r.isDestroyed||(r.DS.SelectedSet.forEach(function(D){D.classList.remove(r.Settings.droppedTargetClass),D.classList.remove("".concat(r.Settings.droppedTargetClass,"-").concat(r.id))}),r._itemsDropped=r._itemsDropped.filter(function(D){return!r.DS.SelectedSet.has(D)}),(w=r._itemsDropped)!==null&&w!==void 0&&w.length||r.element.classList.remove("".concat(r.Settings.dropZoneTargetClass)))}),c(this,"handleDrop",function(){var w,D,L;r.isDestroyed||(r._itemsDropped=_(new Set([].concat(_(r._itemsDropped),_((w=r.droppables)===null||w===void 0?void 0:w.filter(function(z){return r.DS.SelectedSet.has(z)}))))),(D=r._itemsDropped)===null||D===void 0||D.forEach(function(z){z.classList.add("".concat(r.Settings.droppedTargetClass)),z.classList.add("".concat(r.Settings.droppedTargetClass,"-").concat(r.id))}),(L=r._itemsDropped)!==null&&L!==void 0&&L.length&&r.element.classList.add("".concat(r.Settings.dropZoneTargetClass)))}),c(this,"handleItemsInsideClasses",function(){var w=!1;r.droppables.forEach(function(D){r.itemsInside.includes(D)?(D.classList.add("".concat(r.Settings.droppedInsideClass)),D.classList.add("".concat(r.Settings.droppedInsideClass,"-").concat(r.id)),w=!0):(D.classList.remove("".concat(r.Settings.droppedInsideClass,"-").concat(r.id)),D.className.includes("".concat(r.Settings.droppedInsideClass,"-"))||D.classList.remove("".concat(r.Settings.droppedInsideClass)))}),w?r.element.classList.add("".concat(r.Settings.dropZoneInsideClass)):r.element.classList.remove("".concat(r.Settings.dropZoneInsideClass))}),c(this,"start",function(w){var D=w.isDragging;!D||r.isDestroyed||r.setReadyClasses("add")}),c(this,"stop",function(w){var D=w.isDragging;!D||r.isDestroyed||(r.setReadyClasses("remove"),r.handleItemsInsideClasses())}),c(this,"toObject",function(){return{id:r.id,element:r.element,droppables:r.droppables,itemsDropped:r.itemsDropped,itemsInside:r.itemsInside}}),this.DS=p,this.Settings=p.stores.SettingsStore.s,this.id=s,this.element=f,S&&(this.droppables=Me(S)),this.element.classList.add("".concat(this.Settings.dropZoneClass)),this.DS.subscribe("Settings:updated:dropZoneClass",function(w){var D=w.settings;r.element&&(r.element.classList.remove(D["dropZoneClass:pre"]),r.element.classList.add(D.dropZoneClass))}),this._observers=le(this.parentNodes,yt(function(){return r._rect=null},this.Settings.refreshMemoryRate)),this.DS.subscribe("Interaction:start",this.start),this.DS.subscribe("Interaction:end",this.stop)}return g(d,[{key:"destroy",value:function(){var r=this;this._observers.cleanup(),this.element.classList.remove("".concat(this.Settings.dropZoneClass)),this.element.classList.remove("".concat(this.Settings.dropZoneTargetClass)),this.element.classList.remove("".concat(this.Settings.dropZoneReadyClass)),this.droppables.forEach(function(p){p.classList.remove("".concat(r.Settings.droppedTargetClass)),p.classList.remove("".concat(r.Settings.droppedTargetClass,"-").concat(r.id)),p.classList.remove("".concat(r.Settings.droppableClass)),p.classList.remove("".concat(r.Settings.droppableClass,"-").concat(r.id))}),this.DS.unsubscribe("Interaction:start",this.start),this.DS.unsubscribe("Interaction:end",this.stop),this.element=null,this.droppables=null,this.id=null,this._itemsDropped=null,this._itemsInside=null,this.isDestroyed=!0}},{key:"rect",get:function(){return this.isDestroyed?null:this._rect?this._rect:this._rect=this.element.getBoundingClientRect()}},{key:"itemsDropped",get:function(){return this.isDestroyed?null:this._itemsDropped}},{key:"itemsInside",get:function(){var r=this;return this.isDestroyed?null:this._itemsInside?this._itemsInside:(this._itemsInside=this.droppables.flatMap(function(p){return He(r.DS.SelectableSet.rects.get(p),r.rect,r.Settings.dropInsideThreshold)?[p]:[]}),this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout(function(){return r._itemsInside=null},this.Settings.refreshMemoryRate),this._itemsInside)}},{key:"parentNodes",get:function(){return this._parentNodes?this._parentNodes:this._parentNodes=xn(this.element)}},{key:"droppables",get:function(){return this._droppables?this._droppables:this.DS.SelectableSet.elements},set:function(r){this._droppables=r}}]),d}(),hh=g(function d(h){var r=this,p=h.DS;l(this,d),c(this,"_zoneByElement",new Map),c(this,"_zoneById",new Map),c(this,"_zonesByDroppable",new Map),c(this,"_zones",void 0),c(this,"setDropZones",function(s){var f=s.dropZones;f&&(r._zones&&r._zones.forEach(function(S){return S.destroy()}),r._zones=f.map(function(S){return new dh(a({DS:r.DS},S))}),r._zones.forEach(function(S){r._zoneByElement.set(S.element,S),r._zoneById.set(S.id,S),S.droppables.forEach(function(w){var D=r._zonesByDroppable.get(w);if(!(D!=null&&D.length))return r._zonesByDroppable.set(w,[S]);r._zonesByDroppable.set(w,_(new Set([].concat(_(D),[S]))))})}))}),c(this,"_handleDrop",function(s){r._zones.forEach(function(f){f!==s&&f.handleNoDrop()}),s&&s.handleDrop()}),c(this,"_getZoneByElementsFromPoint",function(s,f){for(var S=f.x,w=f.y,D=0,L=s.length;D<L;D++){var z=r._zoneByElement.get(s[D]);if(z&&He(z.rect,{left:S,right:S,top:w,bottom:w},Math.min(r.Settings.dropTargetThreshold,.5)))return z}}),c(this,"stop",function(s){var f=s.isDragging;if(f){var S=r.getTarget();r._handleDrop(S)}}),c(this,"getItemsDroppedById",function(s){var f=r._zoneById.get(s);return f?f.itemsDropped:console.warn("[DragSelect] No zone found (id: ".concat(s,")"))}),c(this,"getItemsInsideById",function(s,f){var S=r._zoneById.get(s);if(!S)return console.warn("[DragSelect] No zone found (id: ".concat(s,")"));var w=S.itemsInside;return f&&S.handleItemsInsideClasses(),w}),c(this,"getTarget",function(s){var f;if((f=r._zones)!==null&&f!==void 0&&f.length){var S=(s==null?void 0:s.x)||r.DS.stores.PointerStore.currentVal.x,w=(s==null?void 0:s.y)||r.DS.stores.PointerStore.currentVal.y,D=document.elementsFromPoint(S,w);return r._getZoneByElementsFromPoint(D,{x:S,y:w})}}),this.DS=p,this.Settings=p.stores.SettingsStore.s,this.DS.subscribe("Settings:updated:dropZones",function(s){var f=s.settings;return r.setDropZones(f)}),this.setDropZones({dropZones:this.DS.stores.SettingsStore.s.dropZones}),this.DS.subscribe("Interaction:end",this.stop)}),uh=function(){function d(h){var r=this,p=h.DS;l(this,d),c(this,"isInteracting",void 0),c(this,"isDragging",void 0),c(this,"init",function(){return r.DS.publish("Interaction:init:pre",{})}),c(this,"_init",function(){r.stop(),r.Settings.usePointerEvents?r.DS.Area.HTMLNode.addEventListener("pointerdown",r.start,{passive:!1}):r.DS.Area.HTMLNode.addEventListener("mousedown",r.start),r.DS.Area.HTMLNode.addEventListener("touchstart",r.start,{passive:!1}),r.DS.publish("Interaction:init",{})}),c(this,"start",function(s){return r.DS.publish("Interaction:start:pre",{event:s,isDragging:r.isDragging})}),c(this,"_start",function(s){s.type==="touchstart"&&s.preventDefault(),r._canInteract(s)&&(r.isInteracting=!0,r.isDragging=r.isDragEvent(s),r.DS.publish("Interaction:start",{event:s,isDragging:r.isDragging}),r.Settings.usePointerEvents?(document.addEventListener("pointerup",r.reset),document.addEventListener("pointercancel",r.reset)):document.addEventListener("mouseup",r.reset),document.addEventListener("touchend",r.reset))}),c(this,"isDragEvent",function(s){var f=s.target.closest(".".concat(r.Settings.selectableClass));return!r.Settings.draggability||r.DS.stores.KeyStore.isMultiSelectKeyPressed(s)||!f?!1:(r.Settings.immediateDrag&&(r.DS.SelectedSet.size?r.DS.SelectedSet.has(f)||(r.DS.SelectedSet.clear(),r.DS.SelectedSet.add(f)):r.DS.SelectedSet.add(f)),!!r.DS.SelectedSet.has(f))}),c(this,"onClick",function(s){var f=s.event;if(r._canInteract(f)&&!(f.detail>0)){var S=r.DS,w=S.stores,D=w.PointerStore,L=w.KeyStore,z=S.SelectableSet,Q=S.SelectedSet;D.start(f);var he=f.target;z.has(he)&&(L.isMultiSelectKeyPressed(f)||Q.clear(),Q.toggle(he),r.reset())}}),c(this,"stop",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.DS.Area.HTMLNode;r.isInteracting=!1,r.isDragging=!1,r.Settings.usePointerEvents?(s.removeEventListener("pointerdown",r.start,{passive:!1}),document.removeEventListener("pointerup",r.reset),document.removeEventListener("pointercancel",r.reset)):(s.removeEventListener("mousedown",r.start),document.removeEventListener("mouseup",r.reset)),s.removeEventListener("touchstart",r.start,{passive:!1}),document.removeEventListener("touchend",r.reset)}),c(this,"update",function(s){var f=s.event,S=s.scroll_directions,w=s.scroll_multiplier;r.isInteracting&&r.DS.publish(["Interaction:update:pre","Interaction:update"],{event:f,scroll_directions:S,scroll_multiplier:w,isDragging:r.isDragging})}),c(this,"reset",function(s){return r.DS.publish("Interaction:end:pre",{event:s,isDragging:r.isDragging})}),c(this,"_reset",function(s){var f=r.isDragging;r.stop(),r.init(),r.DS.publish("Interaction:end",{event:s,isDragging:f})}),this.DS=p,this.Settings=p.stores.SettingsStore.s,this.DS.subscribe("Settings:updated:area",function(s){var f=s.settings;r.stop(f["area:pre"]),r.init()}),this.DS.subscribe("PointerStore:updated",this.update),this.DS.subscribe("Selectable:click",this.onClick),this.DS.subscribe("Selectable:pointer",function(s){var f=s.event;return r.start(f)}),this.DS.subscribe("Interaction:start:pre",function(s){var f=s.event;return r._start(f)}),this.DS.subscribe("Interaction:init:pre",this._init),this.DS.subscribe("Interaction:end:pre",function(s){var f=s.event;return r._reset(f)}),this.DS.subscribe("Area:scroll",this.update)}return g(d,[{key:"_canInteract",value:function(r){var p=r.clientX===0&&r.clientY===0&&r.detail===0&&r.target;return!(r.button===2||this.isInteracting||r.target&&!this.DS.SelectorArea.isInside(r.target)||!p&&!this.DS.SelectorArea.isClicked(r))}}]),d}(),fh=g(function d(h){var r=this,p=h.DS;l(this,d),c(this,"subscribers",{}),c(this,"subscribe",function(s,f){return Array.isArray(r.subscribers[s])||(r.subscribers[s]=[]),r.subscribers[s].push(f),r.subscribers[s].length-1}),c(this,"unsubscribe",function(s,f,S){S>=0?r.subscribers[s].splice(S,1):f&&(r.subscribers[s]=r.subscribers[s].filter(function(w){return w!==f}))}),c(this,"publish",function(s,f){Array.isArray(s)?s.forEach(function(S){return r._publish(S,f)}):r._publish(s,f)}),c(this,"_publish",function(s,f){var S=r.subscribers[s];Array.isArray(S)&&(s.includes(":pre")?r._handlePrePublish(S,f):r._handlePublish(S,f))}),c(this,"_handlePublish",function(s,f){for(var S=0,w=s.length;S<w;S++){if(r.DS.stopped)return;s[S](f)}}),c(this,"_handlePrePublish",function(s,f){for(var S=s.length;S--;){if(r.DS.stopped)return;s[S](f)}}),this.DS=p}),mh=function(d){y(r,d);var h=E(r);function r(p){var s,f=p.DS;return l(this,r),s=h.call(this),c(M(s),"_rects",void 0),c(M(s),"_timeout",void 0),c(M(s),"init",function(){return Me(s.Settings.selectables).forEach(function(S){return s.add(S)})}),c(M(s),"clear",function(){return s.forEach(function(S){return s.delete(S)})}),c(M(s),"_onClick",function(S){return s.DS.publish(["Selectable:click:pre","Selectable:click"],{event:S})}),c(M(s),"_onPointer",function(S){return s.DS.publish(["Selectable:pointer:pre","Selectable:pointer"],{event:S})}),c(M(s),"addAll",function(S){return S.forEach(function(w){return s.add(w)})}),c(M(s),"deleteAll",function(S){return S.forEach(function(w){return s.delete(w)})}),c(M(s),"getRect",function(S){return s._rects?s.rects.get(S):S.getBoundingClientRect()}),s.DS=f,s.Settings=f.stores.SettingsStore.s,s.DS.subscribe("Interaction:init",s.init),s.DS.PubSub.subscribe("Settings:updated:selectables",function(){s.clear(),s.init()}),s.DS.subscribe("Settings:updated:selectableClass",function(S){var w=S.settings;s.forEach(function(D){D.classList.remove(w["selectableClass:pre"]),D.classList.add(w.selectableClass)})}),s}return g(r,[{key:"add",value:function(s){if(B(m(r.prototype),"has",this).call(this,s))return this;var f={items:this.elements,item:s};return this.DS.publish("Selectable:added:pre",f),s.classList.add(this.Settings.selectableClass),s.addEventListener("click",this._onClick),this.Settings.usePointerEvents?s.addEventListener("pointerdown",this._onPointer,{passive:!1}):s.addEventListener("mousedown",this._onPointer),s.addEventListener("touchstart",this._onPointer,{passive:!1}),this.Settings.draggability&&!this.Settings.useTransform&&Nn({computedStyle:window.getComputedStyle(s),node:s}),B(m(r.prototype),"add",this).call(this,s),this.DS.publish("Selectable:added",f),this}},{key:"delete",value:function(s){if(!B(m(r.prototype),"has",this).call(this,s))return!0;var f={items:this.elements,item:s};return this.DS.publish("Selectable:removed:pre",f),s.classList.remove(this.Settings.selectableClass),s.classList.remove(this.Settings.hoverClass),s.removeEventListener("click",this._onClick),this.Settings.usePointerEvents?s.removeEventListener("pointerdown",this._onPointer,{passive:!1}):s.removeEventListener("mousedown",this._onPointer),s.removeEventListener("touchstart",this._onPointer,{passive:!1}),B(m(r.prototype),"delete",this).call(this,s),this.DS.publish("Selectable:removed",f),!0}},{key:"elements",get:function(){return Array.from(this.values())}},{key:"rects",get:function(){var s=this;return this._rects?this._rects:(this._rects=new Map,this.forEach(function(f){return s._rects.set(f,f.getBoundingClientRect())}),this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout(function(){return s._rects=null},this.Settings.refreshMemoryRate),this._rects)}}]),r}(C(Set)),ph=function(d){y(r,d);var h=E(r);function r(p){var s,f=p.DS;return l(this,r),s=h.call(this),c(M(s),"clear",function(){return s.forEach(function(S){return s.delete(S)})}),c(M(s),"addAll",function(S){return S.forEach(function(w){return s.add(w)})}),c(M(s),"deleteAll",function(S){return S.forEach(function(w){return s.delete(w)})}),s.DS=f,s}return g(r,[{key:"add",value:function(s){if(B(m(r.prototype),"has",this).call(this,s))return this;var f={items:this.elements,item:s};return this.DS.publish("Selected:added:pre",f),B(m(r.prototype),"add",this).call(this,s),s.classList.add(this.DS.stores.SettingsStore.s.selectedClass),s.style.zIndex="".concat((parseInt(s.style.zIndex)||0)+1),this.DS.publish("Selected:added",f),this}},{key:"delete",value:function(s){if(!B(m(r.prototype),"has",this).call(this,s))return!0;var f={items:this.elements,item:s};this.DS.publish("Selected:removed:pre",f);var S=B(m(r.prototype),"delete",this).call(this,s);return s.classList.remove(this.DS.stores.SettingsStore.s.selectedClass),s.style.zIndex="".concat((parseInt(s.style.zIndex)||0)-1),this.DS.publish("Selected:removed",f),S}},{key:"toggle",value:function(s){return this.has(s)?this.delete(s):this.add(s),s}},{key:"elements",get:function(){return Array.from(this.values())}}]),r}(C(Set)),gh=function(){function d(h){var r=this,p=h.DS;l(this,d),c(this,"_prevSelectedSet",void 0),c(this,"start",function(s){var f=s.event,S=s.isDragging;S||(r._storePrevious(f),r._handleInsideSelection(!0,f))}),c(this,"update",function(s){var f=s.isDragging;f||r.DS.continue||r._handleInsideSelection()}),c(this,"_handleInsideSelection",function(s,f){var S=r.DS,w=S.SelectableSet,D=S.SelectorArea,L=S.Selector,z=r.DS.stores.KeyStore.isMultiSelectKeyPressed(f)&&r.Settings.multiSelectToggling,Q=r.Settings.selectionThreshold,he=w.rects,ue=L.rect,Se=new Map,K=new Map,ie=ne(he),rt;try{for(ie.s();!(rt=ie.n()).done;){var St=R(rt.value,2),nt=St[0],vt=St[1];D.isInside(nt,vt)&&(He(vt,ue,Q)?Se.set(nt,vt):K.set(nt,vt))}}catch(rr){ie.e(rr)}finally{ie.f()}if(!r.DS.continue){var Tn=r.filterSelected({select:Se,unselect:K,selectorRect:ue}),xh=Tn.select,kh=Tn.unselect;xh.forEach(function(rr,nr){return rh({element:nr,force:s,multiSelectionToggle:z,SelectedSet:r.DS.SelectedSet,hoverClassName:r.Settings.hoverClass})}),kh.forEach(function(rr,nr){return nh({element:nr,force:s,SelectedSet:r.DS.SelectedSet,hoverClassName:r.Settings.hoverClass,PrevSelectedSet:r._prevSelectedSet})})}}),c(this,"filterSelected",function(s){var f=s.select,S=s.unselect;return s.selectorRect,{select:f,unselect:S}}),this.DS=p,this.Settings=this.DS.stores.SettingsStore.s,this.DS.subscribe("Interaction:start",this.start),this.DS.subscribe("Interaction:update",this.update)}return g(d,[{key:"_storePrevious",value:function(r){var p=this.DS,s=p.stores.KeyStore,f=p.SelectedSet;s.isMultiSelectKeyPressed(r)?this._prevSelectedSet=new Set(f):this._prevSelectedSet=new Set}}]),d}(),yh=function(){function d(h){var r=this,p=h.DS;l(this,d),c(this,"_rect",void 0),c(this,"attachSelector",function(){var s,f;r.HTMLNode&&(s=r.DS.SelectorArea)!==null&&s!==void 0&&s.HTMLNode&&r.DS.SelectorArea.HTMLNode.removeChild(r.HTMLNode),r.HTMLNode=r.DS.stores.SettingsStore.s.selector||er(r.DS.stores.SettingsStore.s.customStyles),r.HTMLNode.classList.add(r.DS.stores.SettingsStore.s.selectorClass),r.HTMLNode&&(f=r.DS.SelectorArea)!==null&&f!==void 0&&f.HTMLNode&&r.DS.SelectorArea.HTMLNode.appendChild(r.HTMLNode)}),c(this,"start",function(s){var f=s.isDragging;if(!f){var S=r.DS.stores.PointerStore,w=S.initialValArea;Cn(r.HTMLNode,q(w,1)),r.HTMLNode.style.display="block",r._rect=null}}),c(this,"stop",function(){r.HTMLNode.style.width="0",r.HTMLNode.style.height="0",r.HTMLNode.style.display="none"}),c(this,"update",function(s){var f=s.isDragging;if(!(f||r.DS.continue)){var S=r.DS.stores,w=S.ScrollStore,D=S.PointerStore,L=Xd({scrollAmount:w.scrollAmount,initialPointerPos:D.initialValArea,pointerPos:D.currentValArea});Cn(r.HTMLNode,L),r._rect=null}}),this.DS=p,this.DS.subscribe("Settings:updated:selectorClass",function(s){var f=s.settings;r.HTMLNode.classList.remove(f["selectorClass:pre"]),r.HTMLNode.classList.add(f.selectorClass)}),this.DS.subscribe("Settings:updated:selector",this.attachSelector),this.DS.subscribe("Settings:updated:customStyles",this.attachSelector),this.attachSelector(),this.DS.subscribe("Interaction:start",this.start),this.DS.subscribe("Interaction:update",this.update),this.DS.subscribe("Interaction:end",this.stop)}return g(d,[{key:"rect",get:function(){return this._rect?this._rect:this._rect=this.HTMLNode.getBoundingClientRect()}}]),d}(),bh=function(){function d(h){var r=this,p=h.DS;l(this,d),c(this,"_scrollInterval",void 0),c(this,"_rect",void 0),c(this,"currentEdges",[]),c(this,"start",function(){r.applyElements("append"),r.updatePos()}),c(this,"applyElements",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"append",f=document.body?"body":"documentElement",S="".concat(s,"Child");r.HTMLNode[S](r.DS.Selector.HTMLNode),document[f][S](r.HTMLNode)}),c(this,"updatePos",function(){r._rect=null;var s=r.DS.Area.rect,f=r.DS.Area.computedBorder,S=r.HTMLNode.style,w="".concat(s.top+f.top,"px"),D="".concat(s.left+f.left,"px"),L="".concat(s.width,"px"),z="".concat(s.height,"px");S.top!==w&&(S.top=w),S.left!==D&&(S.left=D),S.width!==L&&(S.width=L),S.height!==z&&(S.height=z)}),c(this,"stop",function(s){r.stopAutoScroll(),s&&r.applyElements("remove")}),c(this,"startAutoScroll",function(){r.currentEdges=[],r._scrollInterval=setInterval(function(){return r.handleAutoScroll()},16)}),c(this,"handleAutoScroll",function(){if(!r.DS.continue){var s=r.DS,f=s.stores.PointerStore,S=s.Area;r.currentEdges=Dn({elementRect:q(f.currentVal),containerRect:r.rect,tolerance:r.DS.stores.SettingsStore.s.overflowTolerance}),r.currentEdges.length&&S.scroll(r.currentEdges,r.DS.stores.SettingsStore.s.autoScrollSpeed)}}),c(this,"stopAutoScroll",function(){r.currentEdges=[],clearInterval(r._scrollInterval)}),c(this,"isInside",function(s,f){return r.DS.Area.HTMLNode.contains(s)&&r.DS.stores.ScrollStore.canScroll?!0:He(r.rect,f||s.getBoundingClientRect())}),this.DS=p,this.HTMLNode=gt(),this.DS.subscribe("Settings:updated:selectorAreaClass",function(s){var f=s.settings;r.HTMLNode.classList.remove(f["selectorAreaClass:pre"]),r.HTMLNode.classList.add(f.selectorAreaClass)}),this.HTMLNode.classList.add(this.DS.stores.SettingsStore.s.selectorAreaClass),this.DS.subscribe("Area:modified",this.updatePos),this.DS.subscribe("Area:modified",this.updatePos),this.DS.subscribe("Interaction:init",this.start),this.DS.subscribe("Interaction:start",this.startAutoScroll),this.DS.subscribe("Interaction:end",function(){r.updatePos(),r.stopAutoScroll()})}return g(d,[{key:"isClicked",value:function(r){var p=this.DS.stores.PointerStore,s=r?p.getPointerPosition(r):p.initialVal;return He({left:s.x,top:s.y,right:s.x,bottom:s.y},this.rect)}},{key:"rect",get:function(){return this._rect?this._rect:this._rect=this.HTMLNode.getBoundingClientRect()}}]),d}(),Sh=function(){function d(h){var r=this,p=h.DS;l(this,d),c(this,"_currentValues",new Set),c(this,"_keyMapping",{control:"ctrlKey",shift:"shiftKey",meta:"metaKey"}),c(this,"init",function(){document.addEventListener("keydown",r.keydown),document.addEventListener("keyup",r.keyup),window.addEventListener("blur",r.reset)}),c(this,"keydown",function(s){var f=s.key.toLowerCase();r.DS.publish("KeyStore:down:pre",{event:s,key:f}),r._currentValues.add(f),r.DS.publish("KeyStore:down",{event:s,key:f})}),c(this,"keyup",function(s){var f=s.key.toLowerCase();r.DS.publish("KeyStore:up:pre",{event:s,key:f}),r._currentValues.delete(f),r.DS.publish("KeyStore:up",{event:s,key:f})}),c(this,"stop",function(){document.removeEventListener("keydown",r.keydown),document.removeEventListener("keyup",r.reset),window.removeEventListener("blur",r.reset),r.reset()}),c(this,"reset",function(){return r._currentValues.clear()}),this.DS=p,this.DS.subscribe("Interaction:init",this.init)}return g(d,[{key:"isMultiSelectKeyPressed",value:function(r){var p=this;if(this.DS.stores.SettingsStore.s.multiSelectMode)return!0;var s=this.DS.stores.SettingsStore.s.multiSelectKeys.map(function(f){return f.toLocaleLowerCase()});return!!(this.currentValues.some(function(f){return s.includes(f.toLocaleLowerCase())})||r&&s.some(function(f){return r[p._keyMapping[f]]}))}},{key:"currentValues",get:function(){return Array.from(this._currentValues.values())}}]),d}(),vh=function(){function d(h){var r=this,p=h.DS;l(this,d),c(this,"_isMouseInteraction",!1),c(this,"_initialValArea",void 0),c(this,"_currentValArea",void 0),c(this,"_lastValArea",void 0),c(this,"_initialVal",void 0),c(this,"_currentVal",void 0),c(this,"_lastVal",void 0),c(this,"_lastTouch",void 0),c(this,"init",function(){r.Settings.usePointerEvents?document.addEventListener("pointermove",r.update,{passive:!1}):document.addEventListener("mousemove",r.update),document.addEventListener("touchmove",r.update,{passive:!1})}),c(this,"getPointerPosition",function(s){return Gd({event:r._normalizedEvent(s)})}),c(this,"update",function(s){s&&(r.DS.publish("PointerStore:updated:pre",{event:s}),r.currentVal=r.getPointerPosition(s),r._isMouseInteraction&&r.DS.publish("PointerStore:updated",{event:s}))}),c(this,"stop",function(){r.Settings.usePointerEvents?document.removeEventListener("pointermove",r.update,{passive:!1}):document.removeEventListener("mousemove",r.update),document.removeEventListener("touchmove",r.update,{passive:!1}),setTimeout(function(){return r._isMouseInteraction=!1},100)}),c(this,"reset",function(s){s&&(r.currentVal=r.lastVal=r.getPointerPosition(s),r.stop(),r.init())}),this.DS=p,this.Settings=p.stores.SettingsStore.s,this.DS.subscribe("Interaction:init",this.init),this.DS.subscribe("Interaction:start",function(s){var f=s.event;return r.start(f)}),this.DS.subscribe("Interaction:end",function(s){var f=s.event;return r.reset(f)})}return g(d,[{key:"start",value:function(r){r&&(this._isMouseInteraction=!0,this.currentVal=this.initialVal=this.getPointerPosition(r))}},{key:"_normalizedEvent",value:function(r){return"touches"in r&&r.type!=="touchend"&&(this._lastTouch=r),"touches"in r?this._lastTouch.touches[0]:r}},{key:"initialValArea",get:function(){return this._initialValArea?this._initialValArea:{x:0,y:0}}},{key:"currentValArea",get:function(){return this._currentValArea?this._currentValArea:{x:0,y:0}}},{key:"lastValArea",get:function(){return this._lastValArea?this._lastValArea:{x:0,y:0}}},{key:"initialVal",get:function(){return this._initialVal?this._initialVal:{x:0,y:0}},set:function(r){this._initialVal=r,this._initialValArea=r&&I(r,"-",I(T(this.DS.Area.rect),"+",T(this.DS.Area.computedBorder)))}},{key:"currentVal",get:function(){return this._currentVal?this._currentVal:{x:0,y:0}},set:function(r){this._currentVal=r,this._currentValArea=r&&I(r,"-",I(T(this.DS.Area.rect),"+",T(this.DS.Area.computedBorder)))}},{key:"lastVal",get:function(){return this._lastVal?this._lastVal:{x:0,y:0}},set:function(r){this._lastVal=r,this._lastValArea=r&&I(r,"-",I(T(this.DS.Area.rect),"+",T(this.DS.Area.computedBorder)))}}]),d}(),wh=function(){function d(h){var r=this,p=h.DS;l(this,d),c(this,"_initialVal",void 0),c(this,"_currentVal",void 0),c(this,"_canScroll",void 0),c(this,"init",function(){return r.DS.stores.SettingsStore.s.area.addEventListener("scroll",r.update)}),c(this,"start",function(){r._currentVal=r._initialVal=bt(r.DS.stores.SettingsStore.s.area),r.DS.stores.SettingsStore.s.area.addEventListener("scroll",r.update)}),c(this,"update",function(){return r._currentVal=bt(r.DS.stores.SettingsStore.s.area)}),c(this,"stop",function(){r.DS.stores.SettingsStore.s.area.removeEventListener("scroll",r.update),r._initialVal={x:0,y:0},r._canScroll=null}),c(this,"reset",function(){r.stop(),r.start()}),this.DS=p,this.DS.subscribe("Interaction:init",this.init),this.DS.subscribe("Interaction:start",function(){return r.start()}),this.DS.subscribe("Interaction:end",function(){return r.reset()})}return g(d,[{key:"canScroll",get:function(){return typeof this._canScroll=="boolean"?this._canScroll:this._canScroll=de(this.DS.stores.SettingsStore.s.area)}},{key:"scrollAmount",get:function(){var r=I(this.currentVal,"-",this.initialVal),p=O(this.DS.stores.SettingsStore.s.zoom),s=I(I(r,"*",p),"-",r);return{x:r.x+s.x,y:r.y+s.y}}},{key:"initialVal",get:function(){return this._initialVal?this._initialVal:{x:0,y:0}}},{key:"currentVal",get:function(){return this._currentVal||(this._currentVal=bt(this.DS.stores.SettingsStore.s.area)),this._currentVal}}]),d}(),_h=g(function d(h){var r=this,p=h.DS,s=h.settings;l(this,d),c(this,"_settings",{}),c(this,"s",{}),c(this,"update",function(f){var S=f.settings,w=f.init;return r.DS.publish("Settings:updated:pre",a({settings:S},w?{init:w}:{}))}),c(this,"_update",function(f){for(var S=f.settings,w=f.init,D=oh(S,w),L=function(){var ue,Se=R(Q[z],2),K=Se[0],ie=Se[1];K in r._settings||Object.defineProperty(r.s,K,{get:function(){return r._settings[K]},set:function(nt){return r.update({settings:c({},K,nt)})}}),r._settings["".concat(K,":pre")]=r._settings[K],r._settings[K]=ie;var rt={settings:(ue={},c(ue,K,r._settings[K]),c(ue,"".concat(K,":pre"),r._settings["".concat(K,":pre")]),ue)};r.DS.publish("Settings:updated",rt),r.DS.publish("Settings:updated:".concat(K),rt)},z=0,Q=Object.entries(D);z<Q.length;z++)L()}),this.DS=p,this.DS.subscribe("Settings:updated:pre",this._update),this.update({settings:s,init:!0})}),Vn=function(){function d(h){var r=this;l(this,d),c(this,"continue",!1),c(this,"start",function(){r.stopped=!1,r.Interaction.init()}),c(this,"break",function(){return r.continue=!0}),c(this,"setSettings",function(p){return r.stores.SettingsStore.update({settings:p})}),c(this,"getSelection",function(){return r.SelectedSet.elements}),c(this,"getSelectables",function(){return r.SelectableSet.elements}),c(this,"getInitialCursorPosition",function(){return r.stores.PointerStore.initialVal}),c(this,"getCurrentCursorPosition",function(){return r.stores.PointerStore.currentVal}),c(this,"getPreviousCursorPosition",function(){return r.stores.PointerStore.lastVal}),c(this,"getInitialCursorPositionArea",function(){return r.stores.PointerStore.initialValArea}),c(this,"getCurrentCursorPositionArea",function(){return r.stores.PointerStore.currentValArea}),c(this,"getPreviousCursorPositionArea",function(){return r.stores.PointerStore.lastValArea}),c(this,"isMultiSelect",function(p){return r.stores.KeyStore.isMultiSelectKeyPressed(p)}),c(this,"isDragging",function(){return r.Interaction.isDragging}),c(this,"getZoneByCoordinates",function(p){var s;return(s=r.DropZones.getTarget(p))===null||s===void 0?void 0:s.toObject()}),c(this,"getItemsDroppedByZoneId",function(p){return r.DropZones.getItemsDroppedById(p)}),c(this,"getItemsInsideByZoneId",function(p,s){return r.DropZones.getItemsInsideById(p,s)}),this.PubSub=new fh({DS:this}),this.subscribe=this.PubSub.subscribe,this.unsubscribe=this.PubSub.unsubscribe,this.publish=this.PubSub.publish,this.stores={},this.stores.SettingsStore=new _h({DS:this,settings:h}),this.stores.PointerStore=new vh({DS:this}),this.stores.ScrollStore=new wh({DS:this}),this.stores.KeyStore=new Sh({DS:this}),this.Area=new lh({DS:this}),this.Selector=new yh({DS:this}),this.SelectorArea=new bh({DS:this}),this.SelectableSet=new mh({DS:this}),this.SelectedSet=new ph({DS:this}),this.Selection=new gh({DS:this}),this.Drag=new ch({DS:this}),this.DropZones=new hh({DS:this}),this.Interaction=new uh({DS:this}),ah({subscribe:this.subscribe,publish:this.publish,SelectedSet:this.SelectedSet,Interaction:this.Interaction,DropZones:this.DropZones}),this.subscribe("Interaction:end",function(){return r.continue=!1}),this.start()}return g(d,[{key:"stop",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;s&&this.publish("callback",{items:this.getSelection()}),this.Interaction.stop(),this.Area.stop(),this.Drag.stop(),this.Selector.stop(),this.SelectorArea.stop(r),this.stores.KeyStore.stop(),this.stores.PointerStore.stop(),this.stores.ScrollStore.stop(),r&&this.SelectableSet.clear(),p&&this.SelectedSet.clear(),this.stopped=!0}},{key:"addSelection",value:function(r){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this.SelectedSet.addAll(Me(r)),s||this.addSelectables(r),p&&this.PubSub.publish("callback",{items:this.getSelection()}),this.getSelection()}},{key:"removeSelection",value:function(r){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this.SelectedSet.deleteAll(Me(r)),s&&this.removeSelectables(r),p&&this.PubSub.publish("callback",{items:this.getSelection()}),this.getSelection()}},{key:"toggleSelection",value:function(r){var p=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return Me(r).forEach(function(S){return p.SelectedSet.has(S)?p.removeSelection(r,s,f):p.addSelection(r,s,f)}),s&&this.PubSub.publish("callback",{items:this.getSelection()}),this.getSelection()}},{key:"setSelection",value:function(r){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this.clearSelection(),this.addSelection(r,p,s),this.getSelection()}},{key:"clearSelection",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.SelectedSet.clear(),r&&this.PubSub.publish("callback",{items:this.getSelection()}),this.getSelection()}},{key:"addSelectables",value:function(r,p,s){var f=Me(r);return this.SelectableSet.addAll(f),p&&this.SelectedSet.addAll(f),s&&this.PubSub.publish("callback",{items:this.getSelection()}),r}},{key:"setSelectables",value:function(r){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return console.warn('[DragSelect] DEPRECATION ".setSelectables" is deprecated and will be removed soon. Please use "ds.setSettings({ selectables: << new dom elements >> })" instead (see docs)'),this.removeSelectables(r,p),this.addSelectables(r,s)}},{key:"removeSelectables",value:function(r,p,s){return this.SelectableSet.deleteAll(Me(r)),p&&this.removeSelection(r),s&&this.PubSub.publish("callback",{items:this.getSelection()}),r}}]),d}();return Vn.isCollision=He,Vn})})(ir);var ao=ir.exports;const lo=so(ao),sr=(n,t,o,i,a)=>(t=Math,o=t.log,i=1024,a=o(n)/o(i)|0,n/t.pow(i,a)).toFixed(0)+" "+(a?"KMGTPEZY"[--a]+"iB":"B"),ar=(n,t=null)=>new Date(n*1e3).toLocaleString(t??navigator.language??"en-US"),co={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},ho=[e.createElementVNode("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)],uo={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},fo=[e.createElementVNode("path",{"fill-rule":"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z","clip-rule":"evenodd"},null,-1)],st=Object.assign({name:"VFSortIcon"},{props:{direction:String},setup(n){return(t,o)=>(e.openBlock(),e.createElementBlock("div",null,[n.direction=="down"?(e.openBlock(),e.createElementBlock("svg",co,ho)):e.createCommentVNode("",!0),n.direction=="up"?(e.openBlock(),e.createElementBlock("svg",uo,fo)):e.createCommentVNode("",!0)]))}}),mo=["onClick"],po=Object.assign({name:"VFToast.vue"},{setup(n){const t=e.inject("emitter"),{getStore:o}=e.inject("storage"),i=e.ref(o("full-screen",!1)),a=c=>c=="error"?"text-red-400 border-red-400 dark:text-red-300 dark:border-red-300":"text-lime-600 border-lime-600 dark:text-lime-300 dark:border-lime-1300",l=e.ref([]),u=c=>{l.value.splice(c,1)},g=c=>{let y=l.value.findIndex(m=>m.id===c);y!==-1&&u(y)};return t.on("vf-toast-clear",()=>{l.value=[]}),t.on("vf-toast-push",c=>{let y=new Date().getTime().toString(36).concat(performance.now().toString(),Math.random().toString()).replace(/\./g,"");c.id=y,l.value.push(c),setTimeout(()=>{g(y)},5e3)}),(c,y)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([i.value.value?"fixed":"absolute","bottom-0 max-w-fit flex flex-col bottom-0 left-1/2 -translate-x-1/2"])},[e.createVNode(e.TransitionGroup,{name:"vf-toast-item","leave-active-class":"transition-all duration-1000","leave-to-class":"opacity-0"},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,(m,b)=>(e.openBlock(),e.createElementBlock("div",{onClick:v=>u(b),key:m,class:e.normalizeClass([a(m.type),"inline-block mx-auto my-0.5 py-0.5 px-2 min-w-max bg-gray-50 dark:bg-gray-600 border text-xs sm:text-sm rounded cursor-pointer"])},e.toDisplayString(m.label),11,mo))),128))]),_:1})],2))}}),Ce=n=>Object.entries(n).map(t=>t.map(encodeURIComponent).join("=")).join("&"),{apiUrl:go}=fe(),xt=(n,t)=>go.value+"?"+Ce({q:"preview",adapter:n,path:t}),_e=typeof window<"u",lr=_e&&!("onscroll"in window)||typeof navigator<"u"&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),cr=_e&&"IntersectionObserver"in window,dr=_e&&"classList"in document.createElement("p"),hr=_e&&window.devicePixelRatio>1,yo={elements_selector:".lazy",container:lr||_e?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_bg_set:"bg-set",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_entered:"entered",class_exited:"exited",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1,restore_on_error:!1},ur=n=>Object.assign({},yo,n),fr=function(n,t){let o;const i="LazyLoad::Initialized",a=new n(t);try{o=new CustomEvent(i,{detail:{instance:a}})}catch{o=document.createEvent("CustomEvent"),o.initCustomEvent(i,!1,!1,{instance:a})}window.dispatchEvent(o)},bo=(n,t)=>{if(t)if(!t.length)fr(n,t);else for(let o=0,i;i=t[o];o+=1)fr(n,i)},we="src",kt="srcset",Dt="sizes",mr="poster",Fe="llOriginalAttrs",pr="data",Et="loading",gr="loaded",yr="applied",So="entered",Nt="error",br="native",Sr="data-",vr="ll-status",J=(n,t)=>n.getAttribute(Sr+t),vo=(n,t,o)=>{var i=Sr+t;if(o===null){n.removeAttribute(i);return}n.setAttribute(i,o)},Ue=n=>J(n,vr),Ve=(n,t)=>vo(n,vr,t),at=n=>Ve(n,null),Mt=n=>Ue(n)===null,wo=n=>Ue(n)===Et,_o=n=>Ue(n)===Nt,Ct=n=>Ue(n)===br,xo=[Et,gr,yr,Nt],ko=n=>xo.indexOf(Ue(n))>=0,xe=(n,t,o,i)=>{if(n){if(i!==void 0){n(t,o,i);return}if(o!==void 0){n(t,o);return}n(t)}},Le=(n,t)=>{if(dr){n.classList.add(t);return}n.className+=(n.className?" ":"")+t},me=(n,t)=>{if(dr){n.classList.remove(t);return}n.className=n.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},Do=n=>{n.llTempImage=document.createElement("IMG")},Eo=n=>{delete n.llTempImage},wr=n=>n.llTempImage,lt=(n,t)=>{if(!t)return;const o=t._observer;o&&o.unobserve(n)},No=n=>{n.disconnect()},Mo=(n,t,o)=>{t.unobserve_entered&&lt(n,o)},Vt=(n,t)=>{n&&(n.loadingCount+=t)},Co=n=>{n&&(n.toLoadCount-=1)},_r=(n,t)=>{n&&(n.toLoadCount=t)},Vo=n=>n.loadingCount>0,To=n=>n.toLoadCount>0,xr=n=>{let t=[];for(let o=0,i;i=n.children[o];o+=1)i.tagName==="SOURCE"&&t.push(i);return t},Tt=(n,t)=>{const o=n.parentNode;if(!o||o.tagName!=="PICTURE")return;xr(o).forEach(t)},kr=(n,t)=>{xr(n).forEach(t)},ct=[we],Dr=[we,mr],Ye=[we,kt,Dt],Er=[pr],dt=n=>!!n[Fe],Nr=n=>n[Fe],Mr=n=>delete n[Fe],$e=(n,t)=>{if(dt(n))return;const o={};t.forEach(i=>{o[i]=n.getAttribute(i)}),n[Fe]=o},Io=n=>{dt(n)||(n[Fe]={backgroundImage:n.style.backgroundImage})},Ao=(n,t,o)=>{if(!o){n.removeAttribute(t);return}n.setAttribute(t,o)},Te=(n,t)=>{if(!dt(n))return;const o=Nr(n);t.forEach(i=>{Ao(n,i,o[i])})},Bo=n=>{if(!dt(n))return;const t=Nr(n);n.style.backgroundImage=t.backgroundImage},Cr=(n,t,o)=>{Le(n,t.class_applied),Ve(n,yr),o&&(t.unobserve_completed&&lt(n,t),xe(t.callback_applied,n,o))},Vr=(n,t,o)=>{Le(n,t.class_loading),Ve(n,Et),o&&(Vt(o,1),xe(t.callback_loading,n,o))},ke=(n,t,o)=>{o&&n.setAttribute(t,o)},Tr=(n,t)=>{ke(n,Dt,J(n,t.data_sizes)),ke(n,kt,J(n,t.data_srcset)),ke(n,we,J(n,t.data_src))},Lo=(n,t)=>{Tt(n,o=>{$e(o,Ye),Tr(o,t)}),$e(n,Ye),Tr(n,t)},$o=(n,t)=>{$e(n,ct),ke(n,we,J(n,t.data_src))},jo=(n,t)=>{kr(n,o=>{$e(o,ct),ke(o,we,J(o,t.data_src))}),$e(n,Dr),ke(n,mr,J(n,t.data_poster)),ke(n,we,J(n,t.data_src)),n.load()},Oo=(n,t)=>{$e(n,Er),ke(n,pr,J(n,t.data_src))},Po=(n,t,o)=>{const i=J(n,t.data_bg),a=J(n,t.data_bg_hidpi),l=hr&&a?a:i;l&&(n.style.backgroundImage=`url("${l}")`,wr(n).setAttribute(we,l),Vr(n,t,o))},zo=(n,t,o)=>{const i=J(n,t.data_bg_multi),a=J(n,t.data_bg_multi_hidpi),l=hr&&a?a:i;l&&(n.style.backgroundImage=l,Cr(n,t,o))},Ro=(n,t,o)=>{const i=J(n,t.data_bg_set);if(!i)return;const a=i.split("|");let l=a.map(u=>`image-set(${u})`);n.style.backgroundImage=l.join(),n.style.backgroundImage===""&&(l=a.map(u=>`-webkit-image-set(${u})`),n.style.backgroundImage=l.join()),Cr(n,t,o)},Ir={IMG:Lo,IFRAME:$o,VIDEO:jo,OBJECT:Oo},Ho=(n,t)=>{const o=Ir[n.tagName];o&&o(n,t)},Fo=(n,t,o)=>{const i=Ir[n.tagName];i&&(i(n,t),Vr(n,t,o))},Uo=["IMG","IFRAME","VIDEO","OBJECT"],Yo=n=>Uo.indexOf(n.tagName)>-1,Ar=(n,t)=>{t&&!Vo(t)&&!To(t)&&xe(n.callback_finish,t)},Br=(n,t,o)=>{n.addEventListener(t,o),n.llEvLisnrs[t]=o},Zo=(n,t,o)=>{n.removeEventListener(t,o)},It=n=>!!n.llEvLisnrs,Wo=(n,t,o)=>{It(n)||(n.llEvLisnrs={});const i=n.tagName==="VIDEO"?"loadeddata":"load";Br(n,i,t),Br(n,"error",o)},At=n=>{if(!It(n))return;const t=n.llEvLisnrs;for(let o in t){const i=t[o];Zo(n,o,i)}delete n.llEvLisnrs},Lr=(n,t,o)=>{Eo(n),Vt(o,-1),Co(o),me(n,t.class_loading),t.unobserve_completed&&lt(n,o)},Ko=(n,t,o,i)=>{const a=Ct(t);Lr(t,o,i),Le(t,o.class_loaded),Ve(t,gr),xe(o.callback_loaded,t,i),a||Ar(o,i)},Go=(n,t,o,i)=>{const a=Ct(t);Lr(t,o,i),Le(t,o.class_error),Ve(t,Nt),xe(o.callback_error,t,i),o.restore_on_error&&Te(t,Ye),a||Ar(o,i)},Bt=(n,t,o)=>{const i=wr(n)||n;if(It(i))return;Wo(i,u=>{Ko(u,n,t,o),At(i)},u=>{Go(u,n,t,o),At(i)})},Xo=(n,t,o)=>{Do(n),Bt(n,t,o),Io(n),Po(n,t,o),zo(n,t,o),Ro(n,t,o)},qo=(n,t,o)=>{Bt(n,t,o),Fo(n,t,o)},Lt=(n,t,o)=>{Yo(n)?qo(n,t,o):Xo(n,t,o)},Qo=(n,t,o)=>{n.setAttribute("loading","lazy"),Bt(n,t,o),Ho(n,t),Ve(n,br)},$r=n=>{n.removeAttribute(we),n.removeAttribute(kt),n.removeAttribute(Dt)},Jo=n=>{Tt(n,t=>{$r(t)}),$r(n)},jr=n=>{Tt(n,t=>{Te(t,Ye)}),Te(n,Ye)},ei={IMG:jr,IFRAME:n=>{Te(n,ct)},VIDEO:n=>{kr(n,t=>{Te(t,ct)}),Te(n,Dr),n.load()},OBJECT:n=>{Te(n,Er)}},ti=n=>{const t=ei[n.tagName];if(!t){Bo(n);return}t(n)},ri=(n,t)=>{Mt(n)||Ct(n)||(me(n,t.class_entered),me(n,t.class_exited),me(n,t.class_applied),me(n,t.class_loading),me(n,t.class_loaded),me(n,t.class_error))},ni=(n,t)=>{ti(n),ri(n,t),at(n),Mr(n)},oi=(n,t,o,i)=>{o.cancel_on_exit&&wo(n)&&n.tagName==="IMG"&&(At(n),Jo(n),jr(n),me(n,o.class_loading),Vt(i,-1),at(n),xe(o.callback_cancel,n,t,i))},ii=(n,t,o,i)=>{const a=ko(n);Ve(n,So),Le(n,o.class_entered),me(n,o.class_exited),Mo(n,o,i),xe(o.callback_enter,n,t,i),!a&&Lt(n,o,i)},si=(n,t,o,i)=>{Mt(n)||(Le(n,o.class_exited),oi(n,t,o,i),xe(o.callback_exit,n,t,i))},ai=["IMG","IFRAME","VIDEO"],Or=n=>n.use_native&&"loading"in HTMLImageElement.prototype,li=(n,t,o)=>{n.forEach(i=>{ai.indexOf(i.tagName)!==-1&&Qo(i,t,o)}),_r(o,0)},ci=n=>n.isIntersecting||n.intersectionRatio>0,di=n=>({root:n.container===document?null:n.container,rootMargin:n.thresholds||n.threshold+"px"}),hi=(n,t,o)=>{n.forEach(i=>ci(i)?ii(i.target,i,t,o):si(i.target,i,t,o))},ui=(n,t)=>{t.forEach(o=>{n.observe(o)})},fi=(n,t)=>{No(n),ui(n,t)},mi=(n,t)=>{!cr||Or(n)||(t._observer=new IntersectionObserver(o=>{hi(o,n,t)},di(n)))},Pr=n=>Array.prototype.slice.call(n),ht=n=>n.container.querySelectorAll(n.elements_selector),pi=n=>Pr(n).filter(Mt),gi=n=>_o(n),yi=n=>Pr(n).filter(gi),zr=(n,t)=>pi(n||ht(t)),bi=(n,t)=>{yi(ht(n)).forEach(i=>{me(i,n.class_error),at(i)}),t.update()},Si=(n,t)=>{_e&&(t._onlineHandler=()=>{bi(n,t)},window.addEventListener("online",t._onlineHandler))},vi=n=>{_e&&window.removeEventListener("online",n._onlineHandler)},Ze=function(n,t){const o=ur(n);this._settings=o,this.loadingCount=0,mi(o,this),Si(o,this),this.update(t)};Ze.prototype={update:function(n){const t=this._settings,o=zr(n,t);if(_r(this,o.length),lr||!cr){this.loadAll(o);return}if(Or(t)){li(o,t,this);return}fi(this._observer,o)},destroy:function(){this._observer&&this._observer.disconnect(),vi(this),ht(this._settings).forEach(n=>{Mr(n)}),delete this._observer,delete this._settings,delete this._onlineHandler,delete this.loadingCount,delete this.toLoadCount},loadAll:function(n){const t=this._settings;zr(n,t).forEach(i=>{lt(i,this),Lt(i,t,this)})},restoreAll:function(){const n=this._settings;ht(n).forEach(t=>{ni(t,n)})}},Ze.load=(n,t)=>{const o=ur(t);Lt(n,o)},Ze.resetStatus=n=>{at(n)},_e&&bo(Ze,window.lazyLoadOptions);const wi={class:"relative flex-auto flex flex-col overflow-hidden custom-explorer"},_i={key:0,class:"grid grid-cols-12 border-b border-neutral-300 border-gray-200 dark:border-gray-700 text-xs select-none"},xi={class:"absolute"},ki=e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"absolute h-6 w-6 md:h-12 md:w-12 m-auto stroke-neutral-500 fill-white dark:fill-gray-700 dark:stroke-gray-600 z-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1),Di={class:"text-neutral-700 dark:text-neutral-300 p-1 absolute text-center top-4 right-[-2rem] md:top-5 md:right-[-2.4rem] z-20 text-xs"},Ei=["onDblclick","onContextmenu","data-type","data-item","data-index"],Ni={class:"grid grid-cols-12 items-center"},Mi={class:"flex col-span-7 items-center"},Ci={key:0,src:_t,alt:""},Vi={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},Ti=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)],Ii={class:"overflow-ellipsis overflow-hidden whitespace-nowrap"},Ai={class:"col-span-5 overflow-ellipsis overflow-hidden whitespace-nowrap"},Bi=["onDblclick","onContextmenu","onDragstart","onDragover","onDrop","data-type","data-item","data-index"],Li={class:"grid grid-cols-12 items-center"},$i={class:"flex col-span-7 items-center"},ji={key:0,src:_t,alt:""},Oi={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},Pi=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)],zi={class:"overflow-ellipsis overflow-hidden whitespace-nowrap"},Ri={class:"col-span-2 text-center"},Hi={class:"col-span-3 overflow-ellipsis overflow-hidden whitespace-nowrap"},Fi=["onDblclick","onContextmenu","onDragstart","onDragover","onDrop","data-type","data-item","data-index"],Ui={class:"custom-grid-item-div"},Yi={key:0,src:_t,alt:""},Zi=["data-src","alt"],Wi={key:2,xmlns:"http://www.w3.org/2000/svg",class:"h-10 w-10 md:h-12 md:w-12 m-auto text-neutral-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},Ki=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)],Gi={key:3,class:"absolute hidden md:block top-1/2 w-full text-center text-neutral-500"},Xi={class:"break-all custom-item-text"},qi=Object.assign({name:"VFExplorer"},{props:{view:String,data:Object,search:Object},setup(n){const t=n,o=e.inject("emitter"),{setStore:i,getStore:a}=e.inject("storage"),l=e.inject("adapter"),u=V=>V==null?void 0:V.substring(0,3),g=V=>V.replace(/((?=([\w\W]{0,14}))([\w\W]{8,})([\w\W]{8,}))/,"$2..$4"),c=e.ref(null),y=e.ref(null),m=e.ref(0),b=e.ref(null),{t:v}=e.inject("i18n"),x=Math.floor(Math.random()*2**32),k=e.ref(a("full-screen",!1)),C=new Ze;o.on("vf-fullscreen-toggle",()=>{c.value.style.height=null,k.value=!k.value,i("full-screen",k.value)});const M=e.ref("");o.on("vf-search-query",({newQuery:V})=>{M.value=V,V?o.emit("vf-fetch",{params:{q:"search",adapter:t.data.adapter,path:t.data.dirname,filter:V},onSuccess:I=>{I.files.length||o.emit("vf-toast-push",{label:v("No search result found.")})}}):o.emit("vf-fetch",{params:{q:"index",adapter:t.data.adapter,path:t.data.dirname}})});let $=null;const E=()=>{$&&clearTimeout($)},N=e.ref(!0),B=V=>{V.touches.length>1&&(N.value?(b.value.stop(),o.emit("vf-toast-push",{label:v("Drag&Drop: off")})):(b.value.start(),o.emit("vf-toast-push",{label:v("Drag&Drop: on")}),o.emit("vf-explorer-update")),N.value=!N.value)},R=V=>{$=setTimeout(()=>{const I=new MouseEvent("contextmenu",{bubbles:!0,cancelable:!1,view:window,button:2,buttons:0,clientX:V.target.getBoundingClientRect().x,clientY:V.target.getBoundingClientRect().y});V.target.dispatchEvent(I)},500)},_=V=>{V.type=="dir"?(o.emit("vf-search-exit"),o.emit("vf-fetch",{params:{q:"index",adapter:t.data.adapter,path:V.path}})):o.emit("vf-modal-show",{type:"preview",adapter:t.data.adapter,item:V})},A=e.reactive({active:!1,column:"",order:""}),H=(V=!0)=>{let I=[...t.data.files],T=A.column,q=A.order=="asc"?1:-1;if(!V)return I;const O=(le,de)=>typeof le=="string"&&typeof de=="string"?le.toLowerCase().localeCompare(de.toLowerCase()):le<de?-1:le>de?1:0;return A.active&&(I=I.slice().sort((le,de)=>O(le[T],de[T])*q)),I},W=V=>{A.active&&A.column==V?(A.active=A.order=="asc",A.column=V,A.order="desc"):(A.active=!0,A.column=V,A.order="asc")},Z=()=>b.value.getSelection().map(V=>JSON.parse(V.dataset.item)),re=(V,I)=>{if(V.altKey||V.ctrlKey||V.metaKey)return V.preventDefault(),!1;V.dataTransfer.setDragImage(y.value,0,15),V.dataTransfer.effectAllowed="all",V.dataTransfer.dropEffect="copy",V.dataTransfer.setData("items",JSON.stringify(Z()))},ae=(V,I)=>{V.preventDefault();let T=JSON.parse(V.dataTransfer.getData("items"));if(T.find(q=>q.storage!=l.value)){alert("Moving items between different storages is not supported yet.");return}o.emit("vf-modal-show",{type:"move",items:{from:T,to:I}})},oe=(V,I)=>{V.preventDefault(),!I||I.type!=="dir"||b.value.getSelection().find(T=>T==V.currentTarget)?(V.dataTransfer.dropEffect="none",V.dataTransfer.effectAllowed="none"):V.dataTransfer.dropEffect="copy"},ne=()=>{b.value=new lo({area:c.value,keyboardDrag:!1,selectedClass:"vf-explorer-selected",selectorClass:"vf-explorer-selector"}),o.on("vf-explorer-update",()=>e.nextTick(()=>{b.value.clearSelection(),b.value.setSelectables(document.getElementsByClassName("vf-item-"+x))})),b.value.subscribe("predragstart",({event:V,isDragging:I})=>{if(I)m.value=b.value.getSelection().length,b.value.break();else{const T=V.target.offsetWidth-V.offsetX,q=V.target.offsetHeight-V.offsetY;T<15&&q<15&&(b.value.clearSelection(),b.value.break())}}),b.value.subscribe("predragmove",({isDragging:V})=>{V&&b.value.break()}),b.value.subscribe("callback",({items:V,event:I,isDragging:T})=>{o.emit("vf-nodes-selected",Z()),m.value=b.value.getSelection().length})};e.onMounted(ne),e.onUpdated(()=>{b.value.Area.reset(),b.value.SelectorArea.updatePos(),C.update()}),e.onMounted(()=>{e.watch(()=>t.view,()=>o.emit("vf-explorer-update"))});const X=()=>{console.log("test emit"),o.emit("custom-emit-test")};return(V,I)=>(e.openBlock(),e.createElementBlock("div",wi,[n.view=="list"||M.value.length?(e.openBlock(),e.createElementBlock("div",_i,[e.createElementVNode("div",{onClick:I[0]||(I[0]=T=>W("basename")),class:"col-span-7 py-1 leading-6 hover:bg-neutral-100 bg-neutral-50 dark:bg-gray-800 dark:hover:bg-gray-700/10 flex items-center pl-1"},[e.createTextVNode(e.toDisplayString(e.unref(v)("Name"))+" ",1),e.withDirectives(e.createVNode(st,{direction:A.order=="asc"?"down":"up"},null,8,["direction"]),[[e.vShow,A.active&&A.column=="basename"]])]),M.value.length?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:0,onClick:I[1]||(I[1]=T=>W("file_size")),class:"col-span-2 py-1 leading-6 hover:bg-neutral-100 bg-neutral-50 dark:bg-gray-800 dark:hover:bg-gray-700/10 flex items-center justify-center border-l border-r dark:border-gray-700"},[e.createTextVNode(e.toDisplayString(e.unref(v)("Size"))+" ",1),e.withDirectives(e.createVNode(st,{direction:A.order=="asc"?"down":"up"},null,8,["direction"]),[[e.vShow,A.active&&A.column=="file_size"]])])),M.value.length?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:1,onClick:I[2]||(I[2]=T=>W("last_modified")),class:"col-span-3 py-1 leading-6 hover:bg-neutral-100 bg-neutral-50 dark:bg-gray-800 dark:hover:bg-gray-700/10 flex items-center justify-center"},[e.createTextVNode(e.toDisplayString(e.unref(v)("Date"))+" ",1),e.withDirectives(e.createVNode(st,{direction:A.order=="asc"?"down":"up"},null,8,["direction"]),[[e.vShow,A.active&&A.column=="last_modified"]])])),M.value.length?(e.openBlock(),e.createElementBlock("div",{key:2,onClick:I[3]||(I[3]=T=>W("path")),class:"col-span-5 py-1 leading-6 hover:bg-neutral-100 bg-neutral-50 dark:bg-gray-800 dark:hover:bg-gray-700/10 flex items-center justify-center border-l dark:border-gray-700"},[e.createTextVNode(e.toDisplayString(e.unref(v)("Filepath"))+" ",1),e.withDirectives(e.createVNode(st,{direction:A.order=="asc"?"down":"up"},null,8,["direction"]),[[e.vShow,A.active&&A.column=="path"]])])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),e.createElementVNode("div",xi,[e.createElementVNode("div",{ref_key:"dragImage",ref:y,class:"absolute -z-50 -top-96"},[ki,e.createElementVNode("div",Di,e.toDisplayString(m.value),1)],512)]),e.createElementVNode("div",{onTouchstart:B,onContextmenu:I[10]||(I[10]=e.withModifiers(T=>e.unref(o).emit("vf-contextmenu-show",{event:T,area:c.value,items:Z()}),["self","prevent"])),class:e.normalizeClass([(k.value,""),"h-full w-full text-xs vf-selector-area min-h-[150px] overflow-auto"]),ref_key:"selectorArea",ref:c},[M.value.length?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(H(),(T,q)=>(e.openBlock(),e.createElementBlock("div",{onDblclick:O=>_(T),onTouchstart:I[4]||(I[4]=O=>R(O)),onTouchend:I[5]||(I[5]=O=>E()),onContextmenu:e.withModifiers(O=>e.unref(o).emit("vf-contextmenu-show",{event:O,area:c.value,items:Z(),target:T}),["prevent"]),class:e.normalizeClass(["vf-item-"+e.unref(x),"custom-grid-search-item grid grid-cols-1 border hover:bg-neutral-50 dark:hover:bg-gray-700 border-transparent my-0.5 w-full select-none"]),"data-type":T.type,"data-item":JSON.stringify(T),"data-index":q},[e.createElementVNode("div",Ni,[e.createElementVNode("div",Mi,[T.type=="dir"?(e.openBlock(),e.createElementBlock("img",Ci)):(e.openBlock(),e.createElementBlock("svg",Vi,Ti)),e.createElementVNode("span",Ii,e.toDisplayString(T.basename),1)]),e.createElementVNode("div",Ai,e.toDisplayString(T.path),1)])],42,Ei))),256)):e.createCommentVNode("",!0),n.view=="list"&&!M.value.length?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(H(),(T,q)=>(e.openBlock(),e.createElementBlock("div",{draggable:"true",onDblclick:O=>_(T),onTouchstart:I[6]||(I[6]=O=>R(O)),onTouchend:I[7]||(I[7]=O=>E()),onContextmenu:e.withModifiers(O=>e.unref(o).emit("vf-contextmenu-show",{event:O,area:c.value,items:Z(),target:T}),["prevent"]),onDragstart:O=>re(O),onDragover:O=>oe(O,T),onDrop:O=>ae(O,T),class:e.normalizeClass(["vf-item-"+e.unref(x),"custom-list-item grid grid-cols-1 border hover:bg-neutral-50 dark:hover:bg-gray-700 border-transparent my-0.5 w-full select-none"]),"data-type":T.type,"data-item":JSON.stringify(T),"data-index":q},[e.createElementVNode("div",Li,[e.createElementVNode("div",$i,[T.type=="dir"?(e.openBlock(),e.createElementBlock("img",ji)):(e.openBlock(),e.createElementBlock("svg",Oi,Pi)),e.createElementVNode("span",zi,e.toDisplayString(T.basename),1)]),e.createElementVNode("div",Ri,e.toDisplayString(T.file_size?e.unref(sr)(T.file_size):""),1),e.createElementVNode("div",Hi,e.toDisplayString(e.unref(ar)(T.last_modified)),1)])],42,Bi))),256)):e.createCommentVNode("",!0),n.view=="grid"&&!M.value.length?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:2},e.renderList(H(!1),(T,q)=>(e.openBlock(),e.createElementBlock("div",{draggable:"true",onDblclick:O=>_(T),onTouchstart:I[8]||(I[8]=O=>R(O)),onTouchend:I[9]||(I[9]=O=>E()),onContextmenu:e.withModifiers(O=>e.unref(o).emit("vf-contextmenu-show",{event:O,area:c.value,items:Z(),target:T}),["prevent"]),onDragstart:O=>re(O),onDragover:O=>oe(O,T),onDrop:O=>ae(O,T),class:e.normalizeClass(["vf-item-"+e.unref(x),"custom-grid-item border border-transparent hover:bg-neutral-50 m-1 dark:hover:bg-gray-700 inline-flex select-none"]),"data-type":T.type,"data-item":JSON.stringify(T),"data-index":q},[e.createElementVNode("div",Ui,[e.createElementVNode("div",{class:"relative grid-folder-view-item",onDblclick:X},[T.type=="dir"?(e.openBlock(),e.createElementBlock("img",Yi)):(T.mime_type??"").startsWith("image")?(e.openBlock(),e.createElementBlock("img",{key:1,class:"custom-grid-item-file lazy","data-src":e.unref(xt)(e.unref(l).value,T.path),alt:T.basename},null,8,Zi)):(e.openBlock(),e.createElementBlock("svg",Wi,Ki)),!(T.mime_type??"").startsWith("image")&&T.type!="dir"?(e.openBlock(),e.createElementBlock("div",Gi,e.toDisplayString(u(T.extension)),1)):e.createCommentVNode("",!0)],32),e.createElementVNode("span",Xi,e.toDisplayString(g(T.basename)),1)])],42,Fi))),256)):e.createCommentVNode("",!0)],34),e.createVNode(po)]))}}),Qi={class:"p-1 text-xs border-t border-neutral-300 dark:border-gray-700/50 flex justify-between select-none"},Ji={class:"flex leading-5 items-center"},es={class:"ml-3"},ts={key:0},rs={class:"ml-1"},ns=Object.assign({name:"VFStatusbar"},{props:{data:Object},setup(n){const t=e.inject("emitter"),{getStore:o,setStore:i}=e.inject("storage"),a=e.ref(0);e.inject("adapter");const{t:l,changeLocale:u}=e.inject("i18n");e.ref(o("locale","")),t.on("vf-nodes-selected",c=>{a.value=c.length});const g=e.ref("");return t.on("vf-search-query",({newQuery:c})=>{g.value=c}),(c,y)=>(e.openBlock(),e.createElementBlock("div",Qi,[e.createElementVNode("div",Ji,[e.createElementVNode("div",es,[g.value.length?(e.openBlock(),e.createElementBlock("span",ts,e.toDisplayString(n.data.files.length)+" items found. ",1)):e.createCommentVNode("",!0),e.createElementVNode("span",rs,e.toDisplayString(a.value>0?a.value+" "+e.unref(l)("item(s) selected."):""),1)])])]))}}),os=(n,t=0,o=!1)=>{let i;return(...a)=>{o&&!i&&n(...a),clearTimeout(i),i=setTimeout(()=>{n(...a)},t)}},is=(n,t,o)=>{const i=e.ref(n);return e.customRef((l,u)=>({get(){return l(),i.value},set:os(g=>{i.value=g,u()},t,o)}))},ss={class:"custom-file-picker-search-bar flex p-2 bg-neutral-100 dark:bg-gray-800 border-t border-b border-neutral-300 dark:border-gray-700/50 items-center select-none text-xs"},as=["aria-label"],ls=[e.createElementVNode("path",{"fill-rule":"evenodd",d:"M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 7.414V15a1 1 0 11-2 0V7.414L6.707 9.707a1 1 0 01-1.414 0z","clip-rule":"evenodd"},null,-1)],cs=["aria-label"],ds=[e.createElementVNode("path",{d:"M463.5 224H472c13.3 0 24-10.7 24-24V72c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2L413.4 96.6c-87.6-86.5-228.7-86.2-315.8 1c-87.5 87.5-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3c62.2-62.2 162.7-62.5 225.3-1L327 183c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8H463.5z"},null,-1)],hs=["aria-label"],us=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1)],fs=["onClick"],ms=[e.createElementVNode("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"},null,-1)],ps={class:"flex leading-5"},gs=e.createElementVNode("span",{class:"text-neutral-300 dark:text-gray-600 mx-0.5"},"/",-1),ys=["title","onClick"],bs={key:0,class:"animate-spin p-1 h-6 w-6 text-white ml-auto",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Ss=[e.createElementVNode("circle",{class:"opacity-25 stroke-blue-900 dark:stroke-blue-100",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e.createElementVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)],vs={key:3,class:"relative flex bg-white dark:bg-gray-700 items-center rounded p-1 ml-2 w-full"},ws=e.createElementVNode("svg",{class:"h-6 w-6 p-1 m-auto stroke-gray-400 fill-gray-100 dark:stroke-gray-400 dark:fill-gray-400/20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})],-1),_s=e.createElementVNode("div",{class:"w-full"},null,-1),xs=["onKeydown","placeholder"],ks=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1)],Ds=Object.assign({name:"VFBreadcrumb"},{props:{data:Object},setup(n){const t=n,o=e.inject("emitter");e.inject("storage");const i=e.inject("adapter"),a=e.ref(null),l=e.ref([]),u=e.ref(!1),g=e.ref(null),{t:c}=e.inject("i18n"),y=e.inject("loadingState");o.on("vf-explorer-update",()=>{let E=[],N=[];a.value=t.data.dirname??i.value+"://",a.value.length==0&&(l.value=[]),a.value.replace(i.value+"://","").split("/").forEach(function(B){E.push(B),E.join("/")!=""&&N.push({basename:B,name:B,path:i.value+"://"+E.join("/"),type:"dir"})}),N.length>4&&(N=N.slice(-5),N[0].name=".."),l.value=N});const m=()=>{u.value=!1,v.value=""};o.on("vf-search-exit",()=>{m()});const b=()=>{u.value=!0,e.nextTick(()=>g.value.focus())},v=is("",400),x=()=>y.value;e.watch(v,E=>{o.emit("vf-toast-clear"),o.emit("vf-search-query",{newQuery:E})});const k=()=>l.value.length&&!u.value,C=E=>{E.preventDefault();let N=JSON.parse(E.dataTransfer.getData("items"));if(N.find(B=>B.storage!=i.value)){alert("Moving items between different storages is not supported yet.");return}o.emit("vf-modal-show",{type:"move",items:{from:N,to:l.value[l.value.length-2]??{path:i.value+"://"}}})},M=E=>{E.preventDefault(),k()?E.dataTransfer.dropEffect="copy":(E.dataTransfer.dropEffect="none",E.dataTransfer.effectAllowed="none")},$=()=>{v.value==""&&m()};return(E,N)=>(e.openBlock(),e.createElementBlock("div",ss,[e.createElementVNode("span",{"aria-label":e.unref(c)("Go up a directory"),"data-microtip-position":"bottom-right",role:"tooltip"},[(e.openBlock(),e.createElementBlock("svg",{onDragover:N[0]||(N[0]=B=>M(B)),onDrop:N[1]||(N[1]=B=>C(B)),onClick:N[2]||(N[2]=B=>{var R;return!k()||e.unref(o).emit("vf-fetch",{params:{q:"index",adapter:n.data.adapter,path:((R=l.value[l.value.length-2])==null?void 0:R.path)??e.unref(i)+"://"}})}),class:e.normalizeClass(["h-6 w-6 p-0.5 rounded",k()?"text-slate-700 hover:bg-neutral-300 dark:text-neutral-200 dark:hover:bg-gray-700 cursor-pointer":"text-gray-400 dark:text-neutral-500"]),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},ls,34))],8,as),x()?(e.openBlock(),e.createElementBlock("span",{key:1,"aria-label":e.unref(c)("Cancel"),"data-microtip-position":"bottom-right",role:"tooltip"},[(e.openBlock(),e.createElementBlock("svg",{onClick:N[4]||(N[4]=B=>e.unref(o).emit("vf-fetch-abort")),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-6 w-6 p-1 rounded text-slate-700 hover:bg-neutral-300 dark:text-neutral-200 dark:hover:bg-gray-700 cursor-pointer"},us))],8,hs)):(e.openBlock(),e.createElementBlock("span",{key:0,"aria-label":e.unref(c)("Refresh"),"data-microtip-position":"bottom-right",role:"tooltip"},[(e.openBlock(),e.createElementBlock("svg",{onClick:N[3]||(N[3]=B=>e.unref(o).emit("vf-fetch",{params:{q:"index",adapter:n.data.adapter,path:n.data.dirname}})),class:"h-6 w-6 p-1 rounded text-slate-700 hover:bg-neutral-300 dark:text-neutral-200 dark:hover:bg-gray-700 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",viewBox:"-40 -40 580 580",fill:"currentColor"},ds))],8,cs)),u.value?(e.openBlock(),e.createElementBlock("div",vs,[ws,_s,e.withDirectives(e.createElementVNode("input",{ref_key:"searchInput",ref:g,onKeydown:e.withKeys(m,["esc"]),onBlur:$,"onUpdate:modelValue":N[6]||(N[6]=B=>e.isRef(v)?v.value=B:null),placeholder:e.unref(c)("Search anything.."),class:"absolute ml-4 pt-1 pb-0 px-2 border-0 ring-0 outline-0 text-gray-600 focus:ring-transparent focus:border-transparent dark:focus:ring-transparent dark:focus:border-transparent dark:text-gray-300 bg-transparent",type:"text"},null,40,xs),[[e.vModelText,e.unref(v)]]),(e.openBlock(),e.createElementBlock("svg",{class:"w-6 h-6 cursor-pointer",onClick:m,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},ks))])):(e.openBlock(),e.createElementBlock("div",{key:2,class:"custom-search-bar group flex bg-white dark:bg-gray-700 items-center rounded p-1 ml-2 w-full",onClick:e.withModifiers(b,["self"])},[(e.openBlock(),e.createElementBlock("svg",{onClick:N[5]||(N[5]=B=>e.unref(o).emit("vf-fetch",{params:{q:"index",adapter:n.data.adapter}})),class:"h-6 w-6 p-1 rounded text-slate-700 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-gray-800 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},ms)),e.createElementVNode("div",ps,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,(B,R)=>(e.openBlock(),e.createElementBlock("div",{key:R},[gs,e.createElementVNode("span",{class:"px-1.5 py-1 text-slate-700 dark:text-slate-200 hover:bg-neutral-100 dark:hover:bg-gray-800 rounded cursor-pointer",title:B.basename,onClick:_=>e.unref(o).emit("vf-fetch",{params:{q:"index",adapter:n.data.adapter,path:B.path}})},e.toDisplayString(B.name),9,ys)]))),128))]),x()?(e.openBlock(),e.createElementBlock("svg",bs,Ss)):e.createCommentVNode("",!0)],8,fs))]))}}),Es=["onClick"],Ns=e.createElementVNode("span",{class:"px-1"},null,-1),Ms=Object.assign({name:"VFContextMenu"},{props:{current:Object},setup(n){const t=n,o=e.inject("emitter"),i=e.ref(null),{apiUrl:a}=fe(),l=e.reactive({active:!1,items:[],positions:{left:0,top:0}}),u=e.ref([]);o.on("vf-context-selected",v=>{u.value=v});const{t:g}=e.inject("i18n"),c={newfolder:{title:()=>g("New Folder"),action:()=>{o.emit("vf-modal-show",{type:"new-folder"})}},delete:{title:()=>g("Delete"),action:()=>{o.emit("vf-modal-show",{type:"delete",items:u})}},refresh:{title:()=>g("Refresh"),action:()=>{o.emit("vf-fetch",{params:{q:"index",adapter:t.current.adapter,path:t.current.dirname}})}},preview:{title:()=>g("Preview"),action:()=>{o.emit("vf-modal-show",{type:"preview",adapter:t.current.adapter,item:u.value[0]})}},open:{title:()=>g("Open"),action:()=>{o.emit("vf-search-exit"),o.emit("vf-fetch",{params:{q:"index",adapter:t.current.adapter,path:u.value[0].path}})}},openDir:{title:()=>g("Open containing folder"),action:()=>{o.emit("vf-search-exit"),o.emit("vf-fetch",{params:{q:"index",adapter:t.current.adapter,path:u.value[0].dir}})}},download:{title:()=>g("Download"),action:()=>{const v=a.value+"?"+Ce({q:"download",adapter:t.current.adapter,path:u.value[0].path});o.emit("vf-download",v)}},rename:{title:()=>g("Rename"),action:()=>{o.emit("vf-modal-show",{type:"rename",items:u})}}},y=v=>{o.emit("vf-contextmenu-hide"),v.action()},m=e.ref("");o.on("vf-search-query",({newQuery:v})=>{m.value=v}),o.on("vf-contextmenu-show",({event:v,area:x,items:k,target:C=null})=>{if(l.items=[],m.value)if(C)l.items.push(c.openDir),o.emit("vf-context-selected",[C]);else return;else!C&&!m.value?(l.items.push(c.refresh),l.items.push(c.newfolder),o.emit("vf-context-selected",[])):k.length>1&&k.some(M=>M.path===C.path)?(l.items.push(c.refresh),l.items.push(c.delete),o.emit("vf-context-selected",k)):(C.type=="dir"?l.items.push(c.open):(l.items.push(c.preview),l.items.push(c.download)),l.items.push(c.rename),l.items.push(c.delete),o.emit("vf-context-selected",[C]));b(v,x)}),o.on("vf-contextmenu-hide",()=>{l.active=!1});const b=(v,x)=>{l.active=!0,e.nextTick(()=>{let k=x.getBoundingClientRect(),C=v.pageX,M=v.pageY,$=i.value.offsetHeight,E=i.value.offsetWidth;C=k.right-v.pageX+window.scrollX<E?C-E:C,M=k.bottom-v.pageY+window.scrollY<$?M-$:M,l.positions={left:C+"px",top:M+"px"}})};return(v,x)=>l.active?(e.openBlock(),e.createElementBlock("ul",{key:0,class:"z-30 absolute text-xs bg-neutral-50 dark:bg-gray-800 text-gray-700 dark:text-gray-200 border border-neutral-300 dark:border-gray-600 shadow rounded select-none",ref_key:"contextmenu",ref:i,style:e.normalizeStyle(l.positions)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.items,k=>(e.openBlock(),e.createElementBlock("li",{class:"px-2 py-1.5 cursor-pointer hover:bg-neutral-200 dark:hover:bg-gray-700",key:k.title,onClick:C=>y(k)},[Ns,e.createElementVNode("span",null,e.toDisplayString(k.title()),1)],8,Es))),128))],4)):e.createCommentVNode("",!0)}}),Cs=(n,t)=>{const o=n[t];return o?typeof o=="function"?o():Promise.resolve(o):new Promise((i,a)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(a.bind(null,new Error("Unknown variable dynamic import: "+t)))})};async function Vs(n){const t=await Cs(Object.assign({"../locales/en.json":()=>Promise.resolve().then(()=>Fd),"../locales/fa.json":()=>Promise.resolve().then(()=>Ud),"../locales/he.json":()=>Promise.resolve().then(()=>Yd),"../locales/ru.json":()=>Promise.resolve().then(()=>Zd),"../locales/tr.json":()=>Promise.resolve().then(()=>Wd)}),`../locales/${n}.json`);return JSON.parse(t.default)}function Ts(n,t,o){const{getStore:i,setStore:a}=wt(n),l=e.ref({}),u=y=>{Vs(y).then(m=>{l.value=m,a("locale",y),a("translations",m),o.emit("vf-toast-push",{label:"The language is set to "+y})}).catch(m=>{o.emit("vf-toast-push",{label:"The selected locale is not yet supported!",type:"error"}),u("en")})};i("locale")?l.value=i("translations"):u(t);const g=(y,...m)=>m.length?g(y=y.replace("%s",m.shift()),...m):y;function c(y,...m){return l.value.hasOwnProperty(y)?g(l.value[y],...m):g(y,...m)}return{t:c,changeLocale:u}}const Is={class:"vuefinder"},As=e.createElementVNode("iframe",{id:"download_frame",style:{display:"none"}},null,-1),Bs=Object.assign({name:"VueFinder"},{props:{url:{type:[String]},id:{type:String,default:"vf"},dark:{type:Boolean,default:!1},locale:{type:String,default:"en"},maxHeight:{type:String,default:"600px"},maxFileSize:{type:String,default:"10mb"},postData:{type:Object,default:{}}},emits:["deleteButton","fileMoved"],setup(n,{emit:t}){const o=n,i=In(),{setStore:a,getStore:l}=wt(o.id),u=e.ref(l("adapter"));e.provide("emitter",i),e.provide("storage",wt(o.id)),e.provide("postData",o.postData),e.provide("adapter",u),e.provide("maxFileSize",o.maxFileSize);const g=Ts(o.id,o.locale,i);e.provide("i18n",g);const{apiUrl:c,setApiUrl:y}=fe();y(o.url);const m=e.reactive({adapter:u.value,storages:[],dirname:".",files:[]}),b=e.ref(l("viewport","grid")),v=e.ref(l("darkMode",o.dark));i.on("vf-darkMode-toggle",()=>{v.value=!v.value,a("darkMode",v.value)});const x=e.ref(!1);e.provide("loadingState",x);const k=e.ref(l("full-screen",!1));i.on("vf-fullscreen-toggle",()=>{k.value=!k.value,a("full-screen",k.value)}),i.on("vf-view-toggle",E=>{b.value=E});const C=e.reactive({active:!1,type:"delete",data:{}});i.on("vf-modal-close",()=>{C.active=!1}),i.on("vf-modal-show",E=>{C.active=!0,C.type=E.type,C.data=E}),i.on("delete-button",E=>{console.log("emit delete"),t("deleteButton",E)}),i.on("file-moved",E=>{console.log("emit file moved"),t("fileMoved",E)});const M=E=>{Object.assign(m,E),i.emit("vf-nodes-selected",{}),i.emit("vf-explorer-update")};let $;return i.on("vf-fetch-abort",()=>{$.abort(),x.value=!1}),i.on("vf-fetch",({params:E,onSuccess:N=null,onError:B=null})=>{["index","search"].includes(E.q)&&($&&$.abort(),x.value=!0),$=new AbortController;const R=$.signal;it(c.value,{params:E,signal:R}).then(_=>{u.value=_.adapter,["index","search"].includes(E.q)&&(x.value=!1),i.emit("vf-modal-close"),M(_),N(_)}).catch(_=>{B&&B(_)}).finally(()=>{})}),i.on("vf-download",E=>{document.getElementById("download_frame").src=E,i.emit("vf-modal-close")}),e.onMounted(()=>{i.emit("vf-fetch",{params:{q:"index",adapter:u.value}})}),(E,N)=>(e.openBlock(),e.createElementBlock("div",Is,[e.createElementVNode("div",{class:e.normalizeClass(v.value?"dark":"")},[e.createElementVNode("div",{class:e.normalizeClass([k.value?"fixed w-screen inset-0 z-20":"relative rounded-md","border flex flex-col bg-white dark:bg-gray-800 text-gray-700 dark:text-neutral-400 border-neutral-300 dark:border-gray-900 min-w-min select-none"]),style:e.normalizeStyle(k.value?"":"max-height: "+n.maxHeight),onMousedown:N[0]||(N[0]=B=>e.unref(i).emit("vf-contextmenu-hide")),onTouchstart:N[1]||(N[1]=B=>e.unref(i).emit("vf-contextmenu-hide"))},[e.createVNode(oo,{data:m},null,8,["data"]),e.createVNode(Ds,{data:m},null,8,["data"]),e.createVNode(qi,{view:b.value,data:m},null,8,["view","data"]),e.createVNode(ns,{data:m},null,8,["data"])],38),C.active?(e.openBlock(),e.createBlock(e.resolveDynamicComponent("v-f-modal-"+C.type),{key:0,selection:C.data,current:m},null,8,["selection","current"])):e.createCommentVNode("",!0),e.createVNode(Ms,{current:m},null,8,["current"]),As],2)]))}}),Ls=e.createElementVNode("div",{class:"fixed inset-0 bg-gray-500 dark:bg-gray-600 dark:bg-opacity-75 bg-opacity-75 transition-opacity custom-upload-background"},null,-1),$s={class:"fixed z-10 inset-0 overflow-hidden"},js={class:"custom-popup-layout transition-all"},Os={class:"bg-white dark:bg-gray-800 custom-layout-pop-window"},Ps={class:"custom-layout-button-slot"},pe={__name:"ModalLayout",setup(n){const t=e.inject("emitter");return e.onMounted(()=>{const o=document.querySelector(".v-f-modal input");o&&o.focus()}),(o,i)=>(e.openBlock(),e.createElementBlock("div",{class:"v-f-modal relative z-30","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",onKeyup:i[1]||(i[1]=e.withKeys(a=>e.unref(t).emit("vf-modal-close"),["esc"])),tabindex:"0"},[Ls,e.createElementVNode("div",$s,[e.createElementVNode("div",{class:"flex items-end sm:items-center justify-center min-h-full p-4 text-center sm:p-0",onMousedown:i[0]||(i[0]=e.withModifiers(a=>e.unref(t).emit("vf-modal-close"),["self"]))},[e.createElementVNode("div",js,[e.createElementVNode("div",Os,[e.renderSlot(o.$slots,"default")]),e.createElementVNode("div",Ps,[e.renderSlot(o.$slots,"buttons")])])],32)])],32))}},zs=["aria-label"],Rs=[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)],ge=Object.assign({name:"Message"},{props:{error:{type:Boolean,default:!1}},emits:["hidden"],setup(n,{emit:t}){var g;const{t:o}=e.inject("i18n"),i=e.ref(!1),a=e.ref(null),l=e.ref((g=a.value)==null?void 0:g.strMessage);e.watch(l,()=>i.value=!1);const u=()=>{t("hidden"),i.value=!0};return(c,y)=>(e.openBlock(),e.createElementBlock("div",null,[i.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"strMessage",ref:a,class:e.normalizeClass(["flex mt-1 p-1 px-2 rounded text-sm",n.error?"bg-red-100 text-red-600":"bg-emerald-100 text-emerald-600"])},[e.renderSlot(c.$slots,"default"),e.createElementVNode("div",{class:"ml-auto cursor-pointer",onClick:u,"aria-label":e.unref(o)("Close"),"data-microtip-position":"top-left",role:"tooltip"},Rs,8,zs)],2))]))}}),Hs={class:"sm:flex custom-new-folder-popup delete-modal-container"},Fs={class:"custom-file-picker-title"},Us={class:"file-picker-title-img"},Ys=e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 stroke-blue-600 dark:stroke-blue-100",fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})],-1),Zs={class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title"},Ws=e.createElementVNode("hr",null,null,-1),Ks={class:"mt-3 text-center create-folder-form custom-delete-modal"},Gs={class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title"},Xs={class:"mt-2"},qs={class:"text-sm text-gray-500"},Qs={class:"flex text-sm text-gray-800 dark:text-gray-400"},Js={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500 fill-sky-500 stroke-sky-500 dark:fill-slate-500 dark:stroke-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},ea=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},null,-1)],ta={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},ra=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)],na={class:"ml-1.5"},oa=Object.assign({name:"VFModalDelete"},{props:{selection:Object,current:Object},setup(n){const t=n,o=e.inject("emitter");e.inject("storage");const i=e.inject("adapter"),{t:a}=e.inject("i18n"),l=e.ref(t.selection.items),u=e.ref(""),g=()=>{l.value.length&&o.emit("vf-fetch",{params:{q:"delete",adapter:i.value,path:t.current.dirname,items:JSON.stringify(l.value.map(({path:c,type:y})=>({path:c,type:y})))},onSuccess:()=>{o.emit("vf-toast-push",{label:a("Files deleted.")}),o.emit("delete-button",{files:l.value})},onError:c=>{u.value=a(c.message)}})};return(c,y)=>(e.openBlock(),e.createBlock(pe,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{type:"button",onClick:g,class:"new-folder-action w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(a)("Yes, Delete!")),1),e.createElementVNode("button",{type:"button",onClick:y[1]||(y[1]=m=>e.unref(o).emit("vf-modal-close")),class:"new-folder-action mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(a)("Cancel")),1)]),default:e.withCtx(()=>[e.createElementVNode("div",Hs,[e.createElementVNode("div",Fs,[e.createElementVNode("div",Us,[Ys,e.createElementVNode("h3",Zs,e.toDisplayString(e.unref(a)("Delete files")),1)]),Ws]),e.createElementVNode("div",Ks,[e.createElementVNode("h3",Gs,e.toDisplayString(e.unref(a)("Delete files")),1),e.createElementVNode("div",Xs,[e.createElementVNode("p",qs,e.toDisplayString(e.unref(a)("Are you sure you want to delete these files?")),1),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,m=>(e.openBlock(),e.createElementBlock("p",Qs,[m.type=="dir"?(e.openBlock(),e.createElementBlock("svg",Js,ea)):(e.openBlock(),e.createElementBlock("svg",ta,ra)),e.createElementVNode("span",na,e.toDisplayString(m.basename),1)]))),256)),u.value.length?(e.openBlock(),e.createBlock(ge,{key:0,onHidden:y[0]||(y[0]=m=>u.value=""),error:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(u.value),1)]),_:1})):e.createCommentVNode("",!0)])])])]),_:1}))}}),ia={class:"sm:flex sm:items-start"},sa=e.createElementVNode("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-50 dark:bg-gray-500 sm:mx-0 sm:h-10 sm:w-10"},[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 stroke-blue-600 dark:stroke-blue-100",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1),aa={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},la={class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title"},ca={class:"mt-2"},da={class:"text-sm text-gray-500"},ha=Object.assign({name:"VFModalMessage"},{props:{selection:Object},setup(n){const t=e.inject("emitter"),{t:o}=e.inject("i18n");return(i,a)=>(e.openBlock(),e.createBlock(pe,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{type:"button",onClick:a[0]||(a[0]=l=>e.unref(t).emit("vf-modal-close")),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(o)("Close")),1)]),default:e.withCtx(()=>{var l,u;return[e.createElementVNode("div",ia,[sa,e.createElementVNode("div",aa,[e.createElementVNode("h3",la,e.toDisplayString(((l=n.selection)==null?void 0:l.title)??"Title"),1),e.createElementVNode("div",ca,[e.createElementVNode("p",da,e.toDisplayString(((u=n.selection)==null?void 0:u.message)??"Message")+".",1)])])])]}),_:1}))}}),ua={class:"sm:flex custom-new-folder-popup"},fa={class:"custom-file-picker-title"},ma={class:"file-picker-title-img"},pa=e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 stroke-blue-600 dark:stroke-blue-100",fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})],-1),ga={class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title"},ya=e.createElementVNode("hr",null,null,-1),ba={class:"mt-3 text-center w-full p-4 h-full"},Sa={class:"mt-2 create-folder-form"},va={class:"text-sm text-gray-500"},wa=["onKeyup","placeholder"],_a=Object.assign({name:"VFModalNewFolder"},{props:{selection:Object,current:Object},setup(n){const t=n,o=e.inject("emitter");e.inject("storage");const i=e.inject("adapter"),{t:a}=e.inject("i18n"),l=e.ref(""),u=e.ref(""),g=()=>{l.value!=""&&o.emit("vf-fetch",{params:{q:"newfolder",adapter:i.value,path:t.current.dirname,name:l.value},onSuccess:()=>{o.emit("vf-toast-push",{label:a("%s is created.",l.value)})},onError:c=>{u.value=a(c.message)}})};return(c,y)=>(e.openBlock(),e.createBlock(pe,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{type:"button",onClick:g,class:"new-folder-action w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 dark:bg-gray-700 dark:hover:bg-gray-600/75 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(a)("Create")),1),e.createElementVNode("button",{type:"button",onClick:y[2]||(y[2]=m=>e.unref(o).emit("vf-modal-close")),class:"new-folder-action mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(a)("Cancel")),1)]),default:e.withCtx(()=>[e.createElementVNode("div",ua,[e.createElementVNode("div",fa,[e.createElementVNode("div",ma,[pa,e.createElementVNode("h3",ga,e.toDisplayString(e.unref(a)("New Folder")),1)]),ya]),e.createElementVNode("div",ba,[e.createElementVNode("div",Sa,[e.createElementVNode("p",va,e.toDisplayString(e.unref(a)("Create a new folder")),1),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":y[0]||(y[0]=m=>l.value=m),onKeyup:e.withKeys(g,["enter"]),class:"px-2 py-1 border rounded dark:bg-gray-700/25 dark:focus:ring-gray-600 dark:focus:border-gray-600 dark:text-gray-100 w-full",placeholder:e.unref(a)("Folder Name"),type:"text"},null,40,wa),[[e.vModelText,l.value]]),u.value.length?(e.openBlock(),e.createBlock(ge,{key:0,onHidden:y[1]||(y[1]=m=>u.value=""),error:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(u.value),1)]),_:1})):e.createCommentVNode("",!0)])])])]),_:1}))}}),xa={class:"sm:flex sm:items-start"},ka=e.createElementVNode("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-50 dark:bg-gray-500 sm:mx-0 sm:h-10 sm:w-10"},[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 stroke-blue-600 dark:stroke-blue-100",fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1),Da={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},Ea={class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title"},Na={class:"mt-2"},Ma={class:"text-sm text-gray-500"},Ca=["onKeyup","placeholder"],Va=Object.assign({name:"VFModalNewFile"},{props:{selection:Object,current:Object},setup(n){const t=n,o=e.inject("emitter");e.inject("storage");const i=e.inject("adapter"),{t:a}=e.inject("i18n"),l=e.ref(""),u=e.ref(""),g=()=>{l.value!=""&&o.emit("vf-fetch",{params:{q:"newfile",adapter:i.value,path:t.current.dirname,name:l.value},onSuccess:()=>{o.emit("vf-toast-push",{label:a("%s is created.",l.value)})},onError:c=>{u.value=a(c.message)}})};return(c,y)=>(e.openBlock(),e.createBlock(pe,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{type:"button",onClick:g,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 dark:bg-gray-700 dark:hover:bg-gray-600/75 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(a)("Create")),1),e.createElementVNode("button",{type:"button",onClick:y[2]||(y[2]=m=>e.unref(o).emit("vf-modal-close")),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(a)("Cancel")),1)]),default:e.withCtx(()=>[e.createElementVNode("div",xa,[ka,e.createElementVNode("div",Da,[e.createElementVNode("h3",Ea,e.toDisplayString(e.unref(a)("New File")),1),e.createElementVNode("div",Na,[e.createElementVNode("p",Ma,e.toDisplayString(e.unref(a)("Create a new file")),1),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":y[0]||(y[0]=m=>l.value=m),onKeyup:e.withKeys(g,["enter"]),class:"px-2 py-1 border rounded dark:bg-gray-700/25 dark:focus:ring-gray-600 dark:focus:border-gray-600 dark:text-gray-100 w-full",placeholder:e.unref(a)("File Name"),type:"text"},null,40,Ca),[[e.vModelText,l.value]]),u.value.length?(e.openBlock(),e.createBlock(ge,{key:0,onHidden:y[1]||(y[1]=m=>u.value=""),error:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(u.value),1)]),_:1})):e.createCommentVNode("",!0)])])])]),_:1}))}}),Rr="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBpZD0iR3JvdXBfNjY0IiBkYXRhLW5hbWU9Ikdyb3VwIDY2NCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuMTQgLTAuMTQpIj4KICAgIDxyZWN0IGlkPSJSZWN0YW5nbGVfMjA4IiBkYXRhLW5hbWU9IlJlY3RhbmdsZSAyMDgiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4xNCAwLjE0KSIgZmlsbD0ibm9uZSIvPgogICAgPHBhdGggaWQ9Im1hZ25pZnkiIGQ9Ik0xMC4yNDcsM2E3LjI1MSw3LjI1MSwwLDAsMSw1LjUwNywxMS45NjJsLjMuM2guODgxbDUuNTc0LDUuNTc0TDIwLjgzOCwyMi41MWwtNS41NzQtNS41NzR2LS44ODFsLS4zLS4zQTcuMjQ4LDcuMjQ4LDAsMSwxLDEwLjI0NywzbTAsMi4yM2E1LjAxNyw1LjAxNywwLDEsMCw1LjAxNyw1LjAxN0E1LDUsMCwwLDAsMTAuMjQ3LDUuMjNaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMC44NiAtMC44NikiIGZpbGw9IiNmZmI5MDEiLz4KICA8L2c+Cjwvc3ZnPg==",Hr="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMC4wMSIgaGVpZ2h0PSIxMC4wMDkiIHZpZXdCb3g9IjAgMCAxMC4wMSAxMC4wMDkiPg0KDQo8cGF0aCBpZD0iUGF0aF8yMTQiIGRhdGEtbmFtZT0iUGF0aCAyMTQiIGQ9Ik0xMi4xNzQsMTFsMy41ODMtMy41NzVhLjgzNy44MzcsMCwxLDAtMS4xODMtMS4xODNMMTEsOS44MjQsNy40MjQsNi4yNDFBLjgzNy44MzcsMCwwLDAsNi4yNDEsNy40MjRMOS44MjQsMTEsNi4yNDEsMTQuNTc1YS44MzcuODM3LDAsMSwwLDEuMTgzLDEuMTgzTDExLDEyLjE3NWwzLjU3NSwzLjU4M2EuODM3LjgzNywwLDEsMCwxLjE4My0xLjE4M1oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01Ljk5NCAtNS45OTYpIiBmaWxsPSIjODA4ZDkzIi8+DQoNCjwvc3ZnPg==",Fr="data:image/svg+xml;base64,PHN2ZyBpZD0iR3JvdXBfMTA4OCIgZGF0YS1uYW1lPSJHcm91cCAxMDg4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMC44OTMiIGhlaWdodD0iMjAuODkzIiB2aWV3Qm94PSIwIDAgMjAuODkzIDIwLjg5MyI+CiAgPGNpcmNsZSBpZD0iRWxsaXBzZV8zIiBkYXRhLW5hbWU9IkVsbGlwc2UgMyIgY3g9IjIuNzg2IiBjeT0iMi43ODYiIHI9IjIuNzg2IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3LjY2MSA3LjY2MSkiIGZpbGw9IiNmZjUyNDIiLz4KICA8cGF0aCBpZD0iUGF0aF8yMTciIGRhdGEtbmFtZT0iUGF0aCAyMTciIGQ9Ik0xMC4wOTQsNCw4LjUsNS43NDFINS43NDFBMS43NDEsMS43NDEsMCwwLDAsNCw3LjQ4MlYxNy45MjlBMS43NDEsMS43NDEsMCwwLDAsNS43NDEsMTkuNjdIMTkuNjdhMS43NDEsMS43NDEsMCwwLDAsMS43NDEtMS43NDFWNy40ODJBMS43NDEsMS43NDEsMCwwLDAsMTkuNjcsNS43NDFIMTYuOTFMMTUuMzE3LDRabTIuNjEyLDEzLjA1OGE0LjM1Myw0LjM1MywwLDEsMSw0LjM1My00LjM1M0E0LjM1NCw0LjM1NCwwLDAsMSwxMi43MDUsMTcuMDU4WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIuMjU5IC0yLjI1OSkiIGZpbGw9IiNmZjUyNDIiLz4KICA8cGF0aCBpZD0iUGF0aF8yMTgiIGRhdGEtbmFtZT0iUGF0aCAyMTgiIGQ9Ik0wLDBIMjAuODkzVjIwLjg5M0gwWiIgZmlsbD0ibm9uZSIvPgo8L3N2Zz4=",Ta={class:"flex"},Ia=["aria-label"],Aa={class:"ml-auto mb-2"},Ba={key:0,class:"p-2 border font-normal whitespace-pre-wrap border-gray-200 dark:border-gray-700/50 dark:text-gray-200 rounded min-h-[200px] max-h-[60vh] text-xs overflow-auto"},La={key:1},$a={__name:"Text",props:{selection:Object},emits:["load"],setup(n,{emit:t}){const o=n,i=e.ref(""),a=e.ref(""),l=e.ref(null),u=e.ref(!1),{apiUrl:g}=fe(),c=e.ref(""),y=e.ref(!1),{t:m}=e.inject("i18n");e.onMounted(()=>{it(g.value,{params:{q:"preview",adapter:o.selection.adapter,path:o.selection.item.path},json:!1}).then(k=>{i.value=k,t("load")})});const b=()=>{u.value=!u.value,a.value=i.value,u.value==!0&&e.nextTick(()=>{l.value.focus()})},v=e.inject("postData"),x=()=>{c.value="",y.value=!1,it(g.value,{method:"POST",params:Object.assign(v,{q:"save",adapter:o.selection.adapter,path:o.selection.item.path,content:a.value}),json:!1}).then(k=>{c.value=m("Updated."),i.value=k,t("load"),u.value=!u.value}).catch(k=>{c.value=m(k.message),y.value=!0})};return(k,C)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",Ta,[e.createElementVNode("div",{class:"mb-2 text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title","aria-label":n.selection.item.path,"data-microtip-position":"bottom-right",role:"tooltip"},e.toDisplayString(n.selection.item.basename),9,Ia),e.createElementVNode("div",Aa,[u.value?(e.openBlock(),e.createElementBlock("button",{key:0,onClick:x,class:"ml-1 px-2 py-1 rounded border border-transparent shadow-sm bg-blue-700/75 hover:bg-blue-700 dark:bg-gray-700 dark:hover:bg-gray-700/50 text-base font-medium text-white sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(m)("Save")),1)):e.createCommentVNode("",!0),e.createElementVNode("button",{class:"ml-1 px-2 py-1 text-blue-500",onClick:C[0]||(C[0]=M=>b())},e.toDisplayString(u.value?e.unref(m)("Cancel"):e.unref(m)("Edit")),1)])]),e.createElementVNode("div",null,[u.value?(e.openBlock(),e.createElementBlock("div",La,[e.withDirectives(e.createElementVNode("textarea",{ref_key:"editInput",ref:l,"onUpdate:modelValue":C[1]||(C[1]=M=>a.value=M),class:"w-full p-2 rounded dark:bg-gray-700 dark:text-gray-200 dark:focus:ring-gray-600 dark:focus:border-gray-600 dark:selection:bg-gray-500 min-h-[200px] max-h-[60vh] text-xs",name:"text",id:"",cols:"30",rows:"10"},null,512),[[e.vModelText,a.value]])])):(e.openBlock(),e.createElementBlock("pre",Ba,e.toDisplayString(i.value),1)),c.value.length?(e.openBlock(),e.createBlock(ge,{key:2,onHidden:C[2]||(C[2]=M=>c.value=""),error:y.value},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(c.value),1)]),_:1},8,["error"])):e.createCommentVNode("",!0)])],64))}},cu="";/*!
 * Cropper.js v1.5.13
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2022-11-20T05:30:46.114Z
 */function Ur(n,t){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),o.push.apply(o,i)}return o}function Yr(n){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?Ur(Object(o),!0).forEach(function(i){Pa(n,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Ur(Object(o)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(o,i))})}return n}function $t(n){"@babel/helpers - typeof";return $t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$t(n)}function ja(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Zr(n,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Oa(n,t,o){return t&&Zr(n.prototype,t),o&&Zr(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n}function Pa(n,t,o){return t in n?Object.defineProperty(n,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[t]=o,n}function Wr(n){return za(n)||Ra(n)||Ha(n)||Fa()}function za(n){if(Array.isArray(n))return jt(n)}function Ra(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Ha(n,t){if(n){if(typeof n=="string")return jt(n,t);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return jt(n,t)}}function jt(n,t){(t==null||t>n.length)&&(t=n.length);for(var o=0,i=new Array(t);o<t;o++)i[o]=n[o];return i}function Fa(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ut=typeof window<"u"&&typeof window.document<"u",ye=ut?window:{},Ot=ut&&ye.document.documentElement?"ontouchstart"in ye.document.documentElement:!1,Pt=ut?"PointerEvent"in ye:!1,F="cropper",zt="all",Kr="crop",Gr="move",Xr="zoom",Ie="e",Ae="w",je="s",De="n",We="ne",Ke="nw",Ge="se",Xe="sw",Rt="".concat(F,"-crop"),qr="".concat(F,"-disabled"),ee="".concat(F,"-hidden"),Qr="".concat(F,"-hide"),Ua="".concat(F,"-invisible"),ft="".concat(F,"-modal"),Ht="".concat(F,"-move"),qe="".concat(F,"Action"),mt="".concat(F,"Preview"),Ft="crop",Jr="move",en="none",Ut="crop",Yt="cropend",Zt="cropmove",Wt="cropstart",tn="dblclick",Ya=Ot?"touchstart":"mousedown",Za=Ot?"touchmove":"mousemove",Wa=Ot?"touchend touchcancel":"mouseup",rn=Pt?"pointerdown":Ya,nn=Pt?"pointermove":Za,on=Pt?"pointerup pointercancel":Wa,sn="ready",an="resize",ln="wheel",Kt="zoom",cn="image/jpeg",Ka=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Ga=/^data:/,Xa=/^data:image\/jpeg;base64,/,qa=/^img|canvas$/i,dn=200,hn=100,un={viewMode:0,dragMode:Ft,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:dn,minContainerHeight:hn,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Qa='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',Ja=Number.isNaN||ye.isNaN;function j(n){return typeof n=="number"&&!Ja(n)}var fn=function(t){return t>0&&t<1/0};function Gt(n){return typeof n>"u"}function Be(n){return $t(n)==="object"&&n!==null}var el=Object.prototype.hasOwnProperty;function Oe(n){if(!Be(n))return!1;try{var t=n.constructor,o=t.prototype;return t&&o&&el.call(o,"isPrototypeOf")}catch{return!1}}function te(n){return typeof n=="function"}var tl=Array.prototype.slice;function mn(n){return Array.from?Array.from(n):tl.call(n)}function Y(n,t){return n&&te(t)&&(Array.isArray(n)||j(n.length)?mn(n).forEach(function(o,i){t.call(n,o,i,n)}):Be(n)&&Object.keys(n).forEach(function(o){t.call(n,n[o],o,n)})),n}var U=Object.assign||function(t){for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];return Be(t)&&i.length>0&&i.forEach(function(l){Be(l)&&Object.keys(l).forEach(function(u){t[u]=l[u]})}),t},rl=/\.\d*(?:0|9){12}\d*$/;function Pe(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return rl.test(n)?Math.round(n*t)/t:n}var nl=/^width|height|left|top|marginLeft|marginTop$/;function Ee(n,t){var o=n.style;Y(t,function(i,a){nl.test(a)&&j(i)&&(i="".concat(i,"px")),o[a]=i})}function ol(n,t){return n.classList?n.classList.contains(t):n.className.indexOf(t)>-1}function G(n,t){if(t){if(j(n.length)){Y(n,function(i){G(i,t)});return}if(n.classList){n.classList.add(t);return}var o=n.className.trim();o?o.indexOf(t)<0&&(n.className="".concat(o," ").concat(t)):n.className=t}}function be(n,t){if(t){if(j(n.length)){Y(n,function(o){be(o,t)});return}if(n.classList){n.classList.remove(t);return}n.className.indexOf(t)>=0&&(n.className=n.className.replace(t,""))}}function ze(n,t,o){if(t){if(j(n.length)){Y(n,function(i){ze(i,t,o)});return}o?G(n,t):be(n,t)}}var il=/([a-z\d])([A-Z])/g;function Xt(n){return n.replace(il,"$1-$2").toLowerCase()}function qt(n,t){return Be(n[t])?n[t]:n.dataset?n.dataset[t]:n.getAttribute("data-".concat(Xt(t)))}function Qe(n,t,o){Be(o)?n[t]=o:n.dataset?n.dataset[t]=o:n.setAttribute("data-".concat(Xt(t)),o)}function sl(n,t){if(Be(n[t]))try{delete n[t]}catch{n[t]=void 0}else if(n.dataset)try{delete n.dataset[t]}catch{n.dataset[t]=void 0}else n.removeAttribute("data-".concat(Xt(t)))}var pn=/\s\s*/,gn=function(){var n=!1;if(ut){var t=!1,o=function(){},i=Object.defineProperty({},"once",{get:function(){return n=!0,t},set:function(l){t=l}});ye.addEventListener("test",o,i),ye.removeEventListener("test",o,i)}return n}();function ce(n,t,o){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=o;t.trim().split(pn).forEach(function(l){if(!gn){var u=n.listeners;u&&u[l]&&u[l][o]&&(a=u[l][o],delete u[l][o],Object.keys(u[l]).length===0&&delete u[l],Object.keys(u).length===0&&delete n.listeners)}n.removeEventListener(l,a,i)})}function se(n,t,o){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=o;t.trim().split(pn).forEach(function(l){if(i.once&&!gn){var u=n.listeners,g=u===void 0?{}:u;a=function(){delete g[l][o],n.removeEventListener(l,a,i);for(var y=arguments.length,m=new Array(y),b=0;b<y;b++)m[b]=arguments[b];o.apply(n,m)},g[l]||(g[l]={}),g[l][o]&&n.removeEventListener(l,g[l][o],i),g[l][o]=a,n.listeners=g}n.addEventListener(l,a,i)})}function Re(n,t,o){var i;return te(Event)&&te(CustomEvent)?i=new CustomEvent(t,{detail:o,bubbles:!0,cancelable:!0}):(i=document.createEvent("CustomEvent"),i.initCustomEvent(t,!0,!0,o)),n.dispatchEvent(i)}function yn(n){var t=n.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var Qt=ye.location,al=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function bn(n){var t=n.match(al);return t!==null&&(t[1]!==Qt.protocol||t[2]!==Qt.hostname||t[3]!==Qt.port)}function Sn(n){var t="timestamp=".concat(new Date().getTime());return n+(n.indexOf("?")===-1?"?":"&")+t}function Je(n){var t=n.rotate,o=n.scaleX,i=n.scaleY,a=n.translateX,l=n.translateY,u=[];j(a)&&a!==0&&u.push("translateX(".concat(a,"px)")),j(l)&&l!==0&&u.push("translateY(".concat(l,"px)")),j(t)&&t!==0&&u.push("rotate(".concat(t,"deg)")),j(o)&&o!==1&&u.push("scaleX(".concat(o,")")),j(i)&&i!==1&&u.push("scaleY(".concat(i,")"));var g=u.length?u.join(" "):"none";return{WebkitTransform:g,msTransform:g,transform:g}}function ll(n){var t=Yr({},n),o=0;return Y(n,function(i,a){delete t[a],Y(t,function(l){var u=Math.abs(i.startX-l.startX),g=Math.abs(i.startY-l.startY),c=Math.abs(i.endX-l.endX),y=Math.abs(i.endY-l.endY),m=Math.sqrt(u*u+g*g),b=Math.sqrt(c*c+y*y),v=(b-m)/m;Math.abs(v)>Math.abs(o)&&(o=v)})}),o}function pt(n,t){var o=n.pageX,i=n.pageY,a={endX:o,endY:i};return t?a:Yr({startX:o,startY:i},a)}function cl(n){var t=0,o=0,i=0;return Y(n,function(a){var l=a.startX,u=a.startY;t+=l,o+=u,i+=1}),t/=i,o/=i,{pageX:t,pageY:o}}function Ne(n){var t=n.aspectRatio,o=n.height,i=n.width,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",l=fn(i),u=fn(o);if(l&&u){var g=o*t;a==="contain"&&g>i||a==="cover"&&g<i?o=i/t:i=o*t}else l?o=i/t:u&&(i=o*t);return{width:i,height:o}}function dl(n){var t=n.width,o=n.height,i=n.degree;if(i=Math.abs(i)%180,i===90)return{width:o,height:t};var a=i%90*Math.PI/180,l=Math.sin(a),u=Math.cos(a),g=t*u+o*l,c=t*l+o*u;return i>90?{width:c,height:g}:{width:g,height:c}}function hl(n,t,o,i){var a=t.aspectRatio,l=t.naturalWidth,u=t.naturalHeight,g=t.rotate,c=g===void 0?0:g,y=t.scaleX,m=y===void 0?1:y,b=t.scaleY,v=b===void 0?1:b,x=o.aspectRatio,k=o.naturalWidth,C=o.naturalHeight,M=i.fillColor,$=M===void 0?"transparent":M,E=i.imageSmoothingEnabled,N=E===void 0?!0:E,B=i.imageSmoothingQuality,R=B===void 0?"low":B,_=i.maxWidth,A=_===void 0?1/0:_,H=i.maxHeight,W=H===void 0?1/0:H,Z=i.minWidth,re=Z===void 0?0:Z,ae=i.minHeight,oe=ae===void 0?0:ae,ne=document.createElement("canvas"),X=ne.getContext("2d"),V=Ne({aspectRatio:x,width:A,height:W}),I=Ne({aspectRatio:x,width:re,height:oe},"cover"),T=Math.min(V.width,Math.max(I.width,k)),q=Math.min(V.height,Math.max(I.height,C)),O=Ne({aspectRatio:a,width:A,height:W}),le=Ne({aspectRatio:a,width:re,height:oe},"cover"),de=Math.min(O.width,Math.max(le.width,l)),gt=Math.min(O.height,Math.max(le.height,u)),er=[-de/2,-gt/2,de,gt];return ne.width=Pe(T),ne.height=Pe(q),X.fillStyle=$,X.fillRect(0,0,T,q),X.save(),X.translate(T/2,q/2),X.rotate(c*Math.PI/180),X.scale(m,v),X.imageSmoothingEnabled=N,X.imageSmoothingQuality=R,X.drawImage.apply(X,[n].concat(Wr(er.map(function(yt){return Math.floor(Pe(yt))})))),X.restore(),ne}var vn=String.fromCharCode;function ul(n,t,o){var i="";o+=t;for(var a=t;a<o;a+=1)i+=vn(n.getUint8(a));return i}var fl=/^data:.*,/;function ml(n){var t=n.replace(fl,""),o=atob(t),i=new ArrayBuffer(o.length),a=new Uint8Array(i);return Y(a,function(l,u){a[u]=o.charCodeAt(u)}),i}function pl(n,t){for(var o=[],i=8192,a=new Uint8Array(n);a.length>0;)o.push(vn.apply(null,mn(a.subarray(0,i)))),a=a.subarray(i);return"data:".concat(t,";base64,").concat(btoa(o.join("")))}function gl(n){var t=new DataView(n),o;try{var i,a,l;if(t.getUint8(0)===255&&t.getUint8(1)===216)for(var u=t.byteLength,g=2;g+1<u;){if(t.getUint8(g)===255&&t.getUint8(g+1)===225){a=g;break}g+=1}if(a){var c=a+4,y=a+10;if(ul(t,c,4)==="Exif"){var m=t.getUint16(y);if(i=m===18761,(i||m===19789)&&t.getUint16(y+2,i)===42){var b=t.getUint32(y+4,i);b>=8&&(l=y+b)}}}if(l){var v=t.getUint16(l,i),x,k;for(k=0;k<v;k+=1)if(x=l+k*12+2,t.getUint16(x,i)===274){x+=8,o=t.getUint16(x,i),t.setUint16(x,1,i);break}}}catch{o=1}return o}function yl(n){var t=0,o=1,i=1;switch(n){case 2:o=-1;break;case 3:t=-180;break;case 4:i=-1;break;case 5:t=90,i=-1;break;case 6:t=90;break;case 7:t=90,o=-1;break;case 8:t=-90;break}return{rotate:t,scaleX:o,scaleY:i}}var bl={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,o=this.options,i=this.container,a=this.cropper,l=Number(o.minContainerWidth),u=Number(o.minContainerHeight);G(a,ee),be(t,ee);var g={width:Math.max(i.offsetWidth,l>=0?l:dn),height:Math.max(i.offsetHeight,u>=0?u:hn)};this.containerData=g,Ee(a,{width:g.width,height:g.height}),G(t,ee),be(a,ee)},initCanvas:function(){var t=this.containerData,o=this.imageData,i=this.options.viewMode,a=Math.abs(o.rotate)%180===90,l=a?o.naturalHeight:o.naturalWidth,u=a?o.naturalWidth:o.naturalHeight,g=l/u,c=t.width,y=t.height;t.height*g>t.width?i===3?c=t.height*g:y=t.width/g:i===3?y=t.width/g:c=t.height*g;var m={aspectRatio:g,naturalWidth:l,naturalHeight:u,width:c,height:y};this.canvasData=m,this.limited=i===1||i===2,this.limitCanvas(!0,!0),m.width=Math.min(Math.max(m.width,m.minWidth),m.maxWidth),m.height=Math.min(Math.max(m.height,m.minHeight),m.maxHeight),m.left=(t.width-m.width)/2,m.top=(t.height-m.height)/2,m.oldLeft=m.left,m.oldTop=m.top,this.initialCanvasData=U({},m)},limitCanvas:function(t,o){var i=this.options,a=this.containerData,l=this.canvasData,u=this.cropBoxData,g=i.viewMode,c=l.aspectRatio,y=this.cropped&&u;if(t){var m=Number(i.minCanvasWidth)||0,b=Number(i.minCanvasHeight)||0;g>1?(m=Math.max(m,a.width),b=Math.max(b,a.height),g===3&&(b*c>m?m=b*c:b=m/c)):g>0&&(m?m=Math.max(m,y?u.width:0):b?b=Math.max(b,y?u.height:0):y&&(m=u.width,b=u.height,b*c>m?m=b*c:b=m/c));var v=Ne({aspectRatio:c,width:m,height:b});m=v.width,b=v.height,l.minWidth=m,l.minHeight=b,l.maxWidth=1/0,l.maxHeight=1/0}if(o)if(g>(y?0:1)){var x=a.width-l.width,k=a.height-l.height;l.minLeft=Math.min(0,x),l.minTop=Math.min(0,k),l.maxLeft=Math.max(0,x),l.maxTop=Math.max(0,k),y&&this.limited&&(l.minLeft=Math.min(u.left,u.left+(u.width-l.width)),l.minTop=Math.min(u.top,u.top+(u.height-l.height)),l.maxLeft=u.left,l.maxTop=u.top,g===2&&(l.width>=a.width&&(l.minLeft=Math.min(0,x),l.maxLeft=Math.max(0,x)),l.height>=a.height&&(l.minTop=Math.min(0,k),l.maxTop=Math.max(0,k))))}else l.minLeft=-l.width,l.minTop=-l.height,l.maxLeft=a.width,l.maxTop=a.height},renderCanvas:function(t,o){var i=this.canvasData,a=this.imageData;if(o){var l=dl({width:a.naturalWidth*Math.abs(a.scaleX||1),height:a.naturalHeight*Math.abs(a.scaleY||1),degree:a.rotate||0}),u=l.width,g=l.height,c=i.width*(u/i.naturalWidth),y=i.height*(g/i.naturalHeight);i.left-=(c-i.width)/2,i.top-=(y-i.height)/2,i.width=c,i.height=y,i.aspectRatio=u/g,i.naturalWidth=u,i.naturalHeight=g,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,Ee(this.canvas,U({width:i.width,height:i.height},Je({translateX:i.left,translateY:i.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var o=this.canvasData,i=this.imageData,a=i.naturalWidth*(o.width/o.naturalWidth),l=i.naturalHeight*(o.height/o.naturalHeight);U(i,{width:a,height:l,left:(o.width-a)/2,top:(o.height-l)/2}),Ee(this.image,U({width:i.width,height:i.height},Je(U({translateX:i.left,translateY:i.top},i)))),t&&this.output()},initCropBox:function(){var t=this.options,o=this.canvasData,i=t.aspectRatio||t.initialAspectRatio,a=Number(t.autoCropArea)||.8,l={width:o.width,height:o.height};i&&(o.height*i>o.width?l.height=l.width/i:l.width=l.height*i),this.cropBoxData=l,this.limitCropBox(!0,!0),l.width=Math.min(Math.max(l.width,l.minWidth),l.maxWidth),l.height=Math.min(Math.max(l.height,l.minHeight),l.maxHeight),l.width=Math.max(l.minWidth,l.width*a),l.height=Math.max(l.minHeight,l.height*a),l.left=o.left+(o.width-l.width)/2,l.top=o.top+(o.height-l.height)/2,l.oldLeft=l.left,l.oldTop=l.top,this.initialCropBoxData=U({},l)},limitCropBox:function(t,o){var i=this.options,a=this.containerData,l=this.canvasData,u=this.cropBoxData,g=this.limited,c=i.aspectRatio;if(t){var y=Number(i.minCropBoxWidth)||0,m=Number(i.minCropBoxHeight)||0,b=g?Math.min(a.width,l.width,l.width+l.left,a.width-l.left):a.width,v=g?Math.min(a.height,l.height,l.height+l.top,a.height-l.top):a.height;y=Math.min(y,a.width),m=Math.min(m,a.height),c&&(y&&m?m*c>y?m=y/c:y=m*c:y?m=y/c:m&&(y=m*c),v*c>b?v=b/c:b=v*c),u.minWidth=Math.min(y,b),u.minHeight=Math.min(m,v),u.maxWidth=b,u.maxHeight=v}o&&(g?(u.minLeft=Math.max(0,l.left),u.minTop=Math.max(0,l.top),u.maxLeft=Math.min(a.width,l.left+l.width)-u.width,u.maxTop=Math.min(a.height,l.top+l.height)-u.height):(u.minLeft=0,u.minTop=0,u.maxLeft=a.width-u.width,u.maxTop=a.height-u.height))},renderCropBox:function(){var t=this.options,o=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,t.movable&&t.cropBoxMovable&&Qe(this.face,qe,i.width>=o.width&&i.height>=o.height?Gr:zt),Ee(this.cropBox,U({width:i.width,height:i.height},Je({translateX:i.left,translateY:i.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Re(this.element,Ut,this.getData())}},Sl={initPreview:function(){var t=this.element,o=this.crossOrigin,i=this.options.preview,a=o?this.crossOriginUrl:this.url,l=t.alt||"The image to preview",u=document.createElement("img");if(o&&(u.crossOrigin=o),u.src=a,u.alt=l,this.viewBox.appendChild(u),this.viewBoxImage=u,!!i){var g=i;typeof i=="string"?g=t.ownerDocument.querySelectorAll(i):i.querySelector&&(g=[i]),this.previews=g,Y(g,function(c){var y=document.createElement("img");Qe(c,mt,{width:c.offsetWidth,height:c.offsetHeight,html:c.innerHTML}),o&&(y.crossOrigin=o),y.src=a,y.alt=l,y.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',c.innerHTML="",c.appendChild(y)})}},resetPreview:function(){Y(this.previews,function(t){var o=qt(t,mt);Ee(t,{width:o.width,height:o.height}),t.innerHTML=o.html,sl(t,mt)})},preview:function(){var t=this.imageData,o=this.canvasData,i=this.cropBoxData,a=i.width,l=i.height,u=t.width,g=t.height,c=i.left-o.left-t.left,y=i.top-o.top-t.top;!this.cropped||this.disabled||(Ee(this.viewBoxImage,U({width:u,height:g},Je(U({translateX:-c,translateY:-y},t)))),Y(this.previews,function(m){var b=qt(m,mt),v=b.width,x=b.height,k=v,C=x,M=1;a&&(M=v/a,C=l*M),l&&C>x&&(M=x/l,k=a*M,C=x),Ee(m,{width:k,height:C}),Ee(m.getElementsByTagName("img")[0],U({width:u*M,height:g*M},Je(U({translateX:-c*M,translateY:-y*M},t))))}))}},vl={bind:function(){var t=this.element,o=this.options,i=this.cropper;te(o.cropstart)&&se(t,Wt,o.cropstart),te(o.cropmove)&&se(t,Zt,o.cropmove),te(o.cropend)&&se(t,Yt,o.cropend),te(o.crop)&&se(t,Ut,o.crop),te(o.zoom)&&se(t,Kt,o.zoom),se(i,rn,this.onCropStart=this.cropStart.bind(this)),o.zoomable&&o.zoomOnWheel&&se(i,ln,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),o.toggleDragModeOnDblclick&&se(i,tn,this.onDblclick=this.dblclick.bind(this)),se(t.ownerDocument,nn,this.onCropMove=this.cropMove.bind(this)),se(t.ownerDocument,on,this.onCropEnd=this.cropEnd.bind(this)),o.responsive&&se(window,an,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,o=this.options,i=this.cropper;te(o.cropstart)&&ce(t,Wt,o.cropstart),te(o.cropmove)&&ce(t,Zt,o.cropmove),te(o.cropend)&&ce(t,Yt,o.cropend),te(o.crop)&&ce(t,Ut,o.crop),te(o.zoom)&&ce(t,Kt,o.zoom),ce(i,rn,this.onCropStart),o.zoomable&&o.zoomOnWheel&&ce(i,ln,this.onWheel,{passive:!1,capture:!0}),o.toggleDragModeOnDblclick&&ce(i,tn,this.onDblclick),ce(t.ownerDocument,nn,this.onCropMove),ce(t.ownerDocument,on,this.onCropEnd),o.responsive&&ce(window,an,this.onResize)}},wl={resize:function(){if(!this.disabled){var t=this.options,o=this.container,i=this.containerData,a=o.offsetWidth/i.width,l=o.offsetHeight/i.height,u=Math.abs(a-1)>Math.abs(l-1)?a:l;if(u!==1){var g,c;t.restore&&(g=this.getCanvasData(),c=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(Y(g,function(y,m){g[m]=y*u})),this.setCropBoxData(Y(c,function(y,m){c[m]=y*u})))}}},dblclick:function(){this.disabled||this.options.dragMode===en||this.setDragMode(ol(this.dragBox,Rt)?Jr:Ft)},wheel:function(t){var o=this,i=Number(this.options.wheelZoomRatio)||.1,a=1;this.disabled||(t.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){o.wheeling=!1},50),t.deltaY?a=t.deltaY>0?1:-1:t.wheelDelta?a=-t.wheelDelta/120:t.detail&&(a=t.detail>0?1:-1),this.zoom(-a*i,t)))},cropStart:function(t){var o=t.buttons,i=t.button;if(!(this.disabled||(t.type==="mousedown"||t.type==="pointerdown"&&t.pointerType==="mouse")&&(j(o)&&o!==1||j(i)&&i!==0||t.ctrlKey))){var a=this.options,l=this.pointers,u;t.changedTouches?Y(t.changedTouches,function(g){l[g.identifier]=pt(g)}):l[t.pointerId||0]=pt(t),Object.keys(l).length>1&&a.zoomable&&a.zoomOnTouch?u=Xr:u=qt(t.target,qe),Ka.test(u)&&Re(this.element,Wt,{originalEvent:t,action:u})!==!1&&(t.preventDefault(),this.action=u,this.cropping=!1,u===Kr&&(this.cropping=!0,G(this.dragBox,ft)))}},cropMove:function(t){var o=this.action;if(!(this.disabled||!o)){var i=this.pointers;t.preventDefault(),Re(this.element,Zt,{originalEvent:t,action:o})!==!1&&(t.changedTouches?Y(t.changedTouches,function(a){U(i[a.identifier]||{},pt(a,!0))}):U(i[t.pointerId||0]||{},pt(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var o=this.action,i=this.pointers;t.changedTouches?Y(t.changedTouches,function(a){delete i[a.identifier]}):delete i[t.pointerId||0],o&&(t.preventDefault(),Object.keys(i).length||(this.action=""),this.cropping&&(this.cropping=!1,ze(this.dragBox,ft,this.cropped&&this.options.modal)),Re(this.element,Yt,{originalEvent:t,action:o}))}}},_l={change:function(t){var o=this.options,i=this.canvasData,a=this.containerData,l=this.cropBoxData,u=this.pointers,g=this.action,c=o.aspectRatio,y=l.left,m=l.top,b=l.width,v=l.height,x=y+b,k=m+v,C=0,M=0,$=a.width,E=a.height,N=!0,B;!c&&t.shiftKey&&(c=b&&v?b/v:1),this.limited&&(C=l.minLeft,M=l.minTop,$=C+Math.min(a.width,i.width,i.left+i.width),E=M+Math.min(a.height,i.height,i.top+i.height));var R=u[Object.keys(u)[0]],_={x:R.endX-R.startX,y:R.endY-R.startY},A=function(W){switch(W){case Ie:x+_.x>$&&(_.x=$-x);break;case Ae:y+_.x<C&&(_.x=C-y);break;case De:m+_.y<M&&(_.y=M-m);break;case je:k+_.y>E&&(_.y=E-k);break}};switch(g){case zt:y+=_.x,m+=_.y;break;case Ie:if(_.x>=0&&(x>=$||c&&(m<=M||k>=E))){N=!1;break}A(Ie),b+=_.x,b<0&&(g=Ae,b=-b,y-=b),c&&(v=b/c,m+=(l.height-v)/2);break;case De:if(_.y<=0&&(m<=M||c&&(y<=C||x>=$))){N=!1;break}A(De),v-=_.y,m+=_.y,v<0&&(g=je,v=-v,m-=v),c&&(b=v*c,y+=(l.width-b)/2);break;case Ae:if(_.x<=0&&(y<=C||c&&(m<=M||k>=E))){N=!1;break}A(Ae),b-=_.x,y+=_.x,b<0&&(g=Ie,b=-b,y-=b),c&&(v=b/c,m+=(l.height-v)/2);break;case je:if(_.y>=0&&(k>=E||c&&(y<=C||x>=$))){N=!1;break}A(je),v+=_.y,v<0&&(g=De,v=-v,m-=v),c&&(b=v*c,y+=(l.width-b)/2);break;case We:if(c){if(_.y<=0&&(m<=M||x>=$)){N=!1;break}A(De),v-=_.y,m+=_.y,b=v*c}else A(De),A(Ie),_.x>=0?x<$?b+=_.x:_.y<=0&&m<=M&&(N=!1):b+=_.x,_.y<=0?m>M&&(v-=_.y,m+=_.y):(v-=_.y,m+=_.y);b<0&&v<0?(g=Xe,v=-v,b=-b,m-=v,y-=b):b<0?(g=Ke,b=-b,y-=b):v<0&&(g=Ge,v=-v,m-=v);break;case Ke:if(c){if(_.y<=0&&(m<=M||y<=C)){N=!1;break}A(De),v-=_.y,m+=_.y,b=v*c,y+=l.width-b}else A(De),A(Ae),_.x<=0?y>C?(b-=_.x,y+=_.x):_.y<=0&&m<=M&&(N=!1):(b-=_.x,y+=_.x),_.y<=0?m>M&&(v-=_.y,m+=_.y):(v-=_.y,m+=_.y);b<0&&v<0?(g=Ge,v=-v,b=-b,m-=v,y-=b):b<0?(g=We,b=-b,y-=b):v<0&&(g=Xe,v=-v,m-=v);break;case Xe:if(c){if(_.x<=0&&(y<=C||k>=E)){N=!1;break}A(Ae),b-=_.x,y+=_.x,v=b/c}else A(je),A(Ae),_.x<=0?y>C?(b-=_.x,y+=_.x):_.y>=0&&k>=E&&(N=!1):(b-=_.x,y+=_.x),_.y>=0?k<E&&(v+=_.y):v+=_.y;b<0&&v<0?(g=We,v=-v,b=-b,m-=v,y-=b):b<0?(g=Ge,b=-b,y-=b):v<0&&(g=Ke,v=-v,m-=v);break;case Ge:if(c){if(_.x>=0&&(x>=$||k>=E)){N=!1;break}A(Ie),b+=_.x,v=b/c}else A(je),A(Ie),_.x>=0?x<$?b+=_.x:_.y>=0&&k>=E&&(N=!1):b+=_.x,_.y>=0?k<E&&(v+=_.y):v+=_.y;b<0&&v<0?(g=Ke,v=-v,b=-b,m-=v,y-=b):b<0?(g=Xe,b=-b,y-=b):v<0&&(g=We,v=-v,m-=v);break;case Gr:this.move(_.x,_.y),N=!1;break;case Xr:this.zoom(ll(u),t),N=!1;break;case Kr:if(!_.x||!_.y){N=!1;break}B=yn(this.cropper),y=R.startX-B.left,m=R.startY-B.top,b=l.minWidth,v=l.minHeight,_.x>0?g=_.y>0?Ge:We:_.x<0&&(y-=b,g=_.y>0?Xe:Ke),_.y<0&&(m-=v),this.cropped||(be(this.cropBox,ee),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}N&&(l.width=b,l.height=v,l.left=y,l.top=m,this.action=g,this.renderCropBox()),Y(u,function(H){H.startX=H.endX,H.startY=H.endY})}},xl={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&G(this.dragBox,ft),be(this.cropBox,ee),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=U({},this.initialImageData),this.canvasData=U({},this.initialCanvasData),this.cropBoxData=U({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(U(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),be(this.dragBox,ft),G(this.cropBox,ee)),this},replace:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&t&&(this.isImg&&(this.element.src=t),o?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,Y(this.previews,function(i){i.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,be(this.cropper,qr)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,G(this.cropper,qr)),this},destroy:function(){var t=this.element;return t[F]?(t[F]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,i=this.canvasData,a=i.left,l=i.top;return this.moveTo(Gt(t)?t:a+Number(t),Gt(o)?o:l+Number(o))},moveTo:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,i=this.canvasData,a=!1;return t=Number(t),o=Number(o),this.ready&&!this.disabled&&this.options.movable&&(j(t)&&(i.left=t,a=!0),j(o)&&(i.top=o,a=!0),a&&this.renderCanvas(!0)),this},zoom:function(t,o){var i=this.canvasData;return t=Number(t),t<0?t=1/(1-t):t=1+t,this.zoomTo(i.width*t/i.naturalWidth,null,o)},zoomTo:function(t,o,i){var a=this.options,l=this.canvasData,u=l.width,g=l.height,c=l.naturalWidth,y=l.naturalHeight;if(t=Number(t),t>=0&&this.ready&&!this.disabled&&a.zoomable){var m=c*t,b=y*t;if(Re(this.element,Kt,{ratio:t,oldRatio:u/c,originalEvent:i})===!1)return this;if(i){var v=this.pointers,x=yn(this.cropper),k=v&&Object.keys(v).length?cl(v):{pageX:i.pageX,pageY:i.pageY};l.left-=(m-u)*((k.pageX-x.left-l.left)/u),l.top-=(b-g)*((k.pageY-x.top-l.top)/g)}else Oe(o)&&j(o.x)&&j(o.y)?(l.left-=(m-u)*((o.x-l.left)/u),l.top-=(b-g)*((o.y-l.top)/g)):(l.left-=(m-u)/2,l.top-=(b-g)/2);l.width=m,l.height=b,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return t=Number(t),j(t)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var o=this.imageData.scaleY;return this.scale(t,j(o)?o:1)},scaleY:function(t){var o=this.imageData.scaleX;return this.scale(j(o)?o:1,t)},scale:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,i=this.imageData,a=!1;return t=Number(t),o=Number(o),this.ready&&!this.disabled&&this.options.scalable&&(j(t)&&(i.scaleX=t,a=!0),j(o)&&(i.scaleY=o,a=!0),a&&this.renderCanvas(!0,!0)),this},getData:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,o=this.options,i=this.imageData,a=this.canvasData,l=this.cropBoxData,u;if(this.ready&&this.cropped){u={x:l.left-a.left,y:l.top-a.top,width:l.width,height:l.height};var g=i.width/i.naturalWidth;if(Y(u,function(m,b){u[b]=m/g}),t){var c=Math.round(u.y+u.height),y=Math.round(u.x+u.width);u.x=Math.round(u.x),u.y=Math.round(u.y),u.width=y-u.x,u.height=c-u.y}}else u={x:0,y:0,width:0,height:0};return o.rotatable&&(u.rotate=i.rotate||0),o.scalable&&(u.scaleX=i.scaleX||1,u.scaleY=i.scaleY||1),u},setData:function(t){var o=this.options,i=this.imageData,a=this.canvasData,l={};if(this.ready&&!this.disabled&&Oe(t)){var u=!1;o.rotatable&&j(t.rotate)&&t.rotate!==i.rotate&&(i.rotate=t.rotate,u=!0),o.scalable&&(j(t.scaleX)&&t.scaleX!==i.scaleX&&(i.scaleX=t.scaleX,u=!0),j(t.scaleY)&&t.scaleY!==i.scaleY&&(i.scaleY=t.scaleY,u=!0)),u&&this.renderCanvas(!0,!0);var g=i.width/i.naturalWidth;j(t.x)&&(l.left=t.x*g+a.left),j(t.y)&&(l.top=t.y*g+a.top),j(t.width)&&(l.width=t.width*g),j(t.height)&&(l.height=t.height*g),this.setCropBoxData(l)}return this},getContainerData:function(){return this.ready?U({},this.containerData):{}},getImageData:function(){return this.sized?U({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,o={};return this.ready&&Y(["left","top","width","height","naturalWidth","naturalHeight"],function(i){o[i]=t[i]}),o},setCanvasData:function(t){var o=this.canvasData,i=o.aspectRatio;return this.ready&&!this.disabled&&Oe(t)&&(j(t.left)&&(o.left=t.left),j(t.top)&&(o.top=t.top),j(t.width)?(o.width=t.width,o.height=t.width/i):j(t.height)&&(o.height=t.height,o.width=t.height*i),this.renderCanvas(!0)),this},getCropBoxData:function(){var t=this.cropBoxData,o;return this.ready&&this.cropped&&(o={left:t.left,top:t.top,width:t.width,height:t.height}),o||{}},setCropBoxData:function(t){var o=this.cropBoxData,i=this.options.aspectRatio,a,l;return this.ready&&this.cropped&&!this.disabled&&Oe(t)&&(j(t.left)&&(o.left=t.left),j(t.top)&&(o.top=t.top),j(t.width)&&t.width!==o.width&&(a=!0,o.width=t.width),j(t.height)&&t.height!==o.height&&(l=!0,o.height=t.height),i&&(a?o.height=o.width/i:l&&(o.width=o.height*i)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var o=this.canvasData,i=hl(this.image,this.imageData,o,t);if(!this.cropped)return i;var a=this.getData(),l=a.x,u=a.y,g=a.width,c=a.height,y=i.width/Math.floor(o.naturalWidth);y!==1&&(l*=y,u*=y,g*=y,c*=y);var m=g/c,b=Ne({aspectRatio:m,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),v=Ne({aspectRatio:m,width:t.minWidth||0,height:t.minHeight||0},"cover"),x=Ne({aspectRatio:m,width:t.width||(y!==1?i.width:g),height:t.height||(y!==1?i.height:c)}),k=x.width,C=x.height;k=Math.min(b.width,Math.max(v.width,k)),C=Math.min(b.height,Math.max(v.height,C));var M=document.createElement("canvas"),$=M.getContext("2d");M.width=Pe(k),M.height=Pe(C),$.fillStyle=t.fillColor||"transparent",$.fillRect(0,0,k,C);var E=t.imageSmoothingEnabled,N=E===void 0?!0:E,B=t.imageSmoothingQuality;$.imageSmoothingEnabled=N,B&&($.imageSmoothingQuality=B);var R=i.width,_=i.height,A=l,H=u,W,Z,re,ae,oe,ne;A<=-g||A>R?(A=0,W=0,re=0,oe=0):A<=0?(re=-A,A=0,W=Math.min(R,g+A),oe=W):A<=R&&(re=0,W=Math.min(g,R-A),oe=W),W<=0||H<=-c||H>_?(H=0,Z=0,ae=0,ne=0):H<=0?(ae=-H,H=0,Z=Math.min(_,c+H),ne=Z):H<=_&&(ae=0,Z=Math.min(c,_-H),ne=Z);var X=[A,H,W,Z];if(oe>0&&ne>0){var V=k/g;X.push(re*V,ae*V,oe*V,ne*V)}return $.drawImage.apply($,[i].concat(Wr(X.map(function(I){return Math.floor(Pe(I))})))),M},setAspectRatio:function(t){var o=this.options;return!this.disabled&&!Gt(t)&&(o.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var o=this.options,i=this.dragBox,a=this.face;if(this.ready&&!this.disabled){var l=t===Ft,u=o.movable&&t===Jr;t=l||u?t:en,o.dragMode=t,Qe(i,qe,t),ze(i,Rt,l),ze(i,Ht,u),o.cropBoxMovable||(Qe(a,qe,t),ze(a,Rt,l),ze(a,Ht,u))}return this}},kl=ye.Cropper,wn=function(){function n(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ja(this,n),!t||!qa.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=U({},un,Oe(o)&&o),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return Oa(n,[{key:"init",value:function(){var o=this.element,i=o.tagName.toLowerCase(),a;if(!o[F]){if(o[F]=this,i==="img"){if(this.isImg=!0,a=o.getAttribute("src")||"",this.originalUrl=a,!a)return;a=o.src}else i==="canvas"&&window.HTMLCanvasElement&&(a=o.toDataURL());this.load(a)}}},{key:"load",value:function(o){var i=this;if(o){this.url=o,this.imageData={};var a=this.element,l=this.options;if(!l.rotatable&&!l.scalable&&(l.checkOrientation=!1),!l.checkOrientation||!window.ArrayBuffer){this.clone();return}if(Ga.test(o)){Xa.test(o)?this.read(ml(o)):this.clone();return}var u=new XMLHttpRequest,g=this.clone.bind(this);this.reloading=!0,this.xhr=u,u.onabort=g,u.onerror=g,u.ontimeout=g,u.onprogress=function(){u.getResponseHeader("content-type")!==cn&&u.abort()},u.onload=function(){i.read(u.response)},u.onloadend=function(){i.reloading=!1,i.xhr=null},l.checkCrossOrigin&&bn(o)&&a.crossOrigin&&(o=Sn(o)),u.open("GET",o,!0),u.responseType="arraybuffer",u.withCredentials=a.crossOrigin==="use-credentials",u.send()}}},{key:"read",value:function(o){var i=this.options,a=this.imageData,l=gl(o),u=0,g=1,c=1;if(l>1){this.url=pl(o,cn);var y=yl(l);u=y.rotate,g=y.scaleX,c=y.scaleY}i.rotatable&&(a.rotate=u),i.scalable&&(a.scaleX=g,a.scaleY=c),this.clone()}},{key:"clone",value:function(){var o=this.element,i=this.url,a=o.crossOrigin,l=i;this.options.checkCrossOrigin&&bn(i)&&(a||(a="anonymous"),l=Sn(i)),this.crossOrigin=a,this.crossOriginUrl=l;var u=document.createElement("img");a&&(u.crossOrigin=a),u.src=l||i,u.alt=o.alt||"The image to crop",this.image=u,u.onload=this.start.bind(this),u.onerror=this.stop.bind(this),G(u,Qr),o.parentNode.insertBefore(u,o.nextSibling)}},{key:"start",value:function(){var o=this,i=this.image;i.onload=null,i.onerror=null,this.sizing=!0;var a=ye.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(ye.navigator.userAgent),l=function(y,m){U(o.imageData,{naturalWidth:y,naturalHeight:m,aspectRatio:y/m}),o.initialImageData=U({},o.imageData),o.sizing=!1,o.sized=!0,o.build()};if(i.naturalWidth&&!a){l(i.naturalWidth,i.naturalHeight);return}var u=document.createElement("img"),g=document.body||document.documentElement;this.sizingImage=u,u.onload=function(){l(u.width,u.height),a||g.removeChild(u)},u.src=i.src,a||(u.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",g.appendChild(u))}},{key:"stop",value:function(){var o=this.image;o.onload=null,o.onerror=null,o.parentNode.removeChild(o),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var o=this.element,i=this.options,a=this.image,l=o.parentNode,u=document.createElement("div");u.innerHTML=Qa;var g=u.querySelector(".".concat(F,"-container")),c=g.querySelector(".".concat(F,"-canvas")),y=g.querySelector(".".concat(F,"-drag-box")),m=g.querySelector(".".concat(F,"-crop-box")),b=m.querySelector(".".concat(F,"-face"));this.container=l,this.cropper=g,this.canvas=c,this.dragBox=y,this.cropBox=m,this.viewBox=g.querySelector(".".concat(F,"-view-box")),this.face=b,c.appendChild(a),G(o,ee),l.insertBefore(g,o.nextSibling),be(a,Qr),this.initPreview(),this.bind(),i.initialAspectRatio=Math.max(0,i.initialAspectRatio)||NaN,i.aspectRatio=Math.max(0,i.aspectRatio)||NaN,i.viewMode=Math.max(0,Math.min(3,Math.round(i.viewMode)))||0,G(m,ee),i.guides||G(m.getElementsByClassName("".concat(F,"-dashed")),ee),i.center||G(m.getElementsByClassName("".concat(F,"-center")),ee),i.background&&G(g,"".concat(F,"-bg")),i.highlight||G(b,Ua),i.cropBoxMovable&&(G(b,Ht),Qe(b,qe,zt)),i.cropBoxResizable||(G(m.getElementsByClassName("".concat(F,"-line")),ee),G(m.getElementsByClassName("".concat(F,"-point")),ee)),this.render(),this.ready=!0,this.setDragMode(i.dragMode),i.autoCrop&&this.crop(),this.setData(i.data),te(i.ready)&&se(o,sn,i.ready,{once:!0}),Re(o,sn)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var o=this.cropper.parentNode;o&&o.removeChild(this.cropper),be(this.element,ee)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=kl,n}},{key:"setDefaults",value:function(o){U(un,Oe(o)&&o)}}]),n}();U(wn.prototype,bl,Sl,vl,wl,_l,xl);const Dl={class:"flex"},El=["aria-label"],Nl={class:"ml-auto mb-2"},Ml={class:"w-full flex justify-center"},Cl=["src"],Vl={__name:"Image",props:{selection:Object},emits:["load"],setup(n,{emit:t}){const o=n,{t:i}=e.inject("i18n"),{apiUrl:a}=fe(),l=e.ref(null),u=e.ref(null),g=e.ref(!1),c=e.ref(""),y=e.ref(!1),m=()=>{g.value=!g.value,g.value?u.value=new wn(l.value,{crop(x){}}):u.value.destroy()},b=e.inject("postData"),v=()=>{u.value.getCroppedCanvas({width:795,height:341}).toBlob(x=>{c.value="",y.value=!1,it(a.value,{method:"POST",params:Object.assign(b,{q:"upload",adapter:o.selection.adapter,path:o.selection.item.path,file:x}),name:o.selection.item.basename,json:!1}).then(k=>{c.value=i("Updated."),l.value.src=xt(o.selection.adapter,o.selection.item.path),m(),t("load")}).catch(k=>{c.value=i(k.message),y.value=!0})})};return e.onMounted(()=>{t("load")}),(x,k)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",Dl,[e.createElementVNode("h3",{class:"mb-2 text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title","aria-label":n.selection.item.path,"data-microtip-position":"bottom-right",role:"tooltip"},e.toDisplayString(n.selection.item.basename),9,El),e.createElementVNode("div",Nl,[g.value?(e.openBlock(),e.createElementBlock("button",{key:0,onClick:v,class:"ml-1 px-2 py-1 rounded border border-transparent shadow-sm bg-blue-700/75 hover:bg-blue-700 dark:bg-gray-700 dark:hover:bg-gray-700/50 text-base font-medium text-white sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(i)("Crop")),1)):e.createCommentVNode("",!0),e.createElementVNode("button",{class:"ml-1 px-2 py-1 rounded border border-transparent shadow-sm bg-blue-700/75 hover:bg-blue-700 dark:bg-gray-700 dark:hover:bg-gray-700/50 text-base font-medium text-white sm:ml-3 sm:w-auto sm:text-sm",onClick:k[0]||(k[0]=C=>m())},e.toDisplayString(g.value?e.unref(i)("Cancel"):e.unref(i)("Edit")),1)])]),e.createElementVNode("div",Ml,[e.createElementVNode("img",{ref_key:"image",ref:l,class:"max-w-[50vh] max-h-[50vh]",src:e.unref(xt)(o.selection.adapter,o.selection.item.path),alt:""},null,8,Cl)]),c.value.length?(e.openBlock(),e.createBlock(ge,{key:0,onHidden:k[1]||(k[1]=C=>c.value=""),error:y.value},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(c.value),1)]),_:1},8,["error"])):e.createCommentVNode("",!0)],64))}},Tl={class:"flex"},Il=["aria-label"],Al=e.createElementVNode("div",null,null,-1),Bl={__name:"Default",props:{selection:Object},emits:["load"],setup(n,{emit:t}){return e.onMounted(()=>{t("load")}),(o,i)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",Tl,[e.createElementVNode("h3",{class:"mb-2 text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title","aria-label":n.selection.item.path,"data-microtip-position":"bottom-right",role:"tooltip"},e.toDisplayString(n.selection.item.basename),9,Il)]),Al],64))}},Ll=["aria-label"],$l={class:"w-full",preload:"",controls:""},jl=["src"],Ol={__name:"Video",props:{selection:Object},emits:["load"],setup(n,{emit:t}){const o=n,{apiUrl:i}=fe(),a=()=>i.value+"?"+Ce({q:"preview",adapter:o.selection.adapter,path:o.selection.item.path});return e.onMounted(()=>{t("load")}),(l,u)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("h3",{class:"mb-2 text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title","aria-label":n.selection.item.path,"data-microtip-position":"bottom-right",role:"tooltip"},e.toDisplayString(n.selection.item.basename),9,Ll),e.createElementVNode("div",null,[e.createElementVNode("video",$l,[e.createElementVNode("source",{src:a(),type:"video/mp4"},null,8,jl),e.createTextVNode(" Your browser does not support the video tag. ")])])],64))}},Pl=["aria-label"],zl={class:"w-full",controls:""},Rl=["src"],Hl={__name:"Audio",props:{selection:Object},emits:["load"],setup(n,{emit:t}){const o=n,{apiUrl:i}=fe(),a=()=>i.value+"?"+Ce({q:"preview",adapter:o.selection.adapter,path:o.selection.item.path});return e.onMounted(()=>{t("load")}),(l,u)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("h3",{class:"mb-2 text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title","aria-label":n.selection.item.path,"data-microtip-position":"bottom-right",role:"tooltip"},e.toDisplayString(n.selection.item.basename),9,Pl),e.createElementVNode("div",null,[e.createElementVNode("audio",zl,[e.createElementVNode("source",{src:a(),type:"audio/mpeg"},null,8,Rl),e.createTextVNode(" Your browser does not support the audio element. ")])])],64))}},Fl=["aria-label"],Ul=["data"],Yl=["src"],Zl={__name:"Pdf",props:{selection:Object},emits:["load"],setup(n,{emit:t}){const o=n,{apiUrl:i}=fe(),a=()=>i.value+"?"+Ce({q:"preview",adapter:o.selection.adapter,path:o.selection.item.path});return e.onMounted(()=>{t("load")}),(l,u)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("h3",{class:"mb-2 text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title","aria-label":n.selection.item.path,"data-microtip-position":"bottom-right",role:"tooltip"},e.toDisplayString(n.selection.item.basename),9,Fl),e.createElementVNode("div",null,[e.createElementVNode("object",{class:"h-[60vh]",data:a(),type:"application/pdf",width:"100%",height:"100%"},[e.createElementVNode("iframe",{class:"border-0",src:a(),width:"100%",height:"100%"},`
          <p>
            Your browser does not support PDFs.
            <a href="https://example.com/test.pdf">Download the PDF</a>
            .
          </p>
        `,8,Yl)],8,Ul)])],64))}},Wl={class:"sm:flex custom-new-folder-popup edit-preview-container"},Kl={class:"custom-file-picker-title"},Gl={class:"file-picker-title-img"},Xl=e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 stroke-blue-600 dark:stroke-blue-100",fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})],-1),ql={class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title"},Ql=e.createElementVNode("hr",null,null,-1),Jl={class:"mt-3 text-center w-full p-4 h-full create-folder-form edit-preview"},ec={class:"text-gray-700 dark:text-gray-200 text-sm"},tc={key:0,class:"flex leading-5"},rc=e.createElementVNode("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e.createElementVNode("circle",{class:"opacity-25 stroke-blue-900 dark:stroke-blue-100",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e.createElementVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),nc={class:"py-2 flex font-normal break-all dark:text-gray-200 rounded text-xs"},oc={class:"font-bold pl-2"},ic={class:"font-bold pl-2"},sc={class:"search-terms-div-preview bg-white dark:bg-gray-800"},ac=e.createElementVNode("div",null,[e.createElementVNode("label",{class:"custom-uploader-label",for:"img-upload-rte-search-terms"},[e.createElementVNode("div",{class:"post-info icon-circle search-icon"},[e.createElementVNode("img",{class:"router-img-btn-img",src:Rr,alt:"",srcset:""})]),e.createTextVNode(" Search Terms")])],-1),lc=e.createElementVNode("hr",null,null,-1),cc=e.createElementVNode("div",null,[e.createElementVNode("input",{id:"search-terms-file-picker",class:"form-control user-dynamic-input address-autocomplete",type:"text",placeholder:"Search Terms",autocomplete:"off"})],-1),dc={id:"tags-space"},hc=["onClick"],uc=e.createElementVNode("div",{class:"details-div bg-white dark:bg-gray-800"},[e.createElementVNode("div",null,[e.createElementVNode("label",{class:"custom-uploader-label",for:"img-upload-rte-captions"},[e.createElementVNode("div",{class:"post-info icon-circle details-icon"},[e.createElementVNode("img",{class:"router-img-btn-img",src:Fr,alt:"",srcset:""})]),e.createTextVNode(" File Details")])]),e.createElementVNode("hr"),e.createElementVNode("div",null,[e.createElementVNode("input",{id:"details-file-picker",class:"form-control user-dynamic-input address-autocomplete",type:"text",placeholder:"Details",autocomplete:"off"})])],-1),fc={class:"bg-white custom-file-picker-action"},mc=Object.assign({name:"VFModalPreview"},{props:{selection:Object},setup(n){const t=n,{apiUrl:o}=fe(),i=e.inject("emitter"),{t:a}=e.inject("i18n"),l=e.ref(!1),u=v=>l.value=v;let g=e.ref([]);e.onMounted(()=>{m()});const c=v=>(t.selection.item.mime_type??"").startsWith(v),y=()=>{const v=o.value+"?"+Ce({q:"download",adapter:t.selection.adapter,path:t.selection.item.path});i.emit("vf-download",v)};function m(){let v=document.querySelector("#search-terms-file-picker");v.addEventListener("keypress",x=>{x.key==="Enter"&&(g.value.push({tag_id:g.value.length+1,tag_name:x.target.value}),v.value="")})}function b(v){const x=g.value.findIndex(k=>k.tag_id===v);g.value.splice(x,1)}return(v,x)=>(e.openBlock(),e.createBlock(pe,null,{buttons:e.withCtx(()=>[e.createElementVNode("div",sc,[ac,lc,cc,e.createElementVNode("div",dc,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(g),k=>(e.openBlock(),e.createElementBlock("span",{key:k.id,class:"img-tag"},[e.createElementVNode("img",{onClick:C=>b(k.tag_id),src:Hr,alt:"delete tag",class:"delete-tag-x"},null,8,hc),e.createElementVNode("p",null,e.toDisplayString(k.tag_name),1)]))),128))])]),uc,e.createElementVNode("div",fc,[e.createElementVNode("button",{type:"button",onClick:x[6]||(x[6]=k=>e.unref(i).emit("vf-modal-close")),class:"new-folder-action mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-gray-400 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(a)("Close")),1),e.createElementVNode("button",{type:"button",onClick:x[7]||(x[7]=k=>y()),class:"new-folder-action mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-gray-400 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(a)("Download")),1)])]),default:e.withCtx(()=>[e.createElementVNode("div",Wl,[e.createElementVNode("div",Kl,[e.createElementVNode("div",Gl,[Xl,e.createElementVNode("h3",ql,e.toDisplayString(e.unref(a)("Edit")),1)]),Ql]),e.createElementVNode("div",Jl,[e.createElementVNode("div",null,[c("text")?(e.openBlock(),e.createBlock($a,{key:0,selection:n.selection,onLoad:x[0]||(x[0]=k=>u(!0))},null,8,["selection"])):c("image")?(e.openBlock(),e.createBlock(Vl,{key:1,selection:n.selection,onLoad:x[1]||(x[1]=k=>u(!0))},null,8,["selection"])):c("video")?(e.openBlock(),e.createBlock(Ol,{key:2,selection:n.selection,onLoad:x[2]||(x[2]=k=>u(!0))},null,8,["selection"])):c("audio")?(e.openBlock(),e.createBlock(Hl,{key:3,selection:n.selection,onLoad:x[3]||(x[3]=k=>u(!0))},null,8,["selection"])):c("application/pdf")?(e.openBlock(),e.createBlock(Zl,{key:4,selection:n.selection,onLoad:x[4]||(x[4]=k=>u(!0))},null,8,["selection"])):(e.openBlock(),e.createBlock(Bl,{key:5,selection:n.selection,onLoad:x[5]||(x[5]=k=>u(!0))},null,8,["selection"]))]),e.createElementVNode("div",ec,[l.value==!1?(e.openBlock(),e.createElementBlock("div",tc,[rc,e.createElementVNode("span",null,e.toDisplayString(e.unref(a)("Loading")),1)])):e.createCommentVNode("",!0)])])]),e.createElementVNode("div",nc,[e.createElementVNode("div",null,[e.createElementVNode("span",oc,e.toDisplayString(e.unref(a)("File Size"))+": ",1),e.createTextVNode(e.toDisplayString(e.unref(sr)(n.selection.item.file_size)),1)]),e.createElementVNode("div",null,[e.createElementVNode("span",ic,e.toDisplayString(e.unref(a)("Last Modified"))+": ",1),e.createTextVNode(" "+e.toDisplayString(e.unref(ar)(n.selection.item.last_modified)),1)])])]),_:1}))}}),pc={class:"sm:flex custom-new-folder-popup"},gc={class:"custom-file-picker-title"},yc={class:"file-picker-title-img"},bc=e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 stroke-blue-600 dark:stroke-blue-100",fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})],-1),Sc={class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title"},vc=e.createElementVNode("hr",null,null,-1),wc={class:"mt-3 text-center w-full p-4 h-full"},_c={class:"mt-2 create-folder-form"},xc={class:"flex text-sm text-gray-800 dark:text-gray-400 py-2"},kc={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500 fill-sky-500 stroke-sky-500 dark:fill-slate-500 dark:stroke-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},Dc=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},null,-1)],Ec={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},Nc=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)],Mc={class:"ml-1.5"},Cc=["onKeyup"],Vc=Object.assign({name:"VFModalRename"},{props:{selection:Object,current:Object},setup(n){const t=n,o=e.inject("emitter");e.inject("storage");const i=e.inject("adapter"),{t:a}=e.inject("i18n"),l=e.ref(t.selection.items[0]),u=e.ref(t.selection.items[0].basename),g=e.ref(""),c=()=>{u.value!=""&&o.emit("vf-fetch",{params:{q:"rename",adapter:i.value,path:t.current.dirname,item:l.value.path,name:u.value},onSuccess:()=>{o.emit("vf-toast-push",{label:a("%s is renamed.",u.value)})},onError:y=>{g.value=a(y.message)}})};return(y,m)=>(e.openBlock(),e.createBlock(pe,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{type:"button",onClick:c,class:"new-folder-action w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 dark:bg-gray-700 dark:hover:bg-gray-600/75 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(a)("Rename")),1),e.createElementVNode("button",{type:"button",onClick:m[2]||(m[2]=b=>e.unref(o).emit("vf-modal-close")),class:"new-folder-action mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(a)("Cancel")),1)]),default:e.withCtx(()=>[e.createElementVNode("div",pc,[e.createElementVNode("div",gc,[e.createElementVNode("div",yc,[bc,e.createElementVNode("h3",Sc,e.toDisplayString(e.unref(a)("Rename")),1)]),vc]),e.createElementVNode("div",wc,[e.createElementVNode("div",_c,[e.createElementVNode("p",xc,[l.value.type=="dir"?(e.openBlock(),e.createElementBlock("svg",kc,Dc)):(e.openBlock(),e.createElementBlock("svg",Ec,Nc)),e.createElementVNode("span",Mc,e.toDisplayString(l.value.basename),1)]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":m[0]||(m[0]=b=>u.value=b),onKeyup:e.withKeys(c,["enter"]),class:"px-2 py-1 border rounded dark:bg-gray-700/25 dark:focus:ring-gray-600 dark:focus:border-gray-600 dark:text-gray-100 w-full",placeholder:"Name",type:"text"},null,40,Cc),[[e.vModelText,u.value]]),g.value.length?(e.openBlock(),e.createBlock(ge,{key:0,onHidden:m[1]||(m[1]=b=>g.value=""),error:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(g.value),1)]),_:1})):e.createCommentVNode("",!0)])])])]),_:1}))}}),Tc={class:"flex flex-col h-full items-center"},Ic={class:"custom-file-picker-title"},Ac={class:"file-picker-title-img"},Bc=e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 stroke-blue-600 dark:stroke-blue-100",fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})],-1),Lc={class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title"},$c=e.createElementVNode("hr",null,null,-1),jc={class:"mt-3 text-center custom-file-picker-body"},Oc={class:"mt-2"},Pc={class:"text-gray-500 mb-1"},zc=["id"],Rc={key:0,class:"py-2"},Hc={class:"search-terms-div bg-white dark:bg-gray-800"},Fc=e.createElementVNode("div",null,[e.createElementVNode("label",{class:"custom-uploader-label",for:"img-upload-rte-search-terms"},[e.createElementVNode("div",{class:"post-info icon-circle search-icon"},[e.createElementVNode("img",{class:"router-img-btn-img",src:Rr,alt:"",srcset:""})]),e.createTextVNode(" Search Terms")])],-1),Uc=e.createElementVNode("hr",null,null,-1),Yc=e.createElementVNode("div",null,[e.createElementVNode("input",{id:"search-terms-file-picker",class:"form-control user-dynamic-input address-autocomplete",type:"text",placeholder:"Search Terms",autocomplete:"off"})],-1),Zc={id:"tags-space"},Wc=["onClick"],Kc=e.createElementVNode("div",{class:"details-div bg-white dark:bg-gray-800"},[e.createElementVNode("div",null,[e.createElementVNode("label",{class:"custom-uploader-label",for:"img-upload-rte-captions"},[e.createElementVNode("div",{class:"post-info icon-circle details-icon"},[e.createElementVNode("img",{class:"router-img-btn-img",src:Fr,alt:"",srcset:""})]),e.createTextVNode(" File Details")])]),e.createElementVNode("hr"),e.createElementVNode("div",null,[e.createElementVNode("input",{id:"details-file-picker",class:"form-control user-dynamic-input address-autocomplete",type:"text",placeholder:"Details",autocomplete:"off"})])],-1),Gc={class:"bg-white custom-file-picker-action"},Xc=["disabled","onClick"],qc=Object.assign({name:"VFModalUpload"},{props:{current:Object},setup(n){const t=n,o=e.inject("emitter"),{apiUrl:i}=fe(),{t:a}=e.inject("i18n"),l=e.inject("maxFileSize"),u=e.ref(null),g=e.ref(null),c=e.ref(null),y=e.ref([]),m=e.ref("");let b=e.ref([]);const v=e.ref(!0),x=()=>{m.value="",u.value.start()},k=e.inject("postData");e.onMounted(()=>{u.value=new ve.Uploader({runtimes:"html5",browse_button:c.value,container:g.value,max_file_size:l,multiple_queues:!0,file_data_name:"file",url:i.value+"?"+Ce(Object.assign(k,{q:"upload",adapter:t.current.adapter,path:t.current.dirname})),headers:{...ot&&{"X-CSRF-Token":ot}},init:{PostInit:function(){},FilesAdded:function($,E){v.value=!1,ve.each(E,function(N){y.value.push({id:N.id,name:N.name,size:ve.formatSize(N.size),percent:""})})},UploadProgress:function($,E){y.value[y.value.findIndex(N=>N.id==E.id)].percent=E.percent+"%"},UploadComplete:function(){v.value=!0,o.emit("vf-fetch",{params:{q:"index",adapter:t.current.adapter,path:t.current.dirname}})},Error:function($,E){u.value.stop(),E.code==ve.HTTP_ERROR?m.value=a(JSON.parse(E.response).message):E.code==ve.FILE_SIZE_ERROR?m.value=a("The selected file exceeds the maximum file size. You cannot upload files greater than %s",[l]):m.value=a(E.message)}}}),u.value.init(),C()});function C(){let $=document.querySelector("#search-terms-file-picker");$.addEventListener("keypress",E=>{E.key==="Enter"&&(b.value.push({tag_id:b.value.length+1,tag_name:E.target.value}),$.value="")})}function M($){const E=b.value.findIndex(N=>N.tag_id===$);b.value.splice(E,1)}return($,E)=>(e.openBlock(),e.createBlock(pe,null,{buttons:e.withCtx(()=>[e.createElementVNode("div",Hc,[Fc,Uc,Yc,e.createElementVNode("div",Zc,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(b),N=>(e.openBlock(),e.createElementBlock("span",{key:N.id,class:"img-tag"},[e.createElementVNode("img",{onClick:B=>M(N.tag_id),src:Hr,alt:"delete tag",class:"delete-tag-x"},null,8,Wc),e.createElementVNode("p",null,e.toDisplayString(N.tag_name),1)]))),128))])]),Kc,e.createElementVNode("div",Gc,[e.createElementVNode("button",{disabled:v.value,onClick:e.withModifiers(x,["prevent"]),type:"button",class:e.normalizeClass([v.value?"bg-blue-200 hover:bg-blue-200 dark:bg-gray-700/50 dark:hover:bg-gray-700/50 dark:text-gray-500":"bg-blue-600 hover:bg-blue-700 dark:bg-gray-700 dark:hover:bg-gray-500","w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 text-base font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"])},e.toDisplayString(e.unref(a)("Upload")),11,Xc),e.createElementVNode("button",{type:"button",onClick:E[1]||(E[1]=N=>e.unref(o).emit("vf-modal-close")),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(a)("Cancel")),1)])]),default:e.withCtx(()=>[e.createElementVNode("div",Tc,[e.createElementVNode("div",Ic,[e.createElementVNode("div",Ac,[Bc,e.createElementVNode("h3",Lc,e.toDisplayString(e.unref(a)("Upload files")),1)]),$c]),e.createElementVNode("div",jc,[e.createElementVNode("div",Oc,[e.createElementVNode("div",Pc,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(y.value,N=>(e.openBlock(),e.createElementBlock("div",null,[e.createElementVNode("div",{id:N.id},[e.createTextVNode(e.toDisplayString(N.name)+" ( "+e.toDisplayString(N.size)+") ",1),e.createElementVNode("b",null,e.toDisplayString(N.percent),1)],8,zc)]))),256)),y.value.length?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Rc,e.toDisplayString(e.unref(a)("No files selected!")),1))]),e.createElementVNode("div",{class:"text-gray-500",ref_key:"container",ref:g},[e.createElementVNode("button",{ref_key:"pickFiles",ref:c,type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(a)("Select Files")),513)],512),m.value.length?(e.openBlock(),e.createBlock(ge,{key:0,onHidden:E[0]||(E[0]=N=>m.value=""),error:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(m.value),1)]),_:1})):e.createCommentVNode("",!0)])])])]),_:1}))}}),Qc={class:"sm:flex custom-new-folder-popup"},Jc={class:"custom-file-picker-title"},ed={class:"file-picker-title-img"},td=e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 stroke-blue-600 dark:stroke-blue-100",fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})],-1),rd={class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title"},nd=e.createElementVNode("hr",null,null,-1),od={class:"mt-3 text-center w-full p-4 h-full"},id={class:"mt-2 create-folder-form"},sd={class:"flex text-sm text-gray-800 dark:text-gray-400"},ad={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500 fill-sky-500 stroke-sky-500 dark:fill-slate-500 dark:stroke-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},ld=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},null,-1)],cd={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},dd=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)],hd={class:"ml-1.5"},ud=["onKeyup","placeholder"],fd=Object.assign({name:"VFModalArchive"},{props:{selection:Object,current:Object},setup(n){const t=n,o=e.inject("emitter");e.inject("storage");const i=e.inject("adapter"),{t:a}=e.inject("i18n"),l=e.ref(""),u=e.ref(""),g=e.ref(t.selection.items),c=()=>{g.value.length&&o.emit("vf-fetch",{params:{q:"archive",adapter:i.value,path:t.current.dirname,items:JSON.stringify(g.value.map(({path:y,type:m})=>({path:y,type:m}))),name:l.value},onSuccess:()=>{o.emit("vf-toast-push",{label:a("The file(s) archived.")})},onError:y=>{u.value=a(y.message)}})};return(y,m)=>(e.openBlock(),e.createBlock(pe,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{type:"button",onClick:c,class:"new-folder-action w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 dark:bg-gray-700 dark:hover:bg-gray-600/75 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(a)("Archive")),1),e.createElementVNode("button",{type:"button",onClick:m[2]||(m[2]=b=>e.unref(o).emit("vf-modal-close")),class:"new-folder-action mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(a)("Cancel")),1)]),default:e.withCtx(()=>[e.createElementVNode("div",Qc,[e.createElementVNode("div",Jc,[e.createElementVNode("div",ed,[td,e.createElementVNode("h3",rd,e.toDisplayString(e.unref(a)("Archive the files")),1)]),nd]),e.createElementVNode("div",od,[e.createElementVNode("div",id,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(g.value,b=>(e.openBlock(),e.createElementBlock("p",sd,[b.type=="dir"?(e.openBlock(),e.createElementBlock("svg",ad,ld)):(e.openBlock(),e.createElementBlock("svg",cd,dd)),e.createElementVNode("span",hd,e.toDisplayString(b.basename),1)]))),256)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":m[0]||(m[0]=b=>l.value=b),onKeyup:e.withKeys(c,["enter"]),class:"my-1 px-2 py-1 border rounded dark:bg-gray-700/25 dark:focus:ring-gray-600 dark:focus:border-gray-600 dark:text-gray-100 w-full",placeholder:e.unref(a)("Archive name. (.zip file will be created)"),type:"text"},null,40,ud),[[e.vModelText,l.value]]),u.value.length?(e.openBlock(),e.createBlock(ge,{key:0,onHidden:m[1]||(m[1]=b=>u.value=""),error:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(u.value),1)]),_:1})):e.createCommentVNode("",!0)])])])]),_:1}))}}),md={class:"sm:flex sm:items-start"},pd=e.createElementVNode("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-50 dark:bg-gray-500 sm:mx-0 sm:h-10 sm:w-10"},[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 stroke-blue-600 dark:stroke-blue-100",fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5m6 4.125l2.25 2.25m0 0l2.25 2.25M12 13.875l2.25-2.25M12 13.875l-2.25 2.25M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"})])],-1),gd={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},yd={class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title"},bd={class:"mt-2"},Sd={class:"flex text-sm text-gray-800 dark:text-gray-400"},vd={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500 fill-sky-500 stroke-sky-500 dark:fill-slate-500 dark:stroke-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},wd=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},null,-1)],_d={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},xd=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)],kd={class:"ml-1.5"},Dd={class:"my-1 text-sm text-gray-500"},Ed=Object.assign({name:"VFModalUnarchive"},{props:{selection:Object,current:Object},setup(n){const t=n,o=e.inject("emitter");e.inject("storage");const i=e.inject("adapter"),{t:a}=e.inject("i18n");e.ref("");const l=e.ref(t.selection.items[0]),u=e.ref(""),g=e.ref([]),c=()=>{o.emit("vf-fetch",{params:{q:"unarchive",adapter:i.value,path:t.current.dirname,item:l.value.path},onSuccess:()=>{o.emit("vf-toast-push",{label:a("The file unarchived.")})},onError:y=>{u.value=a(y.message)}})};return(y,m)=>(e.openBlock(),e.createBlock(pe,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{type:"button",onClick:c,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 dark:bg-gray-700 dark:hover:bg-gray-600/75 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(a)("Unarchive")),1),e.createElementVNode("button",{type:"button",onClick:m[1]||(m[1]=b=>e.unref(o).emit("vf-modal-close")),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(a)("Cancel")),1)]),default:e.withCtx(()=>[e.createElementVNode("div",md,[pd,e.createElementVNode("div",gd,[e.createElementVNode("h3",yd,e.toDisplayString(e.unref(a)("Unarchive")),1),e.createElementVNode("div",bd,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(g.value,b=>(e.openBlock(),e.createElementBlock("p",Sd,[b.type=="dir"?(e.openBlock(),e.createElementBlock("svg",vd,wd)):(e.openBlock(),e.createElementBlock("svg",_d,xd)),e.createElementVNode("span",kd,e.toDisplayString(b.basename),1)]))),256)),e.createElementVNode("p",Dd,e.toDisplayString(e.unref(a)("The archive will be unarchived at"))+" ("+e.toDisplayString(n.current.dirname)+")",1),u.value.length?(e.openBlock(),e.createBlock(ge,{key:0,onHidden:m[0]||(m[0]=b=>u.value=""),error:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(u.value),1)]),_:1})):e.createCommentVNode("",!0)])])])]),_:1}))}}),Nd={class:"sm:flex sm:items-start"},Md=e.createElementVNode("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-gray-500 sm:mx-0 sm:h-10 sm:w-10"},[e.createElementVNode("svg",{class:"h-6 w-6 stroke-red-600 dark:stroke-red-200",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1),Cd={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},Vd={class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title"},Td={class:"mt-2"},Id={class:"flex text-sm text-gray-800 dark:text-gray-400"},Ad={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500 fill-sky-500 stroke-sky-500 dark:fill-slate-500 dark:stroke-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},Bd=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},null,-1)],Ld={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},$d=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)],jd={class:"ml-1.5"},Od={class:"text-sm text-gray-500 pb-1 pt-3"},Pd={class:"flex text-sm text-gray-800 dark:text-gray-400"},zd=e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500 fill-sky-500 stroke-sky-500 dark:fill-slate-500 dark:stroke-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})],-1),Rd={class:"ml-1.5 overflow-auto"},Jt={VueFinder:Bs,...Object.freeze(Object.defineProperty({__proto__:null,ModalArchive:fd,ModalDelete:oa,ModalMessage:ha,ModalMove:Object.assign({name:"VFModalMove"},{props:{selection:Object,current:Object},setup(n){const t=n,o=e.inject("emitter"),{t:i}=e.inject("i18n");e.inject("storage");const a=e.inject("adapter"),l=e.ref(t.selection.items.from),u=e.ref(""),g=()=>{l.value.length&&o.emit("vf-fetch",{params:{q:"move",adapter:a.value,path:t.current.dirname,items:JSON.stringify(l.value.map(({path:c,type:y})=>({path:c,type:y}))),item:t.selection.items.to.path},onSuccess:()=>{o.emit("file-moved",{from:t.current.dirname,to:t.selection.items.to.path,files:l.value.map(({path:c,type:y})=>({path:c,type:y}))}),o.emit("vf-toast-push",{label:i("Files moved.",t.selection.items.to.name)})},onError:c=>{u.value=i(c.message)}})};return(c,y)=>(e.openBlock(),e.createBlock(pe,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{type:"button",onClick:g,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 dark:bg-gray-700 dark:hover:bg-gray-600/75 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(i)("Yes, Move!")),1),e.createElementVNode("button",{type:"button",onClick:y[1]||(y[1]=m=>e.unref(o).emit("vf-modal-close")),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(i)("Cancel")),1)]),default:e.withCtx(()=>[e.createElementVNode("div",Nd,[Md,e.createElementVNode("div",Cd,[e.createElementVNode("h3",Vd,e.toDisplayString(e.unref(i)("Move files")),1),e.createElementVNode("div",Td,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,m=>(e.openBlock(),e.createElementBlock("p",Id,[m.type=="dir"?(e.openBlock(),e.createElementBlock("svg",Ad,Bd)):(e.openBlock(),e.createElementBlock("svg",Ld,$d)),e.createElementVNode("span",jd,e.toDisplayString(m.path),1)]))),256)),e.createElementVNode("p",Od,e.toDisplayString(e.unref(i)("Are you sure you want to move these files?")),1),e.createElementVNode("p",Pd,[zd,e.createElementVNode("span",Rd,e.toDisplayString(n.selection.items.to.path),1)]),u.value.length?(e.openBlock(),e.createBlock(ge,{key:0,onHidden:y[0]||(y[0]=m=>u.value=""),error:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(u.value),1)]),_:1})):e.createCommentVNode("",!0)])])])]),_:1}))}}),ModalNewFile:Va,ModalNewFolder:_a,ModalPreview:mc,ModalRename:Vc,ModalUnarchive:Ed,ModalUpload:qc},Symbol.toStringTag,{value:"Module"}))},Eu="",Nu="",Mu="",Cu="",Vu="",Tu="",Hd={install(n){for(const t in Jt)if(Jt.hasOwnProperty(t)){const o=Jt[t];n.component(o.name,o)}}},Fd=Object.freeze(Object.defineProperty({__proto__:null,default:`{
  "Language": "Language",
  "Create": "Create",
  "Close": "Close",
  "Cancel": "Cancel",
  "Save": "Save",
  "Edit": "Edit",
  "Crop": "Crop",
  "New Folder": "New Folder",
  "New File": "New File",
  "Rename": "Rename",
  "Delete": "Delete",
  "Upload": "Upload",
  "Download": "Download",
  "Archive": "Archive",
  "Unarchive": "Unarchive",
  "Open": "Open",
  "Open containing folder": "Open containing folder",
  "Refresh": "Refresh",
  "Preview": "Preview",
  "Dark Mode": "Dark Mode",
  "Toggle Full Screen": "Toggle Full Screen",
  "Change View": "Change View",
  "Storage" : "Storage",
  "Go up a directory": "Go up a directory",
  "Search anything..": "Search anything..",
  "Name": "Name",
  "Size": "Size",
  "Date": "Date",
  "Filepath": "Filepath",
  "About": "About",
  "Folder Name": "Folder Name",
  "File Name": "File Name",
  "Move files": "Move files",
  "Are you sure you want to move these files to?": "Are you sure you want to move these files to?",
  "Yes, Move!": "Yes, Move!",
  "Delete files": "Delete files",
  "Yes, Delete!": "Yes, Delete!",
  "Upload Files" : "Upload Files",
  "No files selected!": "No files selected!",
  "Select Files": "Select Files",
  "Archive the files": "Archive the files",
  "Unarchive the files": "Unarchive the files",
  "The archive will be unarchived at": "The archive will be unarchived at",
  "Archive name. (.zip file will be created)": "Archive name. (.zip file will be created)",
  "Vuefinder is a file manager component for vue 3.": "Vuefinder is a file manager component for vue 3.",
  "Create a new folder": "Create a new folder",
  "Create a new file": "Create a new file",
  "Are you sure you want to delete these files?": "Are you sure you want to delete these files?",
  "This action cannot be undone.": "This action cannot be undone.",
  "Search results for" : "Search results for",
  "item(s) selected.": "item(s) selected.",
  "%s is renamed." : "%s is renamed.",
  "This is a readonly storage." : "This is a readonly storage.",
  "%s is created." : "%s is created.",
  "Files moved." : "Files moved.",
  "Files deleted." : "Files deleted.",
  "The file unarchived." : "The file unarchived.",
  "The file(s) archived." : "The file(s) archived.",
  "Updated." : "Updated.",
  "No search result found." : "No search result found.",
  "Are you sure you want to move these files?" : "Are you sure you want to move these files?",
  "File Size": "File Size",
  "Last Modified": "Last Modified",
  "Drag&Drop: on": "Drag&Drop: on",
  "Drag&Drop: off": "Drag&Drop: off",
  "The selected file exceeds the maximum file size. You cannot upload files greater than %s": "The selected file exceeds the maximum file size. You cannot upload files greater than %s"
}
`},Symbol.toStringTag,{value:"Module"})),Ud=Object.freeze(Object.defineProperty({__proto__:null,default:`{
  "Language": "زبان",
  "Create": "ایجاد",
  "Close": "بستن",
  "Cancel": "انصراف",
  "Save": "ذخیره",
  "Edit": "ویرایش",
  "Crop": "برش تصویر",
  "New Folder": "پوشه جدید",
  "New File": "فایل جدید",
  "Rename": "تغییر نام",
  "Delete": "حذف",
  "Upload": "آپلود",
  "Download": "دانلود",
  "Archive": "فشرده سازی",
  "Unarchive": "باز کردن فایل فشرده",
  "Open": "باز کردن",
  "Open containing folder": "محتوای پوشه را باز کن!",
  "Refresh": "بارکذاری مجدد",
  "Preview": "پیشنمایش",
  "Dark Mode": "حالت شب",
  "Toggle Full Screen": "تمام تصویر کردن",
  "Change View": "تغییر نوع نمایش",
  "Storage" : "فضا",
  "Go up a directory": "برو به پوشه",
  "Search anything..": "به دنبال چه چیزی هستید ؟ جستجو کنید ...",
  "Name": "نام",
  "Size": "سایز",
  "Date": "تاریخ انتشار",
  "Filepath": "مسیر فایل",
  "About": "درباره",
  "Folder Name": "نام پوشه",
  "File Name": "نام فایل",
  "Move files": "انتقال فایل ها",
  "Are you sure you want to move these files to?": "آیا برای انتقال فایل ها مطمئن هستید ؟",
  "Yes, Move!": "بله، انتقال بده!",
  "Delete files": "پاک کردن فایل ها",
  "Yes, Delete!": "بله، پاک کن!",
  "Upload Files" : "آپلود کردن فایل ها",
  "No files selected!": "هیچ فایلی انتخاب نشده است.",
  "Select Files": "انتخاب فایل ها",
  "Archive the files": "فشرده سازی فایل ها",
  "Unarchive the files": "باز کردن فایل های فشرده",
  "The archive will be unarchived at": "فایل فشرده سازه در این مسیر باز میشود: ",
  "Archive name. (.zip file will be created)": "نام فایل فشرده",
  "Vuefinder is a file manager component for vue 3.": "Vuefinder یک کتابخانه مدیریت فایل ها برای Vue3 میباشد.",
  "Create a new folder": "ایجاد پوشه جدید",
  "Create a new file": "ایجاد فایل جدید",
  "Are you sure you want to delete these files?": "آیا از حذف فایل ها مطمئن هستید ؟",
  "This action cannot be undone.": "این تغییرات قابل بازگشت نیست!",
  "Search results for" : "نتیجه جستجو برای",
  "item(s) selected.": "آیتم(های) انتخاب شده",
  "%s is renamed." : "تغییر نام برای %s صورت گرفت.",
  "This is a readonly storage." : "این فضا فقط قابل خواندن است!",
  "%s is created." : "%s ساخته شد!",
  "Files moved." : "فایل(ها) انقال یافتند.",
  "Files deleted." : "فایل(ها) حذف شدند.",
  "The file unarchived." : "فایل فشرده شده باز شد.",
  "The file(s) archived." : "فایل(ها) فشرده سازی شدند.",
  "Updated." : "آپدیت شد.",
  "No search result found." : "هیچ نتیجه ای یافت نشد.",
  "Are you sure you want to move these files?" : "آیا برای انتقال فایل ها مطمئن هستید ؟",
  "File Size": "سایز فایل",
  "Last Modified": "آخرین ویرایش",
  "Drag&Drop: on": "Drag&Drop: روشن",
  "Drag&Drop: off": "Drag&Drop: خاموش",
  "The selected file exceeds the maximum file size. You cannot upload files greater than %s": "حداکثر ظرفیت مجاز فایل %s میباشد! فایل شما بزرگتر از این مقدار میباشد."
}
`},Symbol.toStringTag,{value:"Module"})),Yd=Object.freeze(Object.defineProperty({__proto__:null,default:`{
  "Language": "שפה",
  "Create": "יצירה",
  "Close": "סגירה",
  "Cancel": "ביטול",
  "Save": "שמירה",
  "Edit": "עריכה",
  "Crop": "חיתוך",
  "New Folder": "תיקייה חדשה",
  "New File": "קובץ חדש",
  "Rename": "שינוי שם",
  "Delete": "מחיקה",
  "Upload": "העלאה",
  "Download": "הורדה",
  "Archive": "לדחוס",
  "Unarchive": "לחלץ",
  "Open": "פתיחה",
  "Open containing folder": "פתיחת מיקום קובץ",
  "Refresh": "רענון",
  "Preview": "תצוגה מקדימה",
  "Dark Mode": "עיצוב כהה",
  "Toggle Full Screen": "שינוי מצב מסך מלא",
  "Change View": "שינוי תצוגה",
  "Storage": "אחסון",
  "Go up a directory": "מעבר תיקייה אחת למעלה",
  "Search anything..": "חיפוש...",
  "Name": "שם",
  "Size": "גודל",
  "Date": "תאריך",
  "Filepath": "נתיב קובץ",
  "About": "אודות",
  "Folder Name": "שם התיקייה",
  "File Name": "שם הקובץ",
  "Move files": "העברת קבצים",
  "Are you sure you want to move these files to?": "האם בטוח להעביר קבצים אלה?",
  "Yes, Move!": "כן, להעביר!",
  "Delete files": "מחיקת קבצים",
  "Yes, Delete!": "כן, למחוק!",
  "Upload Files": "העלאת קבצים",
  "No files selected!": "לא נבחרו קבצים",
  "Select Files": "בחירת קבצים",
  "Archive the files": "דחיסת קבצים אלו",
  "Unarchive the files": "חילוץ קבצים אלו",
  "The archive will be unarchived at": "הארכיןם יוחלץ ל:",
  "Archive name. (.zip file will be created)": "שם הארכיון. (סיומת .zip תווסף)",
  "Vuefinder is a file manager component for vue 3.": "Vuefinder הינו רכיב מנהל קבצים עבור vue 3",
  "Create a new folder": "יצירת תיקייה חדשה",
  "Create a new file": "יצירת קובץ חדש",
  "Are you sure you want to delete these files?": "האם בטוח למחוק קבצים אלה?",
  "This action cannot be undone.": "לא ניתן לבטל פעולה זו.",
  "Search results for": "תוצאות חיפוש עבור",
  "item(s) selected.": "פריט(ים) נבחרו.",
  "%s is renamed.": "השם של %s השתנה.",
  "This is a readonly storage.": "זהו אחסון לקריאה בלבד.",
  "%s is created.": "%s נוצר",
  "Files moved.": "הקבצים הועברו.",
  "Files deleted.": "הקבצים נמחקו",
  "The file unarchived.": "הקבצים חולצו.",
  "The file(s) archived.": "הקובצים נדחסו.",
  "Updated.": "התעדכן",
  "No search result found.": "לא נמצאו תוצאות לחיפוש.",
  "Are you sure you want to move these files?": "האם בטוח להעביר קבצים אלו?",
  "File Size": "גודל קובץ",
  "Last Modified": "תאריך שינוי",
  "Drag&Drop: on": "מצב גרירה: פעיל",
  "Drag&Drop: off": "מצב גרירה: כבוי",
  "The selected file exceeds the maximum file size. You cannot upload files greater than %s": "הקובץ הנבחר חורג ממגבלת המקסימום של גודל קובץ. לא ניתן להעלות קובץ גדול מ-%s"
}
`},Symbol.toStringTag,{value:"Module"})),Zd=Object.freeze(Object.defineProperty({__proto__:null,default:`{
  "Language": "Язык",
  "Create": "Создать",
  "Close": "Закрыть",
  "Cancel": "Отмена",
  "Save": "Сохранить",
  "Edit": "Изменить",
  "Crop": "Обрезать",
  "New Folder": "Новая папка",
  "New File": "Новый файл",
  "Rename": "Переименовать",
  "Delete": "Удалить",
  "Upload": "Загрузить",
  "Download": "Скачать",
  "Archive": "Архивировать",
  "Unarchive": "Разархивировать",
  "Open": "Открыть",
  "Open containing folder": "Открыть расположение",
  "Refresh": "Обновить",
  "Preview": "Предпросмотр",
  "Dark Mode": "Тёмный режим",
  "Toggle Full Screen": "Полный экран",
  "Change View": "Изменить вид",
  "Storage" : "Хранилище",
  "Go up a directory": "Вверх",
  "Search anything..": "Поиск...",
  "Name": "Название",
  "Size": "Размер",
  "Date": "Дата",
  "Filepath": "Путь до файла",
  "About": "О компоненте",
  "Folder Name": "Название папки",
  "File Name": "Название файла",
  "Move files": "Переместить файлы",
  "Are you sure you want to move these files to?": "Вы уверены, что хотите переместить эти файлы в?",
  "Yes, Move!": "Переместить",
  "Delete files": "Удалить файлы",
  "Yes, Delete!": "Удалить",
  "Upload Files": "Загрузить файлы",
  "No files selected!": "Файлы не выбраны!",
  "Select Files": "Выбрать файлы",
  "Archive the files": "Архивировать файлы",
  "Unarchive the files": "Разархивировать файлы",
  "The archive will be unarchived at": "Архив будет разархивирован в",
  "Archive name. (.zip file will be created)": "Название архива. (будет создан .zip файл)",
  "Vuefinder is a file manager component for vue 3.": "Vuefinder - файловый менеджер, компонент для vue 3.",
  "Create a new folder": "Создать новую папку",
  "Create a new file": "Создать новый файл",
  "Are you sure you want to delete these files?": "Вы уверены, что хотите удалить эти файлы?",
  "This action cannot be undone.": "Это действия нельзя отменить.",
  "Search results for": "Результаты поиска по",
  "item(s) selected.": "выбраны.",
  "%s is renamed.": "%s переименован.",
  "This is a readonly storage.": "Данное хранилище только для чтения.",
  "%s is created.": "%s создан.",
  "Files moved.": "Файлы перемещены.",
  "Files deleted.": "Файлы удалены.",
  "The file unarchived.": "Файл разархивирован",
  "The file(s) archived.": "Файл(-ы) архивированы",
  "Updated.": "Обновлено.",
  "No search result found.": "Ничего не найдено",
  "Are you sure you want to move these files?": "Вы уверены, что хотите переместить эти файлы?",
  "File Size": "Размер файла",
  "Last Modified": "Последнее изменение",
  "Drag&Drop: on": "Drag&Drop: on",
  "Drag&Drop: off": "Drag&Drop: off"
}
`},Symbol.toStringTag,{value:"Module"})),Wd=Object.freeze(Object.defineProperty({__proto__:null,default:`{
  "Language": "Dil",
  "Create": "Oluştur",
  "Close": "Kapat",
  "Cancel": "İptal",
  "Save": "Kaydet",
  "Edit": "Düzenle",
  "Crop": "Kes",
  "New Folder": "Yeni Klasör",
  "New File": "Yeni Dosya",
  "Rename": "Yeniden Adlandır",
  "Delete": "Sil",
  "Upload": "Karşıya Yükle",
  "Download": "İndir",
  "Archive": "Arşivle",
  "Unarchive": "Arşivden çıkar",
  "Open": "Aç",
  "Open containing folder": "İçeren klasörü aç",
  "Refresh": "Yenile",
  "Preview": "Önizleme",
  "Dark Mode": "Karanlık Mod",
  "Toggle Full Screen": "Tam ekran",
  "Change View": "Görünümü değiştir",
  "Storage": "Depo",
  "Go up a directory": "Yukarı git",
  "Search anything..": "Herhangi bir şey ara..",
  "Name": "Ad",
  "Size": "Boyut",
  "Date": "Tarih",
  "Filepath": "Dosya yolu",
  "About": "Hakkında",
  "Folder Name": "Klasör Adı",
  "File Name": "Dosya Adı",
  "Move files": "Dosyaları taşı",
  "Are you sure you want to move these files to?": "Bu dosyaları taşımak istediğinizden emin misiniz?",
  "Yes, Move!": "Evet, Taşı!",
  "Delete files": "Dosyaları Sil",
  "Yes, Delete!": "Evet, Sil!",
  "Upload files": "Dosyaları Yükle",
  "No files selected!": "Dosya Seçilmedi!",
  "Select Files": "Dosyaları Seç",
  "Archive the files": "Dosyaları arşivleyin",
  "Unarchive the files": "Dosyaları arşivden çıkarın",
  "The archive will be unarchived at": "Arşiv buraya çıkarılacak: ",
  "Archive name. (.zip file will be created)": "Archive adı. (.zip dosyası oluşturulacak)",
  "Vuefinder is a file manager component for vue 3.": "Vuefinder, vue 3 için bir web dosya yönetim bileşenidir.",
  "Create a new folder": "Yeni bir klasör oluşturun",
  "Create a new file": "Yeni bir dosya oluşturun",
  "Are you sure you want to delete these files?": "Bu dosyaları silmek istediğinize emin misiniz?",
  "This action cannot be undone.": "Bu işlem geri alınamaz.",
  "Search results for": "Arama sonuçları:",
  "item(s) selected.": "dosya seçildi.",
  "%s is renamed." : "%s yeniden adlandırılmıştır.",
  "This is a readonly storage." : "Bu salt okunur bir depolama alanıdır.",
  "%s is created." : "%s başarıyla oluşturulmuştur.",
  "Files moved." : "Dosyalar taşındı.",
  "Files deleted." : "Dosyalar silindi.",
  "The file is unarchived." : "Dosya arşivden çıkarıldı.",
  "The file(s) is archived." : "Dosyalar arşivlendi.",
  "Updated." : "Güncellendi.",
  "No search result found." : "Arama sonucu bulunamadı.",
  "Are you sure you want to move these files?" : "Bu dosyaları taşımak istediğinize emin misiniz?",
  "File Size": "Dosya Boyutu",
  "Last Modified": "Son Değişiklik",
  "Drag&Drop: on": "Sürükle&Bırak: etkin",
  "Drag&Drop: off": "Sürükle&Bırak: devre dışı",
  "The selected file exceeds the maximum file size. You cannot upload files greater than %s": "Seçilen dosya maksimum dosya boyutunu aşıyor. %s'den büyük dosyaları yükleyemezsiniz."
}
`},Symbol.toStringTag,{value:"Module"}));return Hd});
